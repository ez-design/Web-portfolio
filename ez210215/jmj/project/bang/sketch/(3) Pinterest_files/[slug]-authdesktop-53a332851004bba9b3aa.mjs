(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["www/[username]/[slug]-authdesktop",15,36,"f06f654e5273bcad57d5351db3b657784f5be618",41,57,"aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6",61,"cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c",78,89,171,264,"PinRepEditButtonCommon","facebookEnsureInitForDesktop"],{"+HMQ":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("w70y");function r({board:{id:e,owner:t},children:n}){const{data:r,isLoaded:o}=Object(i.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),a=t.image_key||t.image_medium_url||t.image_small_url,s=[{name:t.full_name,src:a,href:`/${t.username}/`,isDim:!1}];return o&&r&&r.length>0&&r.forEach(e=>{s.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),n(s)}},"+c4W":function(e,t,n){var i=n("711d"),r=n("4/ic"),o=n("9ggG"),a=n("9Nap");e.exports=function(e){return o(e)?i(a(e)):r(e)}},"+ip3":function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var i=n("/MKj"),r=n("Ye/N"),o=n("qD10"),a=n("Sp3T"),s=n("yjg8"),c=n("U4JR"),d=n("n6mq"),l=n("nKUr");const u="AddPinRep";function h({ctaText:e,handleClick:t,height:n,iconSize:u,textSize:h}){const b=Object(i.useSelector)(e=>e.viewer),p=Object(a.a)();return Object(l.jsx)(d.e,{children:Object(l.jsx)(o.a,{onClick:()=>p(()=>{t&&t(),b.isPartner&&Object(c.b)(101,{component:0,element:10643})}),to:"/pin-builder/",children:Object(l.jsxs)(d.i,{children:[Object(l.jsx)(d.e,{alignItems:"center",color:"lightGray",display:"flex",fit:!0,height:n||s.e,justifyContent:"center",rounding:2,width:n||void 0,children:Object(l.jsx)(d.e,{color:"white",height:u||40,rounding:"circle",width:u||40,children:Object(l.jsx)(d.u,{accessibilityLabel:"",color:"red",icon:"add-circle",inline:!0,size:u||40})})}),Object(l.jsx)(d.e,{padding:2,children:Object(l.jsx)(d.Y,{color:"gray",size:h||"lg",weight:"bold",children:e||r.a._("Create Pin","label to open create pin modal","label to open create pin modal")})})]})})})}},"+jF9":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("pYMm"),o=n("fOPN"),a=n("LTlA"),s={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};t.default=function(e,t){void 0===e&&(e=s);var n=t.payload;switch(t.type){case r.BEGIN_DRAG:return i({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case r.PUBLISH_DRAG_SOURCE:return i({},e,{isSourcePublic:!0});case r.HOVER:return i({},e,{targetIds:n.targetIds});case o.REMOVE_TARGET:return-1===e.targetIds.indexOf(n.targetId)?e:i({},e,{targetIds:a.without(e.targetIds,n.targetId)});case r.DROP:return i({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case r.END_DRAG:return i({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},"+k3R":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]}},"+lzj":function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return b}));var i=n("fyR6"),r=n("vzKb");const o={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},a=()=>{o.longTaskDurations=[]},s=Object(i.a)(()=>o.elementTimings),c=()=>s.get(),d=e=>{e&&s.save(),o.elementTimings=[]},l=()=>o;let u=0;const h=()=>u,b=()=>{Object(r.a)({type:"element",buffered:!0},e=>{o.elementTimings=o.elementTimings.concat(e.getEntries().reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[]),[]))}),Object(r.a)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>o.longTaskDurations.push(e.duration))},()=>a()),Object(r.a)({type:"first-input",buffered:!0},(e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(o.firstInputDelay={startTime:n.startTime,endTime:n.processingStart}),t.disconnect()},()=>{o.firstInputDelay=null}),Object(r.a)({type:"largest-contentful-paint",buffered:!0},e=>{const t=e.getEntries(),n=t.length,i=t[n-1];i&&(u=n,o.largestContentfulPaint=i.renderTime||i.loadTime||null)}),Object(r.a)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(o.cumulativeLayoutShiftScore+=e.value)})})}},"+nTX":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("bxss"),r=n("n6mq"),o=n("nKUr");function a({anchor:e,children:t,idealDirection:n,onDismiss:a,paddingX:s,paddingY:c,size:d="lg"}){return Object(o.jsx)(r.e,{dangerouslySetInlineStyle:{__style:{zIndex:1e3}},display:"flex",flex:"grow",children:Object(o.jsx)(i.a,{anchor:e,idealDirection:null!=n?n:"down",onDismiss:a,positionRelativeToAnchor:!0,size:d,children:Object(o.jsx)(r.e,{direction:"column",display:"flex",flex:"grow",paddingX:null!=s?s:2,paddingY:c,role:"list",children:t})})})}},"+qOO":function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("4dcN"),r=n("eOdZ");function o(e){return r.a.create("BoardFollowResource",{board_id:e})}function a(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function s(e){const t="board-follow";return n=>{o(e).callCreate().then(()=>{i.a.trackEvent(t,"success")}).catch(()=>{i.a.trackEvent(t,"error"),n(a(e,!1))}),n(a(e,!0))}}function c(e){const t="board-unfollow";return n=>{o(e).callDelete().then(()=>{i.a.trackEvent(t,"success")}).catch(()=>{i.a.trackEvent(t,"error"),n(a(e,!0))}),n(a(e,!1))}}},"+wdc":function(e,t,n){var i,r,o,a;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,h=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(n){throw setTimeout(h,0),n}};i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var b=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,j=-1,v=5,O=0;t.unstable_shouldYield=function(){return t.unstable_now()>=O},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var y=new MessageChannel,x=y.port2;y.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();O=e+v;try{m(!0,e)?x.postMessage(null):(g=!1,m=null)}catch(n){throw x.postMessage(null),n}}else g=!1},i=function(e){m=e,g||(g=!0,x.postMessage(null))},r=function(e,n){j=b((function(){e(t.unstable_now())}),n)},o=function(){p(j),j=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<C(r,t)))break e;e[i]=t,e[n]=r,n=i}}function w(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>C(a,n))void 0!==c&&0>C(c,a)?(e[i]=c,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==c&&0>C(c,n)))break e;e[i]=c,e[s]=n,i=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],E=[],T=1,P=null,D=3,k=!1,B=!1,M=!1;function R(e){for(var t=w(E);null!==t;){if(null===t.callback)S(E);else{if(!(t.startTime<=e))break;S(E),t.sortIndex=t.expirationTime,_(I,t)}t=w(E)}}function A(e){if(M=!1,R(e),!B)if(null!==w(I))B=!0,i(L);else{var t=w(E);null!==t&&r(A,t.startTime-e)}}function L(e,n){B=!1,M&&(M=!1,o()),k=!0;var i=D;try{for(R(n),P=w(I);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"==typeof a){P.callback=null,D=P.priorityLevel;var s=a(P.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?P.callback=s:P===w(I)&&S(I),R(n)}else S(I);P=w(I)}if(null!==P)var c=!0;else{var d=w(E);null!==d&&r(A,d.startTime-n),c=!1}return c}finally{P=null,D=i,k=!1}}var N=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){B||k||(B=!0,i(L))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return w(I)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:T++,callback:n,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,_(E,e),null===w(I)&&e===w(E)&&(M?o():M=!0,r(A,a-s))):(e.sortIndex=c,_(I,e),B||k||(B=!0,i(L))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},"+wrf":function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("ViqK"),a=n("yaUg"),s=n("Ye/N"),c=n("v/Q4"),d=n("n6mq"),l=n("nKUr");function u({actionsDisabled:e,invite:t,isDim:n,onApprove:i,onDelete:r}){const u=Object(c.a)(),{access:h,status:b,invited_by_user:p,invited_user:f}=t,g=u.isAuth&&f.id===u.id,m=u.isAuth&&p.id===u.id,j=f.id===p.id,v="accepted"===b,O=h.includes("approve"),y=h.includes("delete"),x=s.a._("Approve","[button] approve another pinner's request to join the board as a collaborator","[button] approve another pinner's request to join the board as a collaborator"),_=((e,t,n)=>e?s.a._("Leave","[button] for a collaborator to leave a group board","[button] for a collaborator to leave a group board"):t&&!n?s.a._("Decline","[button] decline another pinner's request to join board as a collaborator","[button] decline another pinner's request to join board as a collaborator"):s.a._("Remove","[button] remove a collaborator from the board]","[button] remove a collaborator from the board]"))(g,j,v),w=y&&!O,S=y&&O,C=`/${f.username}/`;return Object(l.jsxs)(d.e,{children:[Object(l.jsx)(o.a,{imageUrl:f.image_medium_url||"",name:f.full_name,title:f.full_name,subtitle:((e,n,i)=>{const r=t.invited_by_user.full_name;return e?s.a._("That's you","subtext for current user who requested to join this board","subtext for current user who requested to join this board"):n?s.a._("Invited by you","subtext for a pending collaborator who was invited by the current viewer","subtext for a pending collaborator who was invited by the current viewer"):i?s.a._("Requested to join","The subtext that identifies a pending collaborator has personally requested to join the board","The subtext that identifies a pending collaborator has personally requested to join the board"):Object(a.a)(s.a._("Invited by {{ user_full_name }}","The subtext that identifies a pending collaborator who was invited to collaborate on the board","The subtext that identifies a pending collaborator who was invited to collaborate on the board"),{user_full_name:r})})(g,m,j),linkURL:C,isDim:void 0!==n?n:!v,accessory:w&&Object(l.jsx)(d.f,{inline:!0,disabled:e,onClick:r,text:_,size:"lg"})}),S&&Object(l.jsxs)(d.e,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end",children:[Object(l.jsx)(d.e,{paddingX:1,flex:"grow",width:"50%",children:Object(l.jsx)(d.f,{disabled:e,onClick:r,text:_,size:"lg"})}),Object(l.jsx)(d.e,{paddingX:1,flex:"grow",width:"50%",children:Object(l.jsx)(d.f,{color:"red",disabled:e,onClick:i,text:x,size:"lg"})})]})]})}var h=n("4dcN"),b=n("M1Uz"),p=n("ANjH"),f=n("L2iP"),g=n("ZE2w"),m=n("TgLd"),j=n("vvax");function v(e){const{onCancel:t,onRemove:n,useGestaltModal:i}=e,r=s.a._("Are you sure you want to leave this group board and remove it from your profile?"),o=i?d.F:m.b;return Object(l.jsx)(o,{accessibilityModalLabel:s.a._("Leave board?"),heading:s.a._("Leave board?"),onDismiss:t,size:"sm",footer:Object(l.jsxs)(d.e,{display:"flex",justifyContent:"end",children:[Object(l.jsx)(d.e,{paddingX:1,children:Object(l.jsx)(d.f,{inline:!0,onClick:t,text:s.a._("Cancel")})}),Object(l.jsx)(d.e,{paddingX:1,children:Object(l.jsx)(d.f,{color:"red",inline:!0,onClick:n,text:s.a._("Leave")})})]}),children:Object(l.jsx)(d.e,{padding:5,children:Object(l.jsx)(d.Y,{children:r})})})}class O extends i.Component{constructor(...e){var t,n,i;super(...e),i={shouldBlock:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}getBlockDescription(e,t){return"declineRequest"===e?t?Object(j.b)(s.a._("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.","decline another pinner's request to join board as a collaborator and block them","decline another pinner's request to join board as a collaborator and block them"),{invited_user_first_name:t}):s.a._("This will decline this person from joining this board and block them from subsequent collaboration requests.","message that explains consequences of declining a request to join board as a collaborator","message that explains consequences of declining a request to join board as a collaborator"):t?Object(j.b)(s.a._("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins."),{invited_user_first_name:t}):s.a._("This will remove this person, people they invited, and all their Pins.","message that explains consequences of removing a collaborator","message that explains consequences of removing a collaborator")}render(){const{removeType:e,firstName:t,fullName:n,onCancel:r,onRemove:o,onRemoveAndBlock:a,useGestaltModal:c}=this.props,u="declineRequest"===e?Object(j.b)(s.a._("Decline {{ invited_user_name }}?","[button] to decline a pinner's request to join a board as a collaborator","[button] to decline a pinner's request to join a board as a collaborator"),{invited_user_name:n}).join(""):Object(j.b)(s.a._("Remove {{ invited_user_name }}?","[button] to remove a pinner as a collaborator from a group board","[button] to remove a pinner as a collaborator from a group board"),{invited_user_name:n}).join(""),h=s.a._("This will keep them from saving Pins to this board. You can also:","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user."),b=this.getBlockDescription(e,t),p=this.state.shouldBlock?s.a._("Block","block another pinner after denying their request to collaborate on a board","block another pinner after denying their request to collaborate on a board"):s.a._("Remove","decline another pinner's request to collaborate on a board","decline another pinner's request to collaborate on a board"),f=Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(d.e,{padding:5,children:Object(l.jsx)(d.Y,{children:h})}),Object(l.jsx)(d.o,{}),Object(l.jsxs)(d.e,{padding:5,display:"flex",children:[Object(l.jsx)(d.e,{paddingX:1,children:Object(l.jsx)(d.j,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState({shouldBlock:!this.state.shouldBlock})})}),Object(l.jsx)(d.e,{paddingX:1,children:Object(l.jsxs)(d.x,{htmlFor:"banUser",children:[Object(l.jsx)(d.Y,{weight:"bold",children:Object(j.b)(s.a._("Block {{ name }}"),{name:t||""})}),Object(l.jsx)(d.Y,{size:"md",children:b})]})})]})]}),g=c?d.F:m.b;return Object(l.jsx)(g,{accessibilityModalLabel:u,heading:u,onDismiss:r,size:"sm",footer:Object(l.jsxs)(d.e,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[Object(l.jsx)(d.e,{paddingX:1,children:Object(l.jsx)(d.f,{inline:!0,onClick:r,text:s.a._("Cancel")})}),Object(l.jsx)(d.e,{paddingX:1,children:Object(l.jsx)(d.f,{color:"red",inline:!0,onClick:this.state.shouldBlock?a:o,text:p})})]}),children:f})}}var y=n("nGHF");function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),x(this,"state",{currentModal:null,loading:!1}),x(this,"showRemoveSuccessToast",()=>{const{toastManagerContext:e}=this.props,t=s.a._("Collaborator removed","BoardCollabInviteCellContainer.toast","Toast for removing a collaborator from a board");e.showOneToast(({onHide:e})=>Object(l.jsx)(b.a,{duration:3e3,onHide:e,text:t}))}),x(this,"onDelete",()=>{const{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})}),x(this,"onApprove",()=>{const{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally(()=>{this.setState({loading:!1})})}),x(this,"deleteBoardInvite",(e=!1)=>{const{deleteBoardCollabInvite:t,onBoardLeave:n,onInviteDidUpdate:i}=this.props,r=this.isViewerInvitedUser,o=r?"collaborator_decline_invite":"collaborator_delete_invite";h.a.trackEvent(o,"click"),this.setState({currentModal:null,loading:!0}),t(r,e).then(()=>{h.a.trackEvent(o,"success"),i(),this.showRemoveSuccessToast(),r&&n()}).catch(()=>{h.a.trackEvent(o,"error")}).finally(()=>{this.setState({loading:!1})})}),x(this,"handleDeleteBoardInvite",()=>{this.deleteBoardInvite(!1)}),x(this,"handleDeleteBoardInviteAndBan",()=>{this.deleteBoardInvite(!0)}),x(this,"handleHideModal",()=>{this.setState({currentModal:null})})}get isViewerInvitedUser(){const{viewer:e,invite:{invited_user:t}}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){const{invite:{invited_user:e,invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){const{invite:{invited_user:e},useGestaltModal:t=!1}=this.props,{currentModal:n}=this.state;return"delete"===n?this.isViewerInvitedUser?Object(l.jsx)("div",{style:{position:"absolute",zIndex:f.h+1},children:Object(l.jsx)(v,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})}):Object(l.jsx)("div",{style:{position:"absolute",zIndex:f.h+1},children:Object(l.jsx)(O,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:t})}):null}render(){const{invite:e,isDim:t}=this.props,{loading:n}=this.state;return Object(l.jsxs)(d.e,{children:[Object(l.jsx)(u,{invite:e,isDim:t&&"accepted"!==e.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:n}),this.renderCurrentModal()]})}}t.a=Object(p.compose)(Object(r.connect)(({viewer:e})=>({viewer:e}),(e,t)=>{const{invite:n,invite:{invited_user:{id:i},board:{id:r}}}=t;return{approveBoardCollabInvite:()=>e(Object(g.a)(r,i)),deleteBoardCollabInvite:(t,i)=>e(Object(g.b)(n,t,i))}}),y.c)(_)},"+zF7":function(e,t,n){var i=n("LqyK"),r=n("x12c"),o=n("eOdZ"),a=n("G35+"),s=n("dwea"),c=n("mBfy");function d(){}Object.assign(d.prototype,{handleConnect(e,t,n){if(t&&!c.default.isLimitedLogin()){const r={success:function(i){const r={network:e,data:i};this._internalConnectNetwork(t,r,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?r.windowOptions="width=600,height=800":"instagram"===e?r.windowOptions=i.default.getWindowOptions(580,580):"etsy"===e?r.windowOptions=i.default.getWindowOptions(580,775):"youtube"===e&&(r.windowOptions=i.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,r)}else{const i={network:e};this._internalConnectNetwork(t,i,n)}},updateConnectStatus(){o.a.create("UserResource",{user_id:c.default.get("id"),username:c.default.get("username"),field_set_key:"social_connect"}).callGet().then(e=>{const t=e.resource_response.data;c.default.set(t),r.a.instance.publish("currentUser","socialNetworkUpdated",t)})},_externalConnectNetwork(e,t,n){t?a.a.instance().connect(e,n):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const i=o.a.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then(e=>{this.updateConnectStatus(),n.success&&n.success(e)},e=>{n.error&&e instanceof Object&&n.error(e)}).finally(()=>{n.complete&&n.complete()})},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case a.a.FACEBOOK:t="UserFacebookFriendsResource";break;case a.a.TWITTER:t="UserTwitterFriendsResource";break;case a.a.GOOGLE:t="UserGmailFriendsResource";break;case a.a.MICROSOFT:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const r=o.a.create(i,n);r.callGet({showError:!1}).then(()=>{const e=t.success;e&&e(r)},n=>{if(110===n.api_error_code)s.a.setTimeout(()=>{this.pollForFriends(e,t)},1e3);else{const e=t.error;e&&e()}})}});let l=null;d.instance=function(){return l||(l=new d),l},t.a=d},"/5qN":function(e,t,n){n.d(t,"a",(function(){return m}));var i=n("q1tI"),r=n("Ye/N"),o=n("rYoy"),a=n("M1Uz"),s=n("nGHF"),c=n("n6mq"),d=n("nKUr");const l=Object(i.lazy)(()=>n.e("ReactCopyToClipboardLibrary").then(n.t.bind(null,"P5Jw",7)));function u({linkURL:e,onDidFocus:t,onDidClickCopyButton:n}){const{showOneToast:i}=Object(s.b)(),u=r.a._("Copy link","[button] copy a URL link shown, to paste in another place","[button] copy a URL link shown, to paste in another place");return Object(d.jsxs)(c.e,{display:"flex",alignItems:"center",paddingX:4,children:[Object(d.jsx)(c.e,{flex:"grow",marginEnd:2,children:Object(d.jsx)(c.ab,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),Object(d.jsx)(o.a,{fallback:Object(d.jsx)(c.f,{inline:!0,text:u,disabled:!0}),children:Object(d.jsx)(l,{text:e,onCopy:(e,t)=>{t&&i(({onHide:e})=>Object(d.jsx)(a.a,{onHide:e,text:r.a._("Link copied to clipboard!","toast message to confirm if users copied the url successfully","toast message to confirm if users copied the url successfully")})),n()},children:Object(d.jsx)(c.f,{inline:!0,text:u,size:"lg"})})})]})}var h=n("mvLR"),b=n("oVol"),p=n("U4JR"),f=n("udob");const g=e=>({invite_category:4,invite_channel:12,object_type:b.a.BOARD,object_id:e});function m({boardId:e}){const[t,n]=Object(i.useState)(!1),[r,o]=Object(i.useState)(null);Object(i.useEffect)(()=>{if(!r){const t=g(e),{cancel:n,promise:i}=Object(h.a)(f.a.createShareInviteData(t));return i.then(e=>o(e)),()=>{n()}}},[]);const a=r?r.invite_url:"...",s=()=>{null===r||t||(n(!0),f.a.logShareInvite(g(e),r))};return Object(d.jsx)(u,{linkURL:a,onDidClickCopyButton:()=>{Object(p.b)(101,(e=>({component:13305,element:10921,objectId:e,view:5,viewParameter:3059}))(e)),s()},onDidFocus:s})}},"/9aa":function(e,t,n){var i=n("NykK"),r=n("ExA7");e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},"/Ecc":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("bVT4");t.isFirefox=i.memoize((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=i.memoize((function(){return Boolean(window.safari)}))},"/MAO":function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("FDmi"),a=n("TSYQ"),s=n.n(a),c=n("pSwN"),d=n("qD10"),l=n("n6mq"),u=n("ZVOf"),h=n("U4JR"),b=n("nKUr");t.a=Object(r.connect)(null,(function(e){return{follow:t=>e(Object(u.a)(t)),unfollow:t=>e(Object(u.c)(t))}}))((function({className:e,follow:t,isSelf:n,logData:r,showName:a=!1,showFollow:u=!1,size:p="small",subtitle:f="",title:g,unfollow:m,user:j={}}){const[v,O]=Object(i.useState)(j.explicitly_followed_by_me||!1),{full_name:y,username:x}=j,_=j.image_key||j.image_medium_url||j.image_small_url;return Object(b.jsx)("div",{className:s()("Module","User","hasText","thumb",p,e),children:Object(b.jsxs)(l.e,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[Object(b.jsx)(l.e,{flex:"grow",paddingX:1,children:Object(b.jsx)(d.a,{className:"profileSource",to:`/${x}/`,children:Object(b.jsxs)(l.e,{display:"flex",children:[Object(b.jsx)("div",{className:"thumbImageWrapper",children:Object(b.jsx)(o.a,{name:y,src:_,size:"fit"})}),g&&Object(b.jsx)("h3",{className:"title",children:g}),a&&Object(b.jsx)("h4",{className:"fullname",children:y}),f&&Object(b.jsx)("div",{className:"subtitle",children:f})]})})}),u&&Object(b.jsx)(l.e,{paddingX:1,children:Object(b.jsx)(c.a,{handleFollowClick:()=>{v?(m(j.id),O(!1)):(t(j.id),O(!0)),r&&Object(h.b)(101,r)},isFollowing:v,isSelf:Boolean(n)})})]})})}))},"/WHw":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),r=n("/MKj"),o=n("JW66"),a=n("Ye/N"),s=n("5FNA"),c=n("Wer7"),d=n("vvax"),l=n("ANjH"),u=n("oN2T"),h=n("c50B"),b=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t,n;return n=t=class extends i.Component{constructor(...e){super(...e),p(this,"state",{createBoardError:null,inputName:this.props.prefilledName||"",nameValidators:[Object(h.o)({message:a.a._("Don't forget to name your board!")}),Object(h.j)({max:o.a.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:Object(d.b)(a.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a user input is too long","Validation error when a user input is too long"),{maxLength:o.a.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],nameValidatorErrors:[],privacy:this.props.isAdAccountOwner?o.a.BoardPrivacy.PUBLIC:o.a.BoardPrivacy.PROTECTED,saving:!1}),p(this,"invalidateResource",e=>{const{dispatch:t,viewer:n}=this.props;t(Object(c.f)("BoardsResource",Object(s.a)(n.isAuth?n.username:"",e===o.a.BoardPrivacy.SECRET)))}),p(this,"createBoard",e=>{const{dispatch:t,viewer:n}=this.props;return t(Object(u.g)(e,{isFBC:n.isAuth&&0===n.boardCount}))}),p(this,"handleChangeName",(e,t)=>{const n=Object(h.r)(this.state.nameValidators,e);this.setState({inputName:e,nameValidatorErrors:n,createBoardError:null},()=>{t&&this.handleCreate()})}),p(this,"handleChangePrivacy",()=>{const e=this.state.privacy===o.a.BoardPrivacy.SECRET?o.a.BoardPrivacy.PUBLIC:o.a.BoardPrivacy.SECRET;this.setState({privacy:e})}),p(this,"handleCreate",()=>{const{inputName:e,privacy:t}=this.state,{isAdAccountOwner:n,onCreate:i,advertiser_id:r}=this.props,o={privacy:t,name:e,...!n&&r?{advertiser_id:r}:{}};this.setState({saving:!0,createBoardError:null}),this.createBoard(o).then(e=>{this.setState({saving:!1}),i(e)}).catch(e=>{let t=a.a._("Uh oh! Something went wrong.");if("string"==typeof e)t=e;else if(e.message){const{message:n,message_detail:i}=e;t=i?`${n} ${i}`:n}this.setState({saving:!1,createBoardError:t})}),this.invalidateResource(t)})}render(){return Object(b.jsx)(e,{onBoardCreate:this.handleCreate,onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy,...this.props,...this.state})}},p(t,"displayName",`WithBoardCreatePane(${e.displayName||e.name})`),n}function g({advertiser:e,viewer:t}){const n=!e||t.isAuth&&e.owner_user_id===t.id,i=e&&e.id;return{isAdAccountOwner:n,...i?{advertiser_id:i}:{},viewer:t}}function m(e){return{dispatch:e}}function j(e){return Object(l.compose)(Object(r.connect)(g,m),f)(e)}},"/X16":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i={USER_FOLLOW:"USER_FOLLOW"},r={USER_BLOCK:"USER_BLOCK"}},"/ZYE":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),r=n("493B");t.useMonitorOutput=function(e,t,n){var o=r.useCollector(e,t,n),a=o[0],s=o[1];return i.useEffect((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),a}},"/acK":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),r=n("SFi7"),o=n("2S0S");t.useDragDropManager=function(){var e=i.useContext(r.context).dragDropManager;return o(null!=e,"Expected drag drop context"),e}},"/kAC":function(e,t,n){var i=n("3cYt")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=i},"/mzO":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("Ye/N"),r=n("n6mq"),o=n("nKUr");function a({commentsDisabled:e,onCommentChange:t,onPhotoChange:n,photosDisabled:a,isManagedView:s,isNoTitle:c}){const d=s?6:c?0:3;return Object(o.jsxs)(r.e,{children:[!c&&Object(o.jsx)(r.o,{}),Object(o.jsxs)(r.e,{mdDisplay:"flex",justifyContent:"between",paddingX:s?0:4,paddingY:d,children:[!s&&!c&&Object(o.jsx)(r.e,{column:12,mdColumn:3,paddingY:2,children:Object(o.jsx)(r.Y,{size:"md",children:i.a._("Comment and Photo Permissions")})}),Object(o.jsxs)(r.e,{column:12,mdColumn:s?12:8,children:[Object(o.jsxs)(r.e,{paddingY:1,display:"flex",alignItems:"center",children:[Object(o.jsx)(r.T,{onChange:t,id:"CommentSwitch",switched:!e}),Object(o.jsx)(r.e,{paddingX:2,children:Object(o.jsx)(r.x,{htmlFor:"CommentSwitch",children:Object(o.jsx)(r.Y,{size:"md",children:i.a._("Allow people to comment","Label for toggling comments on a pin in pin edit form","Label for toggling comments on a pin in pin edit form")})})})]}),n&&Object(o.jsxs)(r.e,{paddingY:1,alignItems:"center",display:"flex",children:[Object(o.jsx)(r.T,{onChange:n,id:"PhotoSwitch",switched:!a}),Object(o.jsx)(r.e,{paddingX:2,children:Object(o.jsx)(r.x,{htmlFor:"PhotoSwitch",children:Object(o.jsx)(r.Y,{size:"md",children:i.a._("Allow people to upload photos","Label for toggling photos on a pin in pin edit form","Label for toggling photos on a pin in pin edit form")})})})]})]})]})]})}},"/ySb":function(e,t,n){n.r(t),n.d(t,"default",(function(){return m}));var i=n("/MKj"),r=n("Q59z"),o=n("Ye/N"),a=n("ypm9"),s=n("ZdPf"),c=n("juW8"),d=n("RNo4"),l=n("n6mq"),u=n("EC67"),h=n("nKUr");function b({boardResource:{data:e,refreshData:t}}){const n=null==e?void 0:e.id,b=Object(i.useSelector)(e=>n&&(e.boards.content||{})[n])||null,{search:p,state:f}=Object(u.i)();if(Object(a.a)(),!b)return Object(h.jsx)(l.R,{accessibilityLabel:o.a._("Loading Board page","ExperimentalBoardPageContainer.Spinner","Accessibility label on loading spinner"),show:!0});const g=null==f?void 0:f.newBoard,m=Object(s.d)(null==e?void 0:e.sensitivity),j=g&&!m&&null!=e&&e.should_show_more_ideas?c.a.jumpstartBoard:null,v=Object(d.k)(p);return Object(h.jsx)(r.a,{board:b,initialModalType:j,refreshBoardData:t,showPulsar:Boolean(v.showPulsar)})}var p=n("EyTA"),f=n("v/Q4"),g=n("75Er");function m(){const e=Object(f.a)(),{username:t}=Object(u.j)(),n=e.isAuth&&e.username===t;Object(g.b)({view_type:5,view_parameter:n?3069:3070});const i=Object(p.a)({name:"BoardResource",getOptions:({routeData:{params:{slug:e,username:t}}})=>({username:t,slug:unescape(e||""),field_set_key:"detailed"})});return Object(h.jsx)(b,{boardResource:i})}},"0/lc":function(e,t,n){n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("eOdZ"),r=n("62cf");function o(e){const{updateUserData:t}=e,n={};let o=null;if(t.gender&&[r.d,r.e].includes(t.gender)?n.gender=t.gender:t.custom_gender&&(n.customGender=t.custom_gender,n.gender=r.i),t.age?n.age=t.age:t.birthdate&&(n.birthdate=t.birthdate),t.locale&&(n.locale=t.locale),t.country&&(n.country=t.country),t.business_vertical&&(n.businessVertical=t.business_vertical),t.business_vertical_other&&(n.businessVerticalOther=t.business_vertical_other),t.number_employees&&(n.numberEmployees=t.number_employees),t.first_name&&(n.firstName=t.first_name),t.last_name&&(n.lastName=t.last_name),t.full_name&&(n.fullName=t.full_name),t.parent_email&&(n.parentEmail=t.parent_email),t.website_url&&(n.websiteUrl=t.website_url),void 0!==t.allow_analytic_cookies&&(n.allow_analytic_cookies=t.allow_analytic_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_marketing_cookies=t.allow_marketing_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_personalization_cookies=t.allow_personalization_cookies),t.advertising_intent||t.business_name||t.account_type||t.business_goals||t.selected_ecommerce_platforms||t.enable_profile_message||t.enable_profile_address){const{account_type:e,advertising_intent:n,business_name:i,business_goals:r,enable_profile_message:a,enable_profile_address:s,selected_ecommerce_platforms:c}=t;o={...n?{advertising_intent:n}:{},...e?{account_type:e}:{},...i?{business_name:i}:{},...r?{business_goals:r}:{},...a?{enable_profile_message:a}:{},...s?{enable_profile_address:s}:{},...c?{selected_ecommerce_platforms:c}:{}}}o&&(n.partner=o,o.business_name&&(n.firstName=o.business_name));const a=i.a.create("UserSettingsResource",t).callUpdate();return function(e,t){return a.then(t=>(e({type:"UPDATE_USER_SET",payload:n}),t))}}function a(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:{firstHomeFeedRequestAfterNux:e}}}function s(e,t){return n=>{i.a.create("UserStateResource",{state:e,value:t}).callCreate()}}function c(e,t=""){return n=>i.a.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}function d(e){return t=>i.a.create("OrientationContextResource",e).callCreate()}},"078/":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));const i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","STLProductsFeed","RelatedProductsFeed","ShoppingSquareGridRelatedProducts","UserProfilePinGrid"],o=[...r,"ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridRelatedProductsMetadata","ProductPinsFeed","ShoppingSquareGridCrop","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],a=["BaseBoardPinGrid"]},"0BOE":function(e,t,n){n.d(t,"a",(function(){return o}));const i={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},r=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=i[e.charAt(n)]||e.charAt(n);return t},o=(e,t,n="name")=>{const i=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),i=e.split(" ");let o=0;for(let a=0;a<i.length;a+=1)(r(i[a]).includes(n[o])||i[a].includes(n[o]))&&(o+=1);return o===n.length})(e[n].toLowerCase(),i))}},"0G5S":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));const i=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},r=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},o=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},"0K1N":function(e,t,n){t.a=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},"0NP8":function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("Ye/N"),r=n("oRao"),o=n("n6mq"),a=n("nKUr");const s=({bold:e=!1,count:t,shortform:n=!1,size:i="md",text:s})=>Object(a.jsx)(o.e,{children:Object(a.jsxs)(o.Y,{align:"center",size:i,color:"darkGray",weight:e?"bold":"normal",children:[Object(a.jsx)(r.a,{value:t,shortform:n})," ",s]})}),c=({bold:e,count:t,onClick:n,shortform:r,size:c})=>Object(a.jsx)(o.e,{children:Object(a.jsx)(o.X,{onTap:n,children:Object(a.jsx)(s,{bold:e,count:t,shortform:r,size:c,text:i.a.ngettext("follower","followers",t,"label for n follower(s)","label for n follower(s)")})})}),d=({count:e,size:t})=>{const n=i.a.ngettext("Pin","Pins",e,"label for n board section(s)","label for n board section(s)");return Object(a.jsx)(o.e,{children:Object(a.jsxs)(o.Y,{inline:!0,size:t,color:"darkGray",children:[!!e&&Object(a.jsx)(r.a,{value:e})||"0"," ",n]})})}},"0Rm8":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const r=n("NwjN").a;function o({children:e}){return e(Object(i.useContext)(r))}function a(){return Object(i.useContext)(r)}},"0ZL5":function(e,t,n){var i=n("c4Fo"),r=n("6CFY"),o=n("nKUr");t.a=({anchors:e,idealDirection:t,onCompleteByAnchor:n,placementId:a,positionRelativeToAnchor:s,touchToDismiss:c,useMasonryFlyout:d})=>Object(o.jsx)(i.a,{placementId:a,predicate:t=>{const{display_data:n}=t;if(2===(null==n?void 0:n.component_type)){const{anchors_by_platform:t}=n;if(null!=t&&t.web){const{anchor:n,placement:i}=t.web;return i===a&&n in e}}return!1},children:({complete:i,dismiss:a,display_data:l})=>Object(o.jsx)(r.a,{anchors:e,complete:i,dismiss:a,displayData:l,idealDirection:t,onCompleteByAnchor:n,platform:"web",positionRelativeToAnchor:s,touchToDismiss:c,useMasonryFlyout:d})})},"0rqB":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),r=n("clxp"),o=n("n6mq"),a=n("nKUr");function s({children:e,group:t,isEligible:n,name:i,performsActivate:r}){let s=r?"#0f0":"#00f";return n||(s="#999"),Object(a.jsxs)(o.e,{position:"relative",children:[e,Object(a.jsx)(o.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 2px 2px "+s,borderRadius:5}}}),Object(a.jsxs)(o.e,{position:"absolute",top:!0,left:!0,color:"lightGray",children:[i,": ",t]})]})}var c=n("NVsV");const d=Object(i.memo)(({activate:e=!0,activateExperiment:t,isEligible:n=!0,name:o,group:c,overrideGroup:d=null,highlighted:l=!1,children:u})=>{Object(i.useEffect)(()=>{e&&n&&t&&t(o)},[]);const h=()=>"string"==typeof d?d:c,b=h(),p=`Experiment(${o}:${b})`,f=n&&b&&(b.startsWith("enabled")||b.startsWith("employee"))||!1,g={group:n?b:"",anyEnabled:f,customActivate:n&&!e?()=>n?t(o):"":null};return(t=>{const i=h();return l?Object(a.jsx)(s,{group:i,isEligible:n,name:o,performsActivate:e,children:t}):t})(Object(a.jsx)(r.a,{name:p,children:u(g)}))});function l(e){const{name:t}=e,{debuggingEnabled:n,overriddenExperiments:r,highlightedExperiment:o,setExperimentVisible:s}=Object(i.useContext)(c.c),l=n&&r&&"string"==typeof r[t]?r[t]:null,u=n&&(o===t||o===c.a);return Object(i.useEffect)(()=>{if(n)return s(t,!0),()=>s(t,!1)},[t,n]),Object(a.jsx)(d,{...e,overrideGroup:l,highlighted:u})}},"0rqM":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("Ye/N"),r=n("TgLd"),o=n("n6mq"),a=n("nKUr");function s({cancelButtonLabel:e,confirmButtonLabel:t,heading:n,message:s,onCancel:c,onConfirm:d}){const l=n||i.a._("Are you sure?"),u=e||i.a._("Cancel");return Object(a.jsx)(r.b,{accessibilityModalLabel:l,footer:Object(a.jsxs)(o.e,{marginEnd:-1,marginStart:-1,children:[Object(a.jsx)(o.e,{"data-test-id":"cancel-button",padding:1,children:Object(a.jsx)(o.f,{onClick:c,size:"lg",text:u})}),Object(a.jsx)(o.e,{"data-test-id":"confirm-button",padding:1,children:Object(a.jsx)(o.f,{color:"red",onClick:d,size:"lg",text:t})})]}),heading:l,onDismiss:c,role:"alertdialog",children:Object(a.jsx)(o.e,{padding:4,children:Object(a.jsx)(o.Y,{children:s})})})}},"0yL5":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("+nTX"),o=n("n6mq"),a=n("E2hd"),s=n("nKUr");function c({bgColor:e,children:t,icon:n,label:c,size:d}){const l=Object(i.useRef)(null),[u,h]=Object(i.useState)(!1),b=()=>h(!1);return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(o.e,{ref:l,children:Object(s.jsx)(a.a,{accessibilityLabel:c,bgColor:e,icon:n,onClick:()=>h(!u),selected:u,size:d})}),u&&Object(s.jsx)(r.a,{anchor:l.current,onDismiss:b,children:t({handleClose:b})})]})}},"1+5i":function(e,t,n){var i=n("w/wX"),r=n("sEf8"),o=n("mdPL"),a=o&&o.isSet,s=a?r(a):i;e.exports=s},"1IOU":function(e,t,n){String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},"1LK5":function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},"1Nkp":function(e,t,n){var i=n("kmwA"),r=n("28DW");const o={scope:"profile email",client_id:i.a.settings.GPLUS_CLIENT_ID,app_package_name:i.a.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},a=e=>(Object(r.a)("unauth_web.gapi_auth2_load.success"),e()),s=e=>{Object(r.a)("unauth_web.init_google.sdk."+e)};t.a=(e=o)=>new Promise((t,n)=>{s("start"),window.gapi.auth2?(s("exists"),window.gapi.auth2.init(e).then(()=>a(t))):(s("load"),window.gapi.load("auth2",{callback:()=>{s("load_success"),window.gapi.auth2.init(e).then(()=>a(t))},onerror:()=>{s("load_error"),n()},timeout:15e3,ontimeout:()=>{s("load_timeout"),n()}}))})},"1RGD":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("Ye/N"),o=n("vvax"),a=n("n6mq"),s=n("nKUr");function c({header:e,onUpdate:t,value:n}){const[c,d]=Object(i.useState)(n?String(Math.floor(Number.parseInt(n,10)/60)):"0"),[l,u]=Object(i.useState)(n?String(Number.parseInt(n,10)%60):"0"),h=(e,n)=>{t(String(Number.parseInt(n,10)+60*Number.parseInt(e,10)))},b=[];for(let i=0;i<=9;i+=1)b.push({value:String(i),label:Object(o.b)(r.a.ngettext("{{ hours }} hour","{{ hours }} hours",i,"storyboard.detailsList.recipe","Option for number of hours a story pin recipe will take"),{hours:i}).join("")});const p=[];for(let i=0;i<60;i+=1)p.push({value:String(i),label:Object(o.b)(r.a.ngettext("{{ minutes }} minute","{{ minutes }} minutes",i,"storyboard.detailsList.recipe","Option for number of minutes a story pin recipe will take"),{minutes:i}).join("")});return Object(s.jsxs)(a.e,{width:"100%",display:"flex",alignItems:"end",children:[Object(s.jsx)(a.e,{width:"50%",marginEnd:2,children:Object(s.jsx)(a.P,{size:"lg",id:"hours",name:"hours",label:e,placeholder:r.a._("Hours","storyboard.detailsList.recipe","Placeholder caption for hours input in story pin recipe cooktime"),value:c,options:b,onChange:({value:e})=>{Number.isNaN(e)||(d(e),h(e,l))}})}),Object(s.jsx)(a.e,{width:"50%",marginStart:2,children:Object(s.jsx)(a.P,{size:"lg",id:"minutes",name:"minutes",placeholder:r.a._("Minutes","storyboard.detailsList.recipe","Placeholder caption for minutes input in story pin recipe cooktime"),value:l,options:p,onChange:({value:e})=>{Number.isNaN(e)||(u(e),h(c,e))}})})]})}},"1YNZ":function(e,t,n){var i=n("q1tI"),r=n("c4Fo"),o=n("M1Uz"),a=n("U4JR"),s=n("nKUr");var c=e=>Object(s.jsx)(r.a,{experienceIds:e.experienceIds,placementId:e.placementId,type:10,children:({complete:t,dismiss:n,display_data:i})=>{const r=i.link||e.linkUrl;return Object(s.jsx)(o.a,{duration:i.duration,href:r,text:i.text,onClick:()=>{t(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&Object(a.b)(101,{objectId:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?t():n()}})}}),d=n("nGHF");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=2e3;class h extends i.Component{constructor(...e){super(...e),l(this,"componentDidMount",()=>{const{delay:e=u}=this.props;this.experienceToastsTimeout=window.setTimeout(()=>this.triggerEducationToasts(),e)})}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){const{toastManagerContext:e,completionOnDismissal:t,placementId:n,experienceIds:i}=this.props;e.showOneToast(({onHide:e})=>Object(s.jsx)(c,{experienceIds:i,completionOnDismissal:t,onHide:e,placementId:n,shouldLogClicks:!1}))}render(){return null}}l(h,"defaultProps",{completionOnDismissal:!1});t.a=Object(d.c)(h)},"1dBE":function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("q1tI"),r=n("nKUr");function o(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:n+"Context",t){return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}function a(e,t){const n=Object(i.createContext)(t),{messageDisplayName:r}=o(e);n.displayName=r;const a=n.Provider,s=({children:e})=>{const t=Object(i.useContext)(n);if(void 0===t)throw new Error(`${r}Consumer must be used within a ${r}Provider.`);return e(t)};return a.displayName=r+"Provider",s.displayName=r+"Consumer",{Provider:a,Consumer:s,useHook:function(){const e=Object(i.useContext)(n);if(void 0===e)throw new Error(`use${r} must be used within a ${r}Provider.`);return e}}}function s(e){const t=Object(i.createContext)(),{propsDisplayName:n,messageDisplayName:a}=o(e);t.displayName=a;const s=t.Provider;function c(s){const{hocDisplayName:c}=o(e,String(s.displayName||s.name)),d=e=>{const o=Object(i.useContext)(t);if(void 0===o)throw new Error(`${c} must be used within a ${a}Provider.`);if(e[n])throw new Error("Parent Component and Context are passing to the component the same variables.");const d={[n]:o};return Object(r.jsx)(s,{...e,...d})};return d.displayName=c,d}const d=({children:e})=>{const n=Object(i.useContext)(t);if(void 0===n)throw new Error(`${a}Consumer must be used within a ${a}Provider.`);return e(n)};return c.displayName=a+"HOC",s.displayName=a+"Provider",d.displayName=a+"Consumer",{Provider:s,Consumer:d,useHook:function(){const e=Object(i.useContext)(t);if(void 0===e)throw new Error(`use${a} must be used within a ${a}Provider.`);return e},HOC:c}}function c(e){const t=Object(i.createContext)(),{propsDisplayName:n,messageDisplayName:a}=o(e);t.displayName=a;const s=t.Provider;function c(a){const{hocDisplayName:s}=o(e,String(a.displayName||a.name)),c=e=>{const o=Object(i.useContext)(t),s={[n]:o};return Object(r.jsx)(a,{...e,...s})};return c.displayName=s,c}const d=t.Consumer;return c.displayName=a+"HOC",s.displayName=a+"Provider",{Provider:s,Consumer:d,useHook:()=>Object(i.useContext)(t),HOC:c}}},"1inl":function(e,t,n){var i=n("Te9D"),r=n.n(i);const o={};o._showErrorCallback=o._showErrorCallback||null,o.setShowHtmlErrorCallback=function(e){o._showErrorCallback=e},o.showError=function(e,t,n){const i=r()(e);return o.showHtmlError(i,t,n)},o.showHtmlError=function(e,t,n){"function"==typeof o._showErrorCallback&&o._showErrorCallback(e,t,n)},t.a=o},"1tpI":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.isDisposed=!1}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}},e}();t.SerialDisposable=i},"2K7C":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yweb"),r=n("n6mq"),o=n("nKUr");function a(){const e=Object(i.b)();return Object(o.jsx)(r.e,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(o.jsx)(r.R,{accessibilityLabel:e._("Loading editor","EditorWithMentionsFallback.loading","Message shown while waiting for the editor to load"),show:!0})})}},"2S0S":function(e,t,n){e.exports=function(e,t,n,i,r,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,r,o,a,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return d[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},"2WXK":function(e,t,n){var i=n("q1tI");let r=null,o=!1,a=0;const s=()=>{r&&clearTimeout(r),o=!0,r=setTimeout(()=>{o=!1},100)};t.a=()=>{const[e,t]=Object(i.useState)(!1),n=Object(i.useRef)(null);Object(i.useEffect)(()=>(0===a&&window.addEventListener("scroll",s),a+=1,()=>{n.current&&clearTimeout(n.current),a-=1,a||window.removeEventListener("scroll",s)}),[]);const r=e=>{n.current&&clearTimeout(n.current),n.current=e&&o?setTimeout(()=>r(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:Object(i.useRef)({onMouseOver:()=>r(!0),onMouseLeave:()=>r(!1)}).current}}},"2i+x":function(e,t,n){n.d(t,"a",(function(){return i}));const i=e=>{const{thumbnail:t,url:n,width:i,height:r,duration:o}=e||{};return t&&n&&i&&r&&{thumbnail:t,url:n,width:i,height:r,duration:o}||void 0}},"2mql":function(e,t,n){var i=n("r36Y"),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var d=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(p){var r=b(n);r&&r!==p&&e(t,r,i)}var a=l(n);u&&(a=a.concat(u(n)));for(var s=c(t),f=c(n),g=0;g<a.length;++g){var m=a[g];if(!(o[m]||i&&i[m]||f&&f[m]||s&&s[m])){var j=h(n,m);try{d(t,m,j)}catch(v){}}}}return t}},"2qKt":function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("Y+p1"),a=n.n(o),s=n("Vzit"),c=n("vh5K"),d=n("pLLR"),l=n("ANjH"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.a=(e,t={},n)=>o=>{const p=function(e){return t=>({experience:t.experiences.eligibleExperiences[e],experiencesMulti:t.experiences.experiencesMulti?t.experiences.experiencesMulti[e]:void 0})}(e);n={...b,...n};const f=function(e,t,n=!0,r=!0,o=!1,d){var l,b;return b=l=class extends i.Component{constructor(e){super(e),h(this,"state",{extraContext:void 0}),h(this,"setExtraContextState",e=>{a()(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(n,i){const{dispatch:r,experience:o}=this.props;let c=i.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(c=t(n,i.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!a()(c,d)&&r(Object(s.c)(e,d)),!o||n.experience&&o.id===n.experience.id||r(Object(s.k)(e,d))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(s.m)(e))}dispatchPlacementMount(){const{dispatch:n}=this.props,i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},r=o&&null!=i&&i.advertiser_id?{advertiserId:i.advertiser_id}:void 0;n(Object(s.l)(e,i,r))}render(){const{experience:e,experiencesMulti:t}=this.props,n={[o?"advertiserExperience":"experience"]:Object(c.e)(e)?e:null};return Object(u.jsx)(d,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}},h(l,"displayName",`withPlacement(${d.displayName||d.name||"Component"})`),b}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,o);return Object(l.compose)(d.e,Object(r.connect)(p))(f)}},"37no":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var i=n("7w6Q");const r=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function o(e){return new Promise((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const i=document.createElement("script");i.src=e,i.async=!0,i.addEventListener("load",t),i.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(i)})}function a(e,t=r.OTHER,n=!1){const o=n?"web":"mweb";return new Promise((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===r.GPLUS_ONE)if(window.gapi)n();else{const t=setInterval(()=>{window.gapi||20===e?(clearInterval(t),n()):(e+=1,i.a.increment(`${o}.loadScript.gplus_one.tries_${e}`,.01))},100)}else if(t===r.FACEBOOK)if(window.FB)n();else{const t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.a.increment(`${o}.loadScript.facebook.tries_${e}`,.01))},100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}})}},"3R0Q":function(e,t,n){t.a=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,i)=>{const r=i?`${e}_${i+1}`:e;n={...n,[r]:t}})}),n}},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3cYt":function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},"3j7w":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI");class r extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=()=>{const{isAtEnd:e,isFetching:t,fetchMore:n,scrollBuffer:i,scrollHeight:r,scrollTop:o}=this.props;e||t||o+i>r&&n()},(n="check")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},"3oMh":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),r=n("Ye/N"),o=n("fevN"),a=n("oVol"),s=n("n6mq"),c=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),d(this,"state",{flyoutOpen:!1}),d(this,"toggleFlyout",()=>{this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))})}render(){const{board:e,bgColor:t="white",children:n,iconColor:d="gray",onCreatePincode:l}=this.props,{flyoutOpen:u}=this.state,h={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:a.a.BOARD,url:e.url},b=n&&n({active:u,onClick:this.toggleFlyout})||Object(c.jsx)(s.v,{accessibilityLabel:r.a._("Send Board","Accessible label for button to send board","Accessible label for button to send board"),onClick:this.toggleFlyout,icon:"share",size:"lg",bgColor:t,iconColor:d});return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.e,{ref:e=>{this.anchor=e},children:b}),this.state.flyoutOpen&&Object(c.jsx)(s.y,{children:Object(c.jsx)(s.I,{anchor:this.anchor,idealDirection:"down",onDismiss:this.toggleFlyout,size:"xl",positionRelativeToAnchor:!1,children:Object(c.jsx)(o.a,{classNames:"SendBoard",isFlyout:!0,onCreatePincodeClick:l?()=>{this.toggleFlyout(),l()}:void 0,onHide:this.toggleFlyout,sendType:a.a.BOARD,sharedObject:h})})})]})}}},"3qQZ":function(e,t,n){},"3z7j":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("Wer7");function r(e,t){return n=>n(Object(i.a)("BoardSectionResource",{field_set_key:t||"board_page",section_id:e}))}},"4/ic":function(e,t,n){var i=n("ZWtO");e.exports=function(e){return function(t){return i(t,e)}}},"44Ds":function(e,t,n){var i=n("e4Nc");function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},"493B":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("Gytx"),r=n("q1tI");t.useCollector=function(e,t,n){var o=r.useState((function(){return t(e)})),a=o[0],s=o[1],c=r.useCallback((function(){var r=t(e);i(a,r)||(s(r),n&&n())}),[a,e,n]);return[a,c]}},"4TDQ":function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("3z7j"),r=n("Pqnw"),o=n("eOdZ"),a=n("KFEb"),s=n("Wer7"),c=n("Pv/+");function d(e,t,n){return d=>o.a.create("BoardSectionsMergeResource",{source_section_id:t,target_section_id:n}).callUpdate({showError:!1}).then(o=>Promise.all([d(Object(c.b)(e,t)),d(Object(s.f)("BoardSectionsRepinResource",{board_id:e})),d(Object(i.a)(n)),d(Object(r.a)(a.a.SECTION_PINS,n))]).then(()=>o))}},"4cpq":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o(e){const{children:t,display:n,id:o}=e;return Object(r.jsx)(i.e,{"data-test-id":o,display:n,children:t})}},"4dcN":function(e,t,n){(function(e){var i=n("T0g9"),r=n("Jr++");let o;void 0===o&&(o=e),o._gaq=o._gaq||[];let a=[];const s=function(e){if(a.length)for(let t=0;t<a.length;t+=1){const n=a[t];o._gaq.push(["_setAccount",n]),o._gaq.push(e)}},c=function(e){if(a=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},d=2,l=3,u={};u.init=function(e,t){c(e),s(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",d])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:r}){c(e),t?(i?s(["_setCustomVar",1,"adminUser",i.toString(),l]):r&&r.id?s(["_setCustomVar",1,"viewingUser",r.id.toString(),l]):s(["_setCustomVar",1,"is_logged_in","logged in",l]),n&&n.id&&s(["_setCustomVar",3,"advertiserId",n.id,l])):s(["_setCustomVar",1,"is_logged_in","logged out",l])};const h=function(e,t){let n=e;const o=Object(r.a)(t).q;return o&&(n+="?"+Object(i.a)({q:o})),n};u.trackPageview=function(e){s(["_setCustomVar",2,"page_name",e,l]),s(["_trackPageview",h(o.location.pathname,o.location.search)]),s(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,r){s(["_trackEvent",e,t,n,i,r])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)},t.a=u}).call(this,n("yLpj"))},"4jWr":function(e,t,n){n.d(t,"a",(function(){return i}));const i=200;t.b=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},"4sDh":function(e,t,n){var i=n("4uTw"),r=n("03A+"),o=n("Z0cm"),a=n("wJg7"),s=n("shjB"),c=n("9Nap");e.exports=function(e,t,n){for(var d=-1,l=(t=i(t,e)).length,u=!1;++d<l;){var h=c(t[d]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++d!=l?u:!!(l=null==e?0:e.length)&&s(l)&&a(h,l)&&(o(e)||r(e))}},"4uTw":function(e,t,n){var i=n("Z0cm"),r=n("9ggG"),o=n("GNiM"),a=n("dt0z");e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(a(e))}},"4vzw":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=n.getRegistry(),r=i.addSource(e,t);return[r,function(){return i.removeSource(r)}]}},"54t5":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("fOPN"),r=n("HNpt"),o=n("U4W0"),a=n("uCRx"),s=n("QLaP"),c=n("IEa/");function d(e){switch(e[0]){case"S":return o.HandlerRole.SOURCE;case"T":return o.HandlerRole.TARGET;default:s(!1,"Cannot parse handler ID: "+e)}}function l(e,t){var n=e.entries(),i=!1;do{var r=n.next(),o=r.done;if(r.value[1]===t)return!0;i=o}while(!i);return!1}var u=function(){function e(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){a.validateType(e),a.validateSourceContract(t);var n=this.addHandler(o.HandlerRole.SOURCE,e,t);return this.store.dispatch(i.addSource(n)),n},e.prototype.addTarget=function(e,t){a.validateType(e,!0),a.validateTargetContract(t);var n=this.addHandler(o.HandlerRole.TARGET,e,t);return this.store.dispatch(i.addTarget(n)),n},e.prototype.containsHandler=function(e){return l(this.dragSources,e)||l(this.dropTargets,e)},e.prototype.getSource=function(e,t){return void 0===t&&(t=!1),s(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)},e.prototype.getTarget=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)},e.prototype.getSourceType=function(e){return s(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)},e.prototype.getTargetType=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)},e.prototype.isSourceId=function(e){return d(e)===o.HandlerRole.SOURCE},e.prototype.isTargetId=function(e){return d(e)===o.HandlerRole.TARGET},e.prototype.removeSource=function(e){var t=this;s(this.getSource(e),"Expected an existing source."),this.store.dispatch(i.removeSource(e)),c((function(){t.dragSources.delete(e),t.types.delete(e)}))},e.prototype.removeTarget=function(e){s(this.getTarget(e),"Expected an existing target."),this.store.dispatch(i.removeTarget(e)),this.dropTargets.delete(e),this.types.delete(e)},e.prototype.pinSource=function(e){var t=this.getSource(e);s(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){s(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e.prototype.addHandler=function(e,t,n){var i=function(e){var t=r.default().toString();switch(e){case o.HandlerRole.SOURCE:return"S"+t;case o.HandlerRole.TARGET:return"T"+t;default:throw new Error("Unknown Handler Role: "+e)}}(e);return this.types.set(i,t),e===o.HandlerRole.SOURCE?this.dragSources.set(i,n):e===o.HandlerRole.TARGET&&this.dropTargets.set(i,n),i},e}();t.default=u},"5ARb":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("MCs0"),r=(n("QWfI"),n("2S0S")),o=["canDrag","beginDrag","isDragging","endDrag"],a=["beginDrag"],s=function(){function e(e,t,n){var i=this;this.spec=e,this.monitor=t,this.ref=n,this.props=null,this.beginDrag=function(){if(i.props)return i.spec.beginDrag(i.props,i.monitor,i.ref.current)}}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.canDrag=function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))},e.prototype.isDragging=function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())},e.prototype.endDrag=function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,i.getDecoratedComponent(this.ref))},e}();t.default=function(e){return Object.keys(e).forEach((function(t){r(o.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',o.join(", "),t),r("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),a.forEach((function(t){r("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new s(e,t,n)}}},"5Ai/":function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("1inl"),a=n("ajUs"),s=n("Ye/N"),c=n("uVIr"),d=n("qnp8"),l=n("eOdZ"),u=n("M1Uz"),h=n("Sbkd"),b=n("Wrea"),p=n("KFEb"),f=n("x12c"),g=n("vvax"),m=n("6G9P"),j=n("NjDU"),v=n("QAzJ"),O=n("nGHF"),y=n("oN2T"),x=n("e0nq"),_=n("EC67"),w=n("nKUr");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.PureComponent{constructor(...e){super(...e),S(this,"state",{step:"unsaved"}),S(this,"deletePin",e=>l.a.create("PinResource",{id:e}).callDelete()),S(this,"repin",()=>{const{location:e,pin:t,target:{board:n,boardSection:i},eventContext:r,previousHistory:o}=this.props,s=Object(a.a)(t,e,o)||(t.tracking_params||"")+"-0",c=!t.id&&t.image_url?Object(m.b)(t.image_url,t.link):"",d=i&&i.id,u={board_id:n.id||"",clientTrackingParams:s,description:t.description||"",image_base64:t.image_base64,link:t.link,image_url:c,is_buyable_pin:!1,is_removable:t.promoted_is_removable,media_upload_id:t.media_upload_id,pin_id:t.id||"",section:d,title:t.title||"",eventContext:r};return l.a.create("RepinResource",u).callCreate({showError:!1})}),S(this,"handleSave",()=>{const{onSave:e,makeCancelablePromise:t}=this.props,{step:n}=this.state;if("unsaving"===n)return void this.setState({step:"saving"});this.setState({step:"saving"});t(this.repin().then(({resource_response:{data:e}})=>this.shouldCompleteSave(e))).then(e).catch(({isCanceled:e})=>{if(!e){const{target:{board:e,boardSection:t}}=this.props;o.a.showError(t?Object(g.b)(s.a._("Failed to save the Pin to {{sectionName}}","Error message when failed to save to a section within a board","Error message when failed to save to a section within a board"),{sectionName:t.title}).join(""):Object(g.b)(s.a._("Failed to save the Pin to {{boardName}}","Error message when failed to save to a board","Error message when failed to save to a board"),{boardName:e.name}).join(""))}})}),S(this,"shouldCompleteSave",e=>{const{pin:t,dispatch:n,shouldUseLegoStyles:i,showToast:r,target:{board:o,boardSection:a}}=this.props,{step:s}=this.state,l=a&&a.id,u={pinId:t.id,boardId:o.id,sectionId:l,title:t.title||""};if("saving"===s){f.b.publish("currentUser","pinCreated",e),f.b.publish(e.board.id,"pinCreated",{pin:e}),n(Object(y.d)(o)),n(Object(c.a)({feedId:l||o.id,feedType:l?p.a.SECTION_PINS:p.a.BOARD_PINS,itemIds:[t.id],itemType:"pin"}));const{image_url:s,images:h}=t,g=s||(null==h?void 0:h["236x"])&&h["236x"].url||"";return!a&&o.image_cover_url||(o.image_cover_url=g,n(Object(y.e)({},o))),n(Object(x.a)({...u,localPinId:e.id})),n(Object(b.d)({boardId:o.id,sectionId:a?a.id:void 0,increment:1})),n(Object(j.c)({userId:e.pinner.id,increment:1})),this.setState({step:"saved"}),i&&r(({onHide:e})=>Object(w.jsx)(d.a,{pinImageUrl:g,boardName:o.name,boardUrl:o.url,onHide:e,onUndo:this.handleUnsave})),e}"unsaving"===s&&this.handleUnsave(e.id)}),S(this,"handleUnsave",e=>{const{step:t}=this.state,{savedInfo:n}=this.props;if("unsaved"===t)return;if("saving"===t)return void this.setState({step:"unsaving"});const i=n&&n.localPinId||e;i&&(this.setState({step:"unsaving"}),this.deletePin(i).then(()=>this.shouldCompleteUnsave(i)))}),S(this,"shouldCompleteUnsave",e=>{const{pin:t,savedInfo:n,shouldUseLegoStyles:i,showToast:r,target:{board:o,boardSection:a},dispatch:c,onDelete:d,viewerId:l}=this.props,{step:h}=this.state;"unsaving"===h&&(n&&(c(Object(x.d)({pinId:t.id})),c(Object(b.d)({boardId:o.id,sectionId:a?a.id:void 0,increment:-1})),c(Object(j.c)({userId:l,increment:-1})),f.b.publish(o.id,"pinDeleted",e),f.b.publish(e,"pinDeleted"),d&&d()),i&&r(({onHide:e})=>Object(w.jsx)(u.a,{onHide:e,text:s.a._("Pin deleted","OneTapSavePinWrapper.Unsave","Pin delete completion confirmation")})),this.setState({step:"unsaved"})),"saving"===h&&this.handleSave()})}render(){const{children:e,savedInfo:t}=this.props,{step:n}=this.state;return e({save:this.handleSave,saved:"saved"===n||"saving"===n||!(!t||!t.localPinId),savedInfo:t,unsave:this.handleUnsave})}}t.a=Object(r.connect)((e,{pin:{id:t}})=>({previousHistory:e.history.previous,savedInfo:e.pins[t]&&e.pins[t].savedInfo,viewerId:e.viewer.id}))((function(e){const t=Object(v.b)("web_lego_save_flow")().anyEnabled,{showToast:n}=Object(O.b)(),i=Object(h.a)(),r=Object(_.i)();return Object(w.jsx)(C,{...e,location:r,makeCancelablePromise:i,shouldUseLegoStyles:t,showToast:n})}))},"5FNA":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("qtKf"),r=n("Pqnw"),o=n("Wer7");const a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i})=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0})},c=(e,t,n)=>({privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),d=e=>a.reduce((t,n)=>{const a=[Object(r.a)("profileBoards",Object(i.c)(e,n))];return[!0,!1].forEach(t=>{[!0,!1].forEach(i=>{a.push(Object(o.f)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))})}),t.concat(a)},[])},"5MXd":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return h}));var i=n("q1tI"),r=n("1dBE"),o=n("nKUr");const a=660,s={educationId:null,paddingRight:0,zIndex:a};function c(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:n}=t.payload;return{...e,educationId:n};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:i}=t.payload;return{...e,paddingRight:i};case"FOOTER_SET_Z_INDEX":const{zIndex:r}=t.payload;return{...e,zIndex:r};default:return e}}const{Provider:d,Consumer:l,useHook:u,HOC:h}=Object(r.a)("footerContext");function b({children:e}){const[t,n]=Object(i.useReducer)(c,s);return Object(o.jsx)(d,{value:{...t,setEducationId:e=>n({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),setPaddingRight:e=>n({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),setZIndex:e=>n({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})},children:e})}},"5S2N":function(e,t,n){n.d(t,"c",(function(){return Ce})),n.d(t,"b",(function(){return Ee}));var i=n("q1tI"),r=n("/MKj"),o=n("9WJf"),a=n("BkRI"),s=n.n(a),c=n("/mzO"),d=n("JW66"),l=n("eOdZ"),u=n("5FNA"),h=n("Wer7");var b=n("Sihc"),p=n("Y+p1"),f=n.n(p),g=n("Ye/N"),m=n("TgLd"),j=n("GBVV"),v=n("4cpq"),O=n("M1Uz"),y=n("nGHF"),x=n("n6mq"),_=n("nKUr");function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.PureComponent{constructor(...e){super(...e),w(this,"state",{deleting:!1}),w(this,"unmounted",!1),w(this,"handleConfirm",()=>{if(this.state.deleting)return;const{onDeletePin:e}=this.props;this.setState({deleting:!0}),e().then(()=>this.handleDeleteDidComplete()).catch(e=>this.handleDeleteDidComplete(e))}),w(this,"handleDeleteDidComplete",e=>{const{toastManagerContext:t}=this.props;this.unmounted||this.setState({deleting:!1}),e||t.showToast(({onHide:e})=>Object(_.jsx)(O.a,{onHide:e,text:g.a._("Pin deleted!","User deleted their pin","User deleted their pin")}))})}componentWillUnmount(){this.unmounted=!0}render(){const{onDismiss:e}=this.props,{deleting:t}=this.state;return Object(_.jsx)(m.b,{heading:g.a._("Are you sure?","Confirm the user wants to delete the pin","Confirm the user wants to delete the pin"),accessibilityModalLabel:g.a._("Are you sure you want to delete this pin?","Accessible label to confirm the user wants to delete the pin","Accessible label to confirm the user wants to delete the pin"),size:"sm",onDismiss:e,footer:Object(_.jsxs)(x.e,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[Object(_.jsx)(x.e,{paddingX:1,children:Object(_.jsx)(x.f,{onClick:e,text:g.a._("Cancel")})}),Object(_.jsx)(x.e,{paddingX:1,children:Object(_.jsx)(v.a,{id:"confirm-delete-pin",children:Object(_.jsx)(j.b,{color:"red",onClick:this.handleConfirm,text:g.a._("Delete Pin"),submitting:t})})})]}),children:Object(_.jsx)(x.e,{padding:4,children:Object(_.jsx)(x.Y,{children:g.a._("Once you delete a Pin, you can't undo it!")})})})}}const C=Object(y.c)(S);C.displayName="DeletePinConfirmation";var I=C;function E({canEdit:e,onAltTextChange:t,altText:n}){return Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(x.o,{}),Object(_.jsxs)(x.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(_.jsx)(x.e,{column:12,mdColumn:3,paddingY:2,children:Object(_.jsx)(x.x,{htmlFor:"AltTextField",children:Object(_.jsx)(x.Y,{size:"md",children:g.a._("Alt text","EditPinModal.EditAltText","Label for editing alt text of pin")})})}),Object(_.jsx)(x.e,{column:12,mdColumn:8,children:e?Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(x.e,{children:Object(_.jsx)(x.ab,{id:"AltTextField",onChange:({value:e})=>t({value:e.slice(0,500)}),size:"lg",value:n||""})}),Object(_.jsx)(x.e,{justifyContent:"center",children:Object(_.jsx)(x.x,{htmlFor:"AltTextField",children:Object(_.jsx)(x.e,{marginTop:1,children:Object(_.jsx)(x.Y,{size:"md",color:"gray",children:g.a._("This helps people using screen readers understand what your Pin is about.","EditPinModal.EditAltText","Label for editing alt text of pin")})})})})]}):Object(_.jsx)(x.e,{column:12,mdColumn:8,paddingY:2,children:Object(_.jsx)(x.Y,{size:"md",weight:"bold",children:n})})})]})]})}var T=n("V711"),P=n("wm0H"),D=n("QAzJ");function k({board:e={},canEdit:t,onBoardChange:n,onBoardCreate:i}){const{anyEnabled:r}=Object(D.d)("web_boardless_pins"),{showEnabledSaveBehavior:o}=Object(P.a)(),a="quick_saves"===e.layout&&(r||o);return Object(_.jsxs)(x.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(_.jsx)(x.e,{column:12,mdColumn:3,paddingY:2,children:Object(_.jsx)(x.x,{htmlFor:"BoardPicker",children:Object(_.jsx)(x.Y,{size:"md",children:g.a._("Board")})})}),t?Object(_.jsx)(x.e,{column:12,mdColumn:8,children:Object(_.jsx)(T.a,{board:e,id:"BoardPicker",isBoardlessPinsBoard:a,onBoardChosen:n,onBoardCreate:i})}):e.name&&Object(_.jsx)(x.e,{column:12,mdColumn:8,paddingY:2,children:Object(_.jsx)(x.Y,{size:"md",weight:"bold",children:e.name})})]})}var B=n("TSYQ"),M=n.n(B),R=n("JKZO"),A=n("Q7uW"),L=n("U4JR");function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F extends i.Component{constructor(...e){super(...e),N(this,"state",{focused:!1}),N(this,"suggestionAnchorRef",Object(i.createRef)()),N(this,"setRef",e=>this.textAreaRef=e),N(this,"handleBlur",e=>{this.setState({focused:!1});const{onBlur:t}=this.props;t&&t(e)}),N(this,"handleFocus",e=>{this.setState({focused:!0});const{onFocus:t}=this.props;t&&t(e)}),N(this,"handleChange",({text:e,mentions:t})=>{this.props.onDescriptionChange({value:e,userMentionTags:t})})}render(){const{canAddUserMentionTags:e,canEdit:t,description:n,errorMessage:r,initialMentions:o,label:a,placeholder:s,onDescriptionChange:c}=this.props,{focused:d}=this.state;return Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(x.o,{}),Object(_.jsxs)(x.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(_.jsx)(x.e,{column:12,mdColumn:3,paddingY:2,children:Object(_.jsx)(x.x,{htmlFor:"DescriptionField",children:Object(_.jsx)(x.Y,{size:"md",children:a})})}),t?Object(_.jsxs)(x.e,{column:12,mdColumn:8,children:[Object(_.jsx)(x.e,{children:e?Object(_.jsx)("div",{className:M()("DescriptionField",{DescriptionField__error:!!r,DescriptionField__focus:d}),id:"DescriptionField",ref:this.suggestionAnchorRef,role:"textbox",children:Object(_.jsx)(R.a,{initialMentions:o,initialText:n,onAddMention:()=>{Object(L.b)(8905,{element:116,tag_type:1})},onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onSearchMentionCancel:()=>{Object(L.b)(8908,{element:116,tag_type:1})},onSuggestionsPopoverOpen:()=>{Object(L.b)(8907,{element:116,tag_type:1})},maxSuggestions:4,placeholder:s})}):Object(_.jsx)(x.Z,{id:"DescriptionField",placeholder:s,value:n,onChange:({value:e})=>{c({value:e,userMentionTags:[]})},hasError:(r||"").length>0})}),!!r&&Object(_.jsx)(x.e,{justifyContent:"center",children:Object(_.jsx)(A.a,{errorMessage:r,htmlFor:"pin-edit-description"})})]}):Object(_.jsx)(x.e,{column:12,mdColumn:8,paddingY:2,children:Object(_.jsx)(x.Y,{size:"md",weight:"bold",children:n})})]})]})}}var U=F,H=n("VJm5"),z=n("rSLd"),Y=n("xOLo");function q({isCarousel:e,onMouseEnter:t,onMouseLeave:n,shouldShowCarouselSliders:i,onCarouselSlide:r,currentIndex:o,carouselData:a,pinId:s,description:c,image:d={}}){return Object(_.jsxs)(x.e,{paddingX:4,paddingY:3,justifyContent:"center",direction:"column",children:[e&&(()=>{const e=a&&a.carousel_slots&&a.carousel_slots.length||1;return e>=2&&Object(_.jsx)(x.e,{direction:"row",padding:2,children:Object(_.jsx)(x.x,{htmlFor:"CardsIndex",children:Object(_.jsxs)(x.Y,{size:"md",children:[o+1,"/",e]})})})})(),Object(_.jsx)(x.B,{width:236,children:Object(_.jsxs)(x.e,{onMouseEnter:t,onMouseLeave:n,children:[Object(_.jsxs)(x.B,{rounding:2,wash:!0,children:[e&&i&&Object(_.jsx)(x.e,{width:"100%",height:"100%",display:"inlineBlock",position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:10,background:"rgba(0, 0, 0, 0.3)"}},children:Object(_.jsx)(Y.default,{handleCarouselSwipe:r,carouselIndex:o,carouselData:a,pinId:s,isEditMode:!0})}),e?Object(_.jsx)(H.a,{carouselIndex:o,isCloseup:!1,carouselData:a,pinId:s,isEditMode:!0}):Object(_.jsx)(x.w,{alt:c,color:"#efefef",naturalHeight:d.height,src:d.url,naturalWidth:d.width})]}),e&&Object(_.jsx)(z.default,{carouselIndex:o,carouselData:a,pinId:s,handleCarouselSwipe:r,isEditMode:!0,variant:"legacy"})]})})]})}function G({apiErrorMessage:e,shouldShowGenericUpdateError:t,onClickDeleteButton:n,disableDelete:i,onHide:r,shouldDisableSave:o,triggerBoardAndSectionCreate:a}){return Object(_.jsxs)(x.e,{display:"flex",justifyContent:"between",marginStart:-1,marginEnd:-1,children:[Object(_.jsx)(v.a,{id:"delete-pin-button",children:Object(_.jsx)(x.f,{text:g.a._("Delete","EditPinModal.EditPinFooter.Delete","delete pin"),onClick:n,disabled:i})}),t&&Object(_.jsx)(x.e,{display:"flex",marginStart:2,marginTop:2,justifyContent:"center",children:Object(_.jsx)(A.a,{errorMessage:e||g.a._("Sorry! There was an error editing your Pin.","EditPinModal.EditPinFooter.ErrorMessageToast","Toast for pin edit error"),htmlFor:"pin-edit-generic-error"})}),Object(_.jsxs)(x.e,{display:"flex",justifyContent:"between",marginStart:-2,marginEnd:-2,children:[Object(_.jsx)(x.e,{paddingX:2,children:Object(_.jsx)(x.f,{text:g.a._("Cancel","EditPinModal.EditPinFooter.Cancel","cancel changes"),onClick:r})}),Object(_.jsx)(x.e,{paddingX:2,"data-test-id":"edit-pin-save",children:Object(_.jsx)(x.f,{text:g.a._("Save","EditPinModal.EditPinFooter.Save","save changes"),color:"red",onClick:a,disabled:o})})]})]})}function W({pinNoteText:e,isCollaborative:t,onPinNoteChange:n}){return Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(x.o,{}),Object(_.jsxs)(x.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(_.jsx)(x.e,{column:12,mdColumn:3,paddingY:2,children:Object(_.jsx)(x.x,{htmlFor:"PinNoteField",children:Object(_.jsx)(x.Y,{size:"md",children:t?g.a._("Note to group","editPinModal.editPinNote.groupTitle","Label for editing private note on group Pin"):g.a._("Note to self","editPinModal.editPinNote.title","Label for editing private note on Pin")})})}),Object(_.jsx)(x.e,{column:12,mdColumn:8,paddingY:2,children:Object(_.jsx)(x.Z,{errorMessage:e.length>=500?g.a._("Character limit reached","editPinModal.editPinNote.warningText","Text to inform user they have reached the length limit on Pin note"):void 0,id:"PinNoteField",onChange:n,placeholder:g.a._("Add a private note to remember your ideas about this Pin","editPinModal.editPinNote.placeholderText","Placeholder for editing private note"),value:e})})]})]})}var V=n("NXrh");function K({board:e,canEdit:t,currentSection:n,onSectionChange:i,onSectionCreate:r,sectionId:o,sectionName:a}){const s=null!=e&&e.id?V.b:V.a;return Object(_.jsxs)(x.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(_.jsx)(x.e,{column:12,mdColumn:3,paddingY:3,children:Object(_.jsx)(x.x,{htmlFor:"SectionPicker",children:Object(_.jsx)(x.Y,{size:"md",children:g.a._("Section","label for editing a Pin's board section","label for editing a Pin's board section")})})}),t&&e?Object(_.jsx)(x.e,{column:12,mdColumn:8,children:Object(_.jsx)(s,{board:e,onSectionChange:i,selectedSectionId:o,selectedSectionName:a,onSectionCreate:r})}):Object(_.jsx)(x.e,{column:12,mdColumn:8,paddingY:2,children:Object(_.jsx)(x.Y,{size:"md",weight:"bold",children:n&&!(e||{}).is_collaborative?n.title:g.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit")})})]})}var X=n("VBRM"),$=n("8Enz"),Z=n("kT2/"),Q=n("6HHy"),J=n("1RGD");function ee({keyValueBlocks:e,listBlocks:t,onUpdateKeyValueBlock:n,onUpdateListBlocks:r,templateType:o}){return Object(_.jsxs)(x.e,{children:[1===o&&Object(_.jsxs)(i.Fragment,{children:[Object(_.jsxs)(x.e,{paddingY:2,children:[Object(_.jsx)(x.Y,{size:"md",children:g.a._("Cook time","editModal.editStoryPinModal.details.cookTime","Label for cook time detail")}),Object(_.jsx)(x.e,{paddingY:2,children:Object(_.jsx)(J.a,{onUpdate:e=>n(0,e),value:e[0]||null})})]},"cooktime"),Object(_.jsxs)(x.e,{paddingY:2,children:[Object(_.jsx)(x.Y,{size:"md",children:g.a._("Servings","editModal.editStoryPinModal.details.servings","Label for serving size detail")}),Object(_.jsx)(x.e,{paddingY:2,children:Object(_.jsx)(Q.a,{showLabel:!1,onUpdate:e=>n(1,e),value:e[1]||null})})]},"servingSize")]}),2===o&&Object(_.jsxs)(x.e,{paddingY:2,children:[Object(_.jsx)(x.Y,{size:"md",children:g.a._("Difficulty","editModal.editStoryPinModal.details.difficulty","Label for difficulty level detail")}),Object(_.jsx)(x.e,{paddingY:2,children:Object(_.jsx)($.a,{showLabel:!1,onUpdate:e=>n(2,e),value:e[2]||null})})]},"difficulty"),Object(_.jsxs)(x.e,{paddingY:2,children:[Object(_.jsx)(x.Y,{size:"md",children:(()=>{switch(o){case 1:return g.a._("Ingredients","editModal.editStoryPinModal.listHeading","Heading for an ingredients list");case 2:return g.a._("Supplies","editModal.editStoryPinModal.listHeading","Heading for a supplies list");default:return g.a._("What they'll need","editModal.editStoryPinModal.listHeading","Heading for a generic list")}})()}),Object(_.jsx)(x.e,{paddingY:2,children:Object(_.jsx)(Z.a,{listBlocks:t,onUpdate:r})})]})]})}var te=n("ESls"),ne=n("Joxa");var ie=n("vvax"),re=n("MNxV");var oe=Object(r.connect)(()=>({}),e=>({completeResourceFetch:t=>e(Object(h.b)("PinResource",{field_set_key:"detailed",id:t.id},t)),invalidatePin:t=>e(Object(h.f)("PinResource",{field_set_key:"detailed",id:t}))}))((function({apiErrorMessage:e,board:t,completeResourceFetch:n,commentsDisabled:r,description:o,disableDelete:a,invalidatePin:s,isLoadingPin:d,isProcessing:u,onChangeBoard:h,onChangeComment:b,onChangeSection:p,onClickBoardCreate:f,onClickDeleteButton:j,onClickEditPages:v,onClickSectionCreate:O,onHide:y,pinResource:w,sectionId:S,sectionName:C,title:I,triggerBoardAndSectionCreate:E}){var P,k;const B=null!==(P=w.data)&&void 0!==P?P:{},M=B.story_pin_data,R=null!==(k=B.images&&B.images["474x"])&&void 0!==k?k:{},[L,N]=Object(i.useState)(!1),[F,U]=Object(i.useState)(null),[H,z]=Object(i.useState)(!1),[Y,q]=Object(i.useState)({}),[G,W]=Object(i.useState)([]);Object(i.useEffect)(()=>{const e=(null==M?void 0:M.metadata.basics)||null;if(e){const t=Object(ne.b)(e);q(t.keyValueBlocks||{}),W(t.listBlocks||[])}},[M]),Object(i.useEffect)(()=>{e&&U(e)},[e]);const K=(e,t)=>{q({...Y,[e]:t}),N(!0)},$=e=>{W(e),N(!0)},{anyEnabled:Z}=Object(D.a)("web_story_pin_edit_deprecation"),Q=B.created_at?new Date(B.created_at):null,J=Q&&Object(X.a)(Q,14),oe=!Z&&!!J&&new Date<J,ae=G.length>0||Object.keys(Y).length>0,se=Object(ie.b)(g.a._("Edit details and add, delete, or reorder pages up to {{ numDays }} days after your Story Pin is published. Edit the board and engagement settings any time.","editModal.editStoryPinModal.editTimeInformation","Let the user know how the edit settings are limited"),{numDays:14});return Object(_.jsx)(m.b,{accessibilityModalLabel:g.a._("Edit your previously saved pin","editModal.editStoryPinModal.accessibilityLabel","Accessible label for edit previously saved story pin modal"),footer:Object(_.jsxs)(x.e,{display:"flex",justifyContent:"between",children:[Object(_.jsx)(x.e,{"data-test-id":"delete-pin-button",children:Object(_.jsx)(x.f,{color:"white",disabled:a,onClick:j,size:"lg",text:g.a._("Delete","editModal.editStoryPinModal.deleteButton","Delete button for previously saved story pin")})}),!!F&&Object(_.jsx)(x.e,{display:"flex",justifyContent:"center",children:Object(_.jsx)(A.a,{errorMessage:F,htmlFor:"pin-edit-generic-error"})}),Object(_.jsxs)(x.e,{display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,children:[Object(_.jsx)(x.e,{paddingX:1,children:Object(_.jsx)(x.f,{onClick:y,size:"lg",text:g.a._("Cancel","editModal.editStoryPinModal.cancelButton","Cancel button to not save edits to previously saved story pin")})}),Object(_.jsx)(x.e,{"data-test-id":"edit-pin-save",paddingX:1,children:Object(_.jsx)(x.f,{color:"red",onClick:()=>{if(L&&M){z(!0);const e=Object(ne.c)({keyValueBlocks:Y,listBlocks:G}),t=function(e){return{metadata:{basics:e.metadata.basics?Object(ne.a)(e.metadata.basics):void 0,diy_data:e.metadata.diy_data,pin_image_signature:e.metadata.pin_image_signature,pin_title:e.metadata.pin_title,recipe_data:e.metadata.recipe_data,template_type:e.metadata.template_type},pages:(t=e.pages,t.map(e=>{var t;const n=e.blocks.map(e=>{switch(e.type){case"story_pin_paragraph_block":return{block_style:e.block_style,style:e.style,text:e.text,type:0};case"story_pin_heading_block":return{block_style:e.block_style,level:e.level,style:e.style,text:e.text,type:1};case"story_pin_image_block":return{block_style:e.block_style,image_signature:e.image_signature,tracking_id:e.tracking_id,type:2};case"story_pin_video_block":return{block_style:e.block_style,tracking_id:e.tracking_id,type:3,video_signature:e.video_signature};default:return null}}).filter(Boolean);return n.length>0?{blocks:n,layout:e.layout,style:null!==(t=e.style)&&void 0!==t&&t.background_color?{background_color:e.style.background_color}:void 0}:null}).filter(Boolean))};var t}(M),i={...t,metadata:{...t.metadata,basics:e}},r={pin_id:B.id,story_pin:JSON.stringify(i)};l.a.create("StoryPinEditResource",r).callUpdate().then(e=>{const{resource_response:t}=e;s(B.id),n(t.data),E()}).catch(e=>{U(e.message),z(!1)})}else E()},size:"lg",text:g.a._("Done","editModal.editStoryPinModal.doneButton","Done button to save edits to previously saved story pin")})})]})]}),heading:g.a._("Edit Pin","editModal.editStoryPinModal.heading","Edit a previously saved story pin"),onDismiss:y,size:"md",children:d||!w.isLoaded||H||u?Object(_.jsx)(x.e,{paddingX:12,paddingY:9,children:Object(_.jsx)(x.R,{accessibilityLabel:g.a._("Loading edit information","editPinModal.editStoryPinModal.spinner","Accessible label for the edit pin loading icon"),show:!0})}):Object(_.jsx)(x.e,{overflow:"hidden",children:Object(_.jsx)(x.e,{marginEnd:-4,marginStart:-4,children:Object(_.jsx)(te.a,{name:"web_story_pin_limit_edits",children:({anyEnabled:e})=>{var n,a;return Object(_.jsxs)(x.e,{display:"flex",minHeight:300,overflow:"hidden",paddingX:8,children:[Object(_.jsxs)(x.e,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",paddingX:4,children:[Object(_.jsxs)(x.B,{wash:!0,rounding:4,width:120,children:[Object(_.jsx)(x.w,{alt:o,color:"#efefef",naturalHeight:R.height,naturalWidth:R.width,src:R.url}),Object(_.jsx)(x.e,{position:"absolute",left:!0,top:!0,padding:2,children:Object(_.jsxs)(x.e,{alignItems:"center",color:"lightGray",display:"flex",justifyContent:"center",opacity:.8,padding:2,rounding:"pill",children:[Object(_.jsx)(x.u,{accessibilityLabel:g.a._("Story Pin icon","editModal.editStoryPinModal.storyPinIndicator","Story Pin icon indicator"),color:"darkGray",icon:"story-pin",size:12}),Object(_.jsx)(x.e,{marginStart:1,children:Object(_.jsx)(x.Y,{size:"md",weight:"bold",children:null===(n=B.story_pin_data)||void 0===n?void 0:n.page_count})})]})})]}),oe||!e?Object(_.jsx)(x.e,{"data-test-id":"edit-pages-button",paddingY:2,children:Object(_.jsx)(x.f,{inline:!0,onClick:v,text:g.a._("Edit pages","editModal.editStoryPinModal.editPagesButton","Edit pages label for story pin creation entry point")})}):null]}),Object(_.jsx)(x.e,{direction:"column",display:"flex",flex:"grow",paddingX:4,children:Object(_.jsx)(x.e,{marginBottom:-2,marginTop:-2,children:Object(_.jsx)(x.e,{maxHeight:500,overflow:"auto",paddingX:1,children:Object(_.jsxs)(x.e,{maxWidth:504,children:[e&&J&&Object(_.jsx)(x.e,{paddingY:2,children:oe?Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(x.Y,{size:"md",children:Object(ie.b)(g.a._("Edit until {{ editDate }}","editModal.editStoryPinModal.lastEditableDate","Let user know the last date this Pin can be edited on"),{editDate:Object(_.jsx)(re.b,{dateFormatType:re.a.NUMERIC,useUTC:!1,value:J},"noEditsTwoWeeksAfter-"+(null!==(a=B.created_at)&&void 0!==a?a:""))})}),Object(_.jsx)(x.e,{paddingY:2,children:Object(_.jsx)(x.Y,{color:"gray",size:"md",children:se})})]}):Object(_.jsxs)(x.e,{children:[Object(_.jsx)(x.Y,{size:"md",children:g.a._("Editing","editModal.editStoryPinModal.editLabel","Label header for informing users story pin is only editable for board selection")}),Object(_.jsx)(x.e,{paddingY:2,children:Object(_.jsx)(x.Y,{size:"md",color:"gray",children:g.a._("Only board selection and engagement settings can be changed!","editModal.editStoryPinModal.editLabel","Label header for informing users story pin is only editable for board selection")})})]})}),Object(_.jsxs)(x.e,{paddingY:2,children:[Object(_.jsx)(x.Y,{size:"md",children:g.a._("Title","editModal.editStoryPinModal.titleLabel","Label for form input where users will input the title of their pin")}),Object(_.jsx)(x.e,{paddingY:2,children:Object(_.jsxs)(x.e,{alignItems:"center",color:"lightGray",display:"flex",justifyContent:"between",padding:4,rounding:4,children:[Object(_.jsx)(x.Y,{color:"gray",truncate:!0,children:I||""}),Object(_.jsx)(x.u,{accessibilityLabel:g.a._("Lock","editModal.editStoryPinModal.lockIcon.accessibilityLabel","Label for the lock icon to show that editing a story pin title is locked"),color:"darkGray",icon:"lock"})]})})]}),Object(_.jsxs)(x.e,{paddingY:2,children:[Object(_.jsx)(x.Y,{size:"md",children:g.a._("Board","editModal.editStoryPinModal.boardLabel","Label for dropdown where users will choose their board")}),Object(_.jsx)(x.e,{paddingY:2,children:Object(_.jsx)(T.a,{board:t,id:"BoardPicker",isStoryPin:!0,onBoardChosen:h,onBoardCreate:f})})]}),Object(_.jsxs)(x.e,{paddingY:2,children:[Object(_.jsx)(x.Y,{size:"md",children:g.a._("Section","editModal.editStoryPinModal.sectionLabel","Label for dropdown where users will choose their section")}),Object(_.jsx)(x.e,{paddingY:2,children:(null==t?void 0:t.id)&&Object(_.jsx)(V.b,{isStoryPin:!0,board:t,onSectionChange:p,onSectionCreate:O,selectedSectionId:S,selectedSectionName:C})})]}),e&&ae&&oe&&Object(_.jsx)(ee,{keyValueBlocks:Y,listBlocks:G,onUpdateKeyValueBlock:K,onUpdateListBlocks:$,templateType:null==M?void 0:M.metadata.template_type}),B.can_delete_did_it_and_comments&&Object(_.jsxs)(x.e,{paddingY:2,children:[Object(_.jsx)(x.Y,{size:"md",children:g.a._("Comments and photos permissions","editModal.editStoryPinModal.commentsAndPhotosPermissionsLabel","Label for dropdown where users can toggle off permissions for comments and photos")}),Object(_.jsx)(x.e,{paddingY:2,children:Object(_.jsx)(c.a,{isNoTitle:!0,commentsDisabled:r,onCommentChange:b})})]})]})})})})]})}})})})})}));function ae({canEdit:e,onTitleChange:t,title:n,errorMessage:r}){return Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(x.o,{}),Object(_.jsxs)(x.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(_.jsx)(x.e,{column:12,mdColumn:3,paddingY:2,children:Object(_.jsx)(x.x,{htmlFor:"TitleField",children:Object(_.jsx)(x.Y,{size:"md",children:g.a._("Title","Label for editing title of pin","Label for editing title of pin")})})}),Object(_.jsx)(x.e,{column:12,mdColumn:8,children:e?Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(x.e,{children:Object(_.jsx)(x.ab,{hasError:(r||"").length>0,id:"TitleField",onChange:t,size:"lg",value:n})}),!!r&&Object(_.jsx)(x.e,{justifyContent:"center",children:Object(_.jsx)(A.a,{errorMessage:r,htmlFor:"pin-edit-title"})})]}):Object(_.jsx)(x.e,{column:12,mdColumn:8,paddingY:2,children:Object(_.jsx)(x.Y,{size:"md",weight:"bold",children:n})})})]})]})}function se({onChangeWebsite:e,link:t,errorMessage:n}){return Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(x.o,{}),Object(_.jsxs)(x.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(_.jsx)(x.e,{column:12,mdColumn:3,paddingY:2,children:Object(_.jsx)(x.x,{htmlFor:"WebsiteField",children:Object(_.jsx)(x.Y,{size:"md",children:g.a._("Website")})})}),Object(_.jsxs)(x.e,{column:12,mdColumn:8,children:[Object(_.jsx)(x.e,{children:Object(_.jsx)(x.ab,{hasError:(n||"").length>0,id:"WebsiteField",onChange:e,size:"lg",value:t})}),!!n&&Object(_.jsx)(x.e,{justifyContent:"center",children:Object(_.jsx)(A.a,{errorMessage:n,htmlFor:"pin-edit-website"})})]})]})]})}var ce=n("MhBu"),de=n("x12c"),le=n("Wrea"),ue=n("sH+O"),he=n("OSge"),be=n("KFEb"),pe=n("r8eU"),fe=n("qVfT"),ge=n("NjDU"),me=n("w70y"),je=n("eIuQ"),ve=n("pLLR"),Oe=n("ANjH"),ye=n("c50B"),xe=n("VqlB"),_e=n("EC67");function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){return Boolean(e&&e.trim().length)}function Ce(e,t){const n=Se(e),i=Se(t);return(n||i)&&e!==t}class Ie extends i.Component{constructor(...e){var t,n,i,r,o,a,c,u,h,b,p,m,j,v,O,y,x,_;super(...e),we(this,"state",{altText:(null===(t=this.props.pinResource.data)||void 0===t?void 0:t.alt_text)||"",board:(null===(n=this.props.pinResource.data)||void 0===n?void 0:n.board)||null,commentsDisabled:(null===(i=this.props.pinResource.data)||void 0===i?void 0:i.comments_disabled)||(null===(r=this.props.pinResource.data)||void 0===r?void 0:r.did_it_disabled)||!1,description:(null===(o=this.props.pinResource.data)||void 0===o||null===(a=o.description)||void 0===a?void 0:a.trim())||"",apiErrorMessage:null,link:(null===(c=this.props.pinResource.data)||void 0===c?void 0:c.link)||"",pinNoteText:(null===(u=this.props.pinResource.data)||void 0===u||null===(h=u.pin_note)||void 0===h?void 0:h.text)||"",sectionId:(null===(b=this.props.pinResource.data)||void 0===b||null===(p=b.section)||void 0===p?void 0:p.id)||null,sectionName:(null===(m=this.props.pinResource.data)||void 0===m||null===(j=m.section)||void 0===j?void 0:j.title)||null,showDeleteConfirmation:!1,carousel_data:(null===(v=this.props.pinResource.data)||void 0===v?void 0:v.carousel_data)||null,title:(null===(O=this.props.pinResource.data)||void 0===O?void 0:O.title)||"",isLoadingPin:!Boolean(this.props.pinResource.isLoaded),isProcessing:!1,currentIndex:void 0!==this.props.carouselSlotCurrentIndex?this.props.carouselSlotCurrentIndex:(null===(y=this.props.pinResource.data)||void 0===y||null===(x=y.carousel_data)||void 0===x?void 0:x.index)||0,shouldApplyTextToAll:!1,shouldDisableSave:!1,shouldShowCarouselSliders:!1,shouldShowValidationTitleError:!1,shouldShowValidationDescriptionError:!1,shouldShowValidationLinkFormatError:!1,shouldShowGenericUpdateError:!1,shouldShowValidationUserMentionTagsError:!1,userMentionTags:(null===(_=this.props.pinResource.data)||void 0===_?void 0:_.user_mention_tags)||[]}),we(this,"onClickDeleteButton",()=>this.setState({showDeleteConfirmation:!0})),we(this,"onHideConfirmation",()=>this.setState({showDeleteConfirmation:!1})),we(this,"updateCarouselSlotIndex",()=>{const{carouselSlotCurrentIndex:e}=this.props;this.setState({currentIndex:void 0!==e?e:this.props.pinResource.data&&this.props.pinResource.data.carousel_data&&this.props.pinResource.data.carousel_data.index||0})}),we(this,"handleBoardChange",e=>{const{board:{id:t}}=this.state;e.id!==t&&this.setState({board:e,sectionId:null,sectionName:null})}),we(this,"createBoard",e=>{const{createBoard:t}=this.props,{board:n}=this.state;!n.id&&n.name&&e&&t(n.name,e).then(e=>{if(this._isMounted){const{sectionId:t,sectionName:n}=this.state;!t&&n?(this.setState({board:e}),this.createSection()):(this.handleBoardChange(e),this.handleSave())}})}),we(this,"handleBoardCreateClick",e=>{if(!e)return;const t={name:e,privacy:d.a.BoardPrivacy.PUBLIC,access:"write"};this.setState({board:t,sectionId:null,sectionName:null})}),we(this,"createSection",()=>{const{board:e,sectionName:t}=this.state;if(!t)return;if(!e.id)return void this.createBoard();const n={boardId:e.id,name:t},{createSection:i}=this.props;i(n).then(e=>{this._isMounted&&(this.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null}),this.handleSave())}).catch(()=>{this.setState({shouldShowGenericUpdateError:!0,apiErrorMessage:null})})}),we(this,"handleSectionCreateClick",e=>{if(0===e.length)return;const{board:t}=this.state;t&&this.setState({sectionId:null,sectionName:e})}),we(this,"handleSectionChange",e=>this.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null,shouldShowGenericUpdateError:!1})),we(this,"handleDeletePin",()=>{const{advertiser_id:e,changeBoardPinCount:t,changeUserPinCount:n,onDelete:i,onHide:r,pinId:o,pinResource:{data:a},removeBoardlessPin:s,viewer:c}=this.props,d={...e?{advertiser_id:e}:{},id:o};return l.a.create("PinResource",d).callDelete().then(()=>{if(this._isMounted){if(!a)return;const{board:{id:e}={},pinner:{id:s}={},section:c}=a;t({boardId:e,sectionId:c&&c.id||void 0,increment:-1}),n({userId:s,increment:-1}),de.a.instance.publish(e,"pinDeleted",o),de.a.instance.publish(s,"pinDeleted"),de.a.instance.publish(o,"pinDeleted"),r(),i&&i()}c.id&&s(c.id,o)})}),we(this,"sanitizeCarouselData",e=>{let{carousel_data:t}=this.state;if(e&&(t=e),t){const{carousel_slots:e}=t;if(e){const t={carousel_slots:[]};return e.forEach(e=>{const n={};n.description=e.details||"",n.title=e.title||"",n.link=e.link||"",t.carousel_slots.push(n)}),t}}return null}),we(this,"triggerBoardAndSectionCreate",e=>()=>{const{board:t,sectionId:n,sectionName:i}=this.state;t&&!t.id&&t.name?this.createBoard(e):!n&&i?this.createSection():this.handleSave()}),we(this,"logPinEditEvent",(e,t,n,i,r)=>{const o={},{pinId:a,view:s,viewParameter:c}=this.props,{userMentionTags:d}=this.state;if(o.objectId=a,o.num_user_mention_tags=d.length,e&&(o.board_was_modified=!0),!e&&t&&(o.board_section_was_modified=!0),n){const{description:e}=this.state,{description:t}=r;o.original_pin_description=t,o.edited_pin_description=e}if(i){const{carousel_data:e}=this.state,{carousel_data:t}=r;o.original_carousel_data=JSON.stringify(this.sanitizeCarouselData(t)),o.edited_carousel_data=JSON.stringify(this.sanitizeCarouselData(e))}Object(L.b)(2,{component:208,view:s,viewParameter:c,...o})}),we(this,"handleSave",()=>{this.setState({apiErrorMessage:null,isProcessing:!0});const{advertiser_id:e,completeResourceFetch:t,invalidatePinResource:n,pinId:i,pinResource:{data:r},onHide:o,removeBoardlessPin:a,updatePinNote:s,viewer:c}=this.props;if(!r)return;const{alt_text:d,board:u,comments_disabled:h,did_it_disabled:b,title:p,description:g,link:m,pin_note:j,section:v,carousel_data:O}=r,y=null==j?void 0:j.text,{carousel_data:x,shouldShowValidationLinkFormatError:_}=this.state;let w;if(x){const e=this.sanitizeCarouselData();e&&(w=JSON.stringify(e))}const{altText:S,board:C,commentsDisabled:I,currentIndex:E,title:T,description:P,pinNoteText:D,sectionId:k,carousel_data:B,userMentionTags:M}=this.state,R=C||u,A=_?m:this.state.link,L={alt_text:S,board_id:null==R?void 0:R.id,board_section_id:k,carousel_data_json:w,description:P,disable_comments:I,disable_did_it:I,id:i,link:A,title:T,user_mention_tags:JSON.stringify(M),...e?{advertiser_id:e}:{}},N=v&&v.id||null,F=null==R?void 0:R.id,U=null==u?void 0:u.id,H=Ce(d,S),z=U!==F,Y=(Boolean(N)||Boolean(k))&&N!==k,q=Ce(p,T),G=Ce(g,P),W=Ce(m,A),V=Boolean(B)&&Boolean(O)&&!f()(B,O),K=h!==I||b!==I,X=Ce(y,D);H||z||Y||q||G||X||W||V||K?(X&&s(i,y,D),l.a.create("PinResource",L).callUpdate().then(({resource_response:e})=>{if(this._isMounted){const{changeBoardPinCount:d,onSubmit:l,pinId:u,pinMoved:h}=this.props;var i,s;if((z||Y)&&F&&U)h({selectedPinIds:[u],source:{boardId:U,sectionId:N},target:{boardId:F,sectionId:k}}),d({boardId:F,sectionId:k||void 0,increment:1}),d({boardId:U,sectionId:N||void 0,increment:-1}),c.id&&"quick_saves"===(null===(i=r.board)||void 0===i?void 0:i.layout)&&a(c.id,u);if(l&&F&&null!=R&&R.url)l({boardId:F,title:null!==(s=R.name)&&void 0!==s?s:"",sectionId:k,url:R.url});o(),n(u);const{data:b}=e;b.carousel_data&&(b.carousel_data.index=E),t(b),this.logPinEditEvent(z,Y,G,V,r)}}).catch(()=>{const{shouldShowValidationTitleError:e,shouldShowValidationDescriptionError:t,shouldShowValidationLinkFormatError:n}=this.state;this.setState({isProcessing:!1,shouldShowGenericUpdateError:!e&&!t&&!n})})):(o(),n(i)),this.setState({isProcessing:!1})}),we(this,"handleTextChanges",(e,t)=>{const{carousel_data:n}=this.state;if(!n)return;const i=s()(n),{carousel_slots:r=[]}=i,{currentIndex:o,shouldApplyTextToAll:a,description:c,link:d,title:l}=this.state,u=this.valueIsValidForType(e,t);switch(a?r.forEach(n=>n[t]=e):r[o]&&(r[o][t]=e),t){case"details":const t=0===o?e:c;this.setState({description:t,carousel_data:i||null,shouldShowValidationDescriptionError:!u,shouldShowGenericUpdateError:!1});break;case"link":const n=0===o?e:d;this.setState({link:n,carousel_data:i||null,shouldShowValidationLinkFormatError:!u,shouldShowGenericUpdateError:!1});break;case"title":const r=0===o?e:l;this.setState({title:r,carousel_data:i||null,shouldShowValidationTitleError:!u,shouldShowGenericUpdateError:!1})}}),we(this,"handleDescriptionChange",({value:e,userMentionTags:t})=>{const n=this.valueIsValidForType(e,"description"),i=this.valueIsValidForType(t,"userMentionTags");t.length<this.state.userMentionTags.length&&Object(L.b)(8906,{element:116,tag_type:1}),this.setState({description:e,userMentionTags:t,shouldShowValidationDescriptionError:!n,shouldShowValidationUserMentionTagsError:!i,shouldShowGenericUpdateError:!1})}),we(this,"handleCarouselDetailsChange",({value:e})=>{this.handleTextChanges(e,"details")}),we(this,"handleTitleChange",({value:e})=>{const t=this.valueIsValidForType(e,"title");this.setState({title:e,shouldShowValidationTitleError:!t,shouldShowGenericUpdateError:!1})}),we(this,"handleCarouselTitleChange",({value:e})=>{this.handleTextChanges(e,"title")}),we(this,"handleAltTextChange",({value:e})=>{this.setState({altText:e})}),we(this,"valueIsValidForType",(e,t)=>{switch(t){case"details":case"description":return e.length<=500;case"link":return e.length>=0&&0===Object(ye.r)([Object(ye.q)({message:g.a._("Not a valid url.","Validation error for an improperly formated url","Validation error for an improperly formated url")})],e).length;case"title":return e.length<=100;case"userMentionTags":return e.length<=5;default:return!0}}),we(this,"handleWebsiteChange",({value:e})=>{const t=this.valueIsValidForType(e,"link");this.setState({link:e,shouldDisableSave:!t,shouldShowValidationLinkFormatError:!t,shouldShowGenericUpdateError:!1})}),we(this,"handleCarouselWebsiteChange",({value:e})=>{this.handleTextChanges(e,"link")}),we(this,"handleCommentChange",e=>this.setState({commentsDisabled:!e.value})),we(this,"handleShouldApplyToAll",e=>{if(e){const{currentIndex:t=0,carousel_data:n}=this.state;if(!n)return;const i=s()(n),{carousel_slots:r=[]}=i,{details:o,link:a,title:c}=r[t];r.forEach(e=>{e.details=o,e.title=c,e.link=a}),this.setState({carousel_data:i,shouldApplyTextToAll:e})}else this.setState({shouldApplyTextToAll:e})}),we(this,"handleCarouselSlider",e=>{const{carousel_data:t}=this.state,n=t&&t.carousel_slots&&t.carousel_slots.length||1;e>=0&&e<n&&this.setState({currentIndex:e})}),we(this,"handleClickStoryPinPages",()=>{const{pinResource:{data:e},history:t}=this.props;e&&t.push(`/story-pin-builder/${e.id}/edit`)}),we(this,"handleMouseEnter",()=>{this.setState({shouldShowCarouselSliders:!0})}),we(this,"handleMouseLeave",()=>{this.setState({shouldShowCarouselSliders:!1})})}componentDidMount(){this._isMounted=!0,this.updateCarouselSlotIndex()}componentDidUpdate(e){const{pinResource:{data:t,isLoaded:n},carouselSlotCurrentIndex:i}=this.props;var r;t&&n!==e.pinResource.isLoaded&&this.setState({altText:t.alt_text,board:t.board,commentsDisabled:t.comments_disabled||t.did_it_disabled,description:t.description&&t.description.trim(),isLoadingPin:!1,link:t.link,pinNoteText:(null===(r=t.pin_note)||void 0===r?void 0:r.text)||"",sectionId:(t.section||{}).id,sectionName:(t.section||{}).title,title:t.title,carousel_data:t.carousel_data,currentIndex:void 0!==i?i:t.carousel_data&&t.carousel_data.index||0,shouldApplyTextToAll:!1,userMentionTags:t.user_mention_tags||[]})}componentWillUnmount(){this._isMounted=!1}showErrorToast(e){this.props.toastManagerContext.showOneToast(({onHide:t})=>Object(_.jsx)(O.a,{color:"red",duration:5e3,onHide:t,text:e})),this.props.onHide()}getCurrentUserId(e){return e.isAuth?e.id:""}render(){const{disableDelete:e,onHide:t,pinResource:n,pinId:i,requestContext:r,viewer:a}=this.props,{altText:s,apiErrorMessage:d,board:l,commentsDisabled:u,description:h,link:b,pinNoteText:p,sectionId:f,sectionName:j,showDeleteConfirmation:v,title:O,isLoadingPin:y,isProcessing:w,carousel_data:S,shouldApplyTextToAll:C,currentIndex:T,shouldDisableSave:P,shouldShowCarouselSliders:D,shouldShowValidationTitleError:B,shouldShowValidationDescriptionError:M,shouldShowValidationLinkFormatError:R,shouldShowGenericUpdateError:A,shouldShowValidationUserMentionTagsError:L,userMentionTags:N}=this.state;if(v)return Object(_.jsx)(I,{onDeletePin:this.handleDeletePin,onDismiss:this.onHideConfirmation});const F=new pe.b(r,"web_pin_edit_note_option").enabled(),H=n.data||{},z=!!(S&&S.carousel_slots&&S.carousel_slots.length>1),Y=S&&S.carousel_slots&&S.carousel_slots.length>0&&S.carousel_slots[T]||{},{details:V="",link:X="",title:$=""}=Y,Z=!!(H&&H.story_pin_data_id&&H.story_pin_data),Q=H&&(H.access||[]).includes("write")||this.props.canEdit||!!l&&Object(o.a)({action:4,board:l}),J=e=>{const t=this.getCurrentUserId(e),n=this.props.canEdit&&this.props.advertiserOwnerUserId?this.props.advertiserOwnerUserId:t;return Q&&!H.is_repin&&!Z&&(z||!S)&&(H.native_creator&&H.native_creator.id===n||z&&H.pinner&&H.pinner.id===n||H.link_domain&&H.link_domain.official_user&&H.link_domain.official_user.id===n||!!H.domain&&H.pinner&&H.pinner.id===n&&H.pinner.domain_url&&H.pinner.domain_url.includes(H.domain))},ee=H&&H.images&&H.images["474x"]||{},te=new pe.b(r,"web_story_pin_creator").enabledWithNoActivation(),ne=new pe.b(r,"web_alt_text").enabledWithNoActivation(),ie=H.story_pin_data&&H.story_pin_data.metadata&&H.story_pin_data.metadata.version?Object(ue.b)(H.story_pin_data.metadata.version,he.c):null,re=null!=ie&&ie>=0,ce=!!H.story_pin_data&&!!H.story_pin_data.metadata&&!!H.story_pin_data.metadata.is_editable&&H.native_creator&&H.native_creator.id===this.getCurrentUserId(a);if(Z&&te&&re&&ce)return Object(_.jsx)(oe,{apiErrorMessage:d,board:l,commentsDisabled:u,description:h,disableDelete:e,isLoadingPin:y,isProcessing:w,onChangeBoard:this.handleBoardChange,onChangeComment:this.handleCommentChange,onChangeSection:this.handleSectionChange,onClickBoardCreate:this.handleBoardCreateClick,onClickDeleteButton:this.onClickDeleteButton,onClickEditPages:this.handleClickStoryPinPages,onClickSectionCreate:this.handleSectionCreateClick,onHide:t,pinResource:n,sectionId:f,sectionName:j,title:O,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(a)});const de=J(a)?Object(_.jsx)(ae,{canEdit:Q,onTitleChange:z?this.handleCarouselTitleChange:this.handleTitleChange,title:z&&$?$:O,errorMessage:B?Object(je.b)(z):""}):null,le=(Q||a.isAuth&&(H.pinner||{}).id===a.id)&&J(a)?Object(_.jsx)(U,{canAddUserMentionTags:!z,canEdit:Q,description:(z?V:h)||"",errorMessage:M?Object(je.a)(z):L?Object(je.d)(z):"",initialMentions:N,label:g.a._("Description","Label for editing description","Label for editing description"),placeholder:g.a._("Tell us about this Pin...","Placeholder for editing description","Placeholder for editing description"),onDescriptionChange:z?this.handleCarouselDetailsChange:this.handleDescriptionChange}):null,be=F?Object(_.jsx)(W,{isCollaborative:!(null==l||!l.is_collaborative),onPinNoteChange:({value:e})=>{this.setState({pinNoteText:e})},pinNoteText:p}):null,fe=(e=>J(e)&&!(H.aggregated_pin_data&&H.aggregated_pin_data.is_shop_the_look))(a)?Object(_.jsx)(se,{link:z&&X?X:b,onChangeWebsite:z?this.handleCarouselWebsiteChange:this.handleWebsiteChange,errorMessage:R?Object(je.c)(z):""}):null,ge=z?Object(_.jsxs)(x.e,{display:"flex",justifyContent:"end",paddingX:4,paddingY:3,alignItems:"end",children:[Object(_.jsx)(x.e,{paddingY:2,children:Object(_.jsx)(x.x,{htmlFor:"applyTextToAll",children:Object(_.jsx)(x.Y,{children:g.a._("Apply text to all","Apply title, description, link to all cards","Apply title, description, link to all cards")})})}),Object(_.jsx)(x.e,{paddingX:2,paddingY:2,children:Object(_.jsx)(x.T,{onChange:e=>this.handleShouldApplyToAll(e.value),id:"applyTextToAll",switched:C})})]}):null,me=J(a)&&ne?Object(_.jsx)(E,{canEdit:Q,onAltTextChange:this.handleAltTextChange,altText:s}):null,ve=H.can_delete_did_it_and_comments?Object(_.jsx)(c.a,{commentsDisabled:u,onCommentChange:this.handleCommentChange}):null,Oe=!!a.has_quicksave_board&&!!a.boardCount&&a.boardCount<2;return Object(_.jsx)(m.b,{heading:g.a._("Edit this Pin","EditPinModal.ModalHeading.EditThisPin","Edit a previously saved pin"),accessibilityModalLabel:g.a._("Edit your previously saved pin","EditPinModal.ModalHeading.AccessibleLabel","Accessible label for edit previously saved pin modal"),size:Oe?"sm":"lg",onDismiss:t,footer:Object(_.jsx)(G,{apiErrorMessage:d,shouldShowGenericUpdateError:A,onClickDeleteButton:this.onClickDeleteButton,disableDelete:e,onHide:t,shouldDisableSave:P,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(a)}),children:y||!n.isLoaded||w?Object(_.jsx)(x.e,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(_.jsx)(x.R,{accessibilityLabel:g.a._("loading","EditPinModal.LoadingPin.Spinner","Accessible label for the edit pin loading icon"),show:!0})}):Object(_.jsxs)(x.e,{display:"flex",justifyContent:Oe?"center":"between",minHeight:350,paddingX:4,children:[Oe?null:Object(_.jsxs)(x.e,{column:12,mdColumn:9,children:[Object(_.jsx)(k,{board:l||H.board,canEdit:Q,onBoardChange:this.handleBoardChange,onBoardCreate:this.handleBoardCreateClick}),Object(_.jsx)(K,{board:l||H.board,canEdit:Q,onSectionCreate:this.handleSectionCreateClick,onSectionChange:this.handleSectionChange,sectionId:f,sectionName:j,currentSection:H.section}),de,le,fe,ge,me,be,ve]}),Object(_.jsx)(q,{isCarousel:z,shouldShowCarouselSliders:D,onCarouselSlide:this.handleCarouselSlider,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,currentIndex:this.state.currentIndex,carouselData:this.state.carousel_data,pinId:i,description:h,image:ee})]})})}}const Ee=(e,t)=>({field_set_key:"detailed",id:e,preserve_component_state:t});t.a=Object(Oe.compose)(y.c,Object(r.connect)((function(e){const{advertiser:t,viewer:n}=e;return n.isAuth&&t?{advertiser_id:t.id,...t.owner_user_id!==n.id?{advertiserOwnerUserId:t.owner_user_id}:{},viewer:n}:{viewer:n}}),e=>({changeBoardPinCount:t=>e(Object(le.d)(t)),changeUserPinCount:t=>e(Object(ge.c)(t)),completeResourceFetch:t=>e(Object(h.b)("PinResource",Ee(t.id,!1),t)),createBoard:(t,n)=>e(function(e,t){const n={name:e,privacy:d.a.BoardPrivacy.PUBLIC};return e=>l.a.create("BoardResource",n).callCreate().then(n=>{const i=n.resource_response.data;return e(t.username&&Object(h.f)("BoardsResource",Object(u.a)(t.username,!1))),i})}(t,n)),createSection:t=>e(Object(b.a)(t)),invalidatePinResource:t=>e(Object(h.f)("PinResource",Ee(t,!0))),removeBoardlessPin:(t,n)=>e(Object(ce.a)({feedId:t,feedType:be.a.BOARDLESS_PINS,itemIds:[n],itemType:"pin"})),pinMoved:Object(Oe.bindActionCreators)(xe.b,e),updatePinNote:(t,n,i)=>e(Object(fe.a)(t,n,i))})))((function(e){const t=Object(me.a)({name:"PinResource",options:Ee(e.pinId,!0)});return Object(_.jsx)(Ie,{...e,history:Object(_e.h)(),pinResource:t,requestContext:Object(ve.d)()})}))},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return i}));const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"62cf":function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return u}));const i=1,r=2,o="female",a="male",s="unspecified",c="en-US",d="US",l=520,u={is_renux:!0,is_simple_renux:!0,steps:[{moduleName:"NuxPicker"},{moduleName:"NuxEducationLoader"}],can_exit:!0,relaunchPlacement:!1,sub_type:"modal"}},"6A0I":function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("JW66"),a=n("Sihc"),s=n("Ye/N"),c=n("GBVV"),d=n("n6mq"),l=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(e){super(e),u(this,"onCreateSection",()=>{const{board:e,dispatch:t,completeCreateSectionAction:n,pinImport:i}=this.props;return this.setState({isSaving:!0}),t(Object(a.a)({boardId:e.id,name:this.state.inputName.trim(),pinImport:i})).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),u(this,"handleKeyDown",({event:e,value:t})=>{const{createError:n,inputName:i}=this.state;[o.a.KeyCode.ENTER,o.a.KeyCode.NUMPAD_ENTER].includes(e.which)&&!n&&i.trim()&&this.onCreateSection()}),u(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),u(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){const{createError:n,inputRef:i}=this.state;!i||t.inputRef&&!n||i.focus()}render(){const{showTitle:e,positionRelative:t}=this.props,{createError:n,inputName:i,isSaving:r}=this.state,o=!!i.trim()&&!n;return Object(l.jsxs)(d.e,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:t?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[e&&Object(l.jsx)(d.e,{marginTop:3,paddingX:6,paddingY:3,children:Object(l.jsx)(d.t,{size:"sm",children:s.a._("Add section","Title in the add section modal","Title in the add section modal")})}),Object(l.jsxs)(d.e,{padding:4,children:[Object(l.jsx)(d.e,{marginBottom:2,children:Object(l.jsx)(d.x,{htmlFor:"sectionEditName",children:Object(l.jsx)(d.Y,{size:"md",color:n?"red":"gray",children:s.a._("Name","Board section name","Board section name")})})}),Object(l.jsx)(d.e,{children:Object(l.jsx)(d.e,{ref:this.handleInputRef,children:Object(l.jsx)(d.ab,{errorMessage:n||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:s.a._('Like "Lighting"',"Placeholder for board section name","Placeholder for board section name"),size:"lg",type:"text",value:i})})})]}),Object(l.jsx)(d.e,{display:"flex",flex:"grow"}),Object(l.jsx)(d.e,{padding:4,children:Object(l.jsx)(d.e,{display:"flex",justifyContent:"end",children:Object(l.jsx)(c.b,{disabled:!o||r,onClick:this.onCreateSection,submitting:r,text:s.a._("Add","add a new section","add a new section")})})})]})}}t.a=Object(r.connect)()(h)},"6CFY":function(e,t,n){var i=n("q1tI"),r=n("BcvT"),o=n("n6mq"),a=n("nKUr");const s=new o.q(669),c={1:"up",2:"right",3:"down",4:"left"};t.a=({anchors:e={},complete:t,dismiss:n,displayData:d,idealDirection:l,onCompleteByAnchor:u={},platform:h,positionRelativeToAnchor:b=!0,touchToDismiss:p=!0,useMasonryFlyout:f=!1})=>{var g;const{anchors_by_platform:m={},button_text:j,button_uri:v,display_type:O,flyout_direction:y,scroll_to_dismiss:x,scroll_to_dismiss_delay_in_seconds:_=0,text:w}=d||{},S=null===(g=m[h])||void 0===g?void 0:g.anchor,C=e[S],I=Object(i.useCallback)(()=>{x&&(window.removeEventListener("scroll",I),window.removeEventListener("touchmove",I)),p&&C&&C.removeEventListener("click",I),setTimeout(()=>n(),1e3*_)},[C]);if(Object(i.useEffect)(()=>{C&&(x&&(window.addEventListener("scroll",I),window.addEventListener("touchmove",I)),p&&C.addEventListener("click",I))},[C]),!C)return null;const{FLYOUT:E,PULSAR:T}={FLYOUT:1,PULSAR:2},P=({children:e})=>{if(f)return Object(a.jsx)(o.y,{zIndex:s,children:e});if(O===T){const t={};if(b)t.top=C.offsetTop,t.left=C.offsetLeft,t.width=C.offsetWidth,t.height=C.offsetHeight;else{const e=C.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return Object(a.jsx)(o.e,{position:"absolute",top:!0,left:!0,zIndex:s,dangerouslySetInlineStyle:{__style:t},children:e})}return Object(a.jsx)(o.e,{zIndex:s,children:e})},D=c[y],k=v&&(v.startsWith("https://")||v.startsWith("http://")),B=(u||{})[S],M=()=>{x&&(window.removeEventListener("scroll",I),window.removeEventListener("touchmove",I)),p&&C.removeEventListener("click",I),t()};return Object(a.jsxs)(i.Fragment,{children:[O===T&&Object(a.jsx)(P,{children:Object(a.jsx)(r.a,{anchor:C,onTouch:()=>{M(),B?B():C instanceof HTMLElement&&C.click()},zIndex:670})}),O===E&&Object(a.jsx)(P,{children:Object(a.jsx)(o.I,{anchor:C,color:"blue",idealDirection:D||l||"down",onDismiss:I,positionRelativeToAnchor:!f&&b,shouldFocus:!1,showCaret:!0,size:"md",children:Object(a.jsxs)(o.e,{padding:4,width:"220px",children:[Object(a.jsx)(o.Y,{align:"center",color:"white",weight:"bold",children:w}),j?Object(a.jsx)(o.e,{display:"flex",justifyContent:"center",marginTop:4,children:Object(a.jsx)(o.e,{column:8,children:v?Object(a.jsx)(o.f,{color:"white",href:v,onClick:M,role:"link",size:"md",target:k?"blank":null,text:j}):Object(a.jsx)(o.f,{color:"white",onClick:M,size:"md",text:j})})}):null]})})})]})}},"6G9P":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=(n("JW66"),n("yaUg")),o=n("Ye/N"),a=n("n6mq"),s=n("nKUr");const c=(e,t)=>{if(!t)return e;const n=new RegExp(/http(s?):/);if(!n.test(e)){const i=n.exec(t);if(i&&i.length){e=i[0]+e}}return e},d=(e,t)=>t?Object(r.a)(o.a._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board","Toast for successfully saving to a section within a board"),{sectionName:t.title,boardName:null!=e?e:""}):Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(a.Y,{children:o.a._("Saved to")}),Object(s.jsx)(a.Y,{weight:"bold",children:e})]})},"6HHy":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("Ye/N"),r=n("vvax"),o=n("n6mq"),a=n("nKUr");function s({onUpdate:e,showLabel:t=!0,value:n}){const s=[];for(let o=1;o<=50;o+=1)s.push({value:String(o),label:Object(r.b)(i.a.ngettext("{{ servings }} serving","{{ servings }} servings",o,"storyboard.detailsList.field.servings","Option for number of servings a story pin recipe will provide"),{servings:o}).join("")});return Object(a.jsx)(o.e,{width:"100%",display:"flex",children:Object(a.jsx)(o.e,{width:"100%",position:"relative",children:Object(a.jsx)(o.P,{size:"lg",id:"servings",name:"servings",label:t?i.a._("Servings","storyboard.detailsList.field.servings","Header title for serving count entry for story pin recipe"):void 0,placeholder:i.a._("Pick a serving size","storyboard.detailsList.recipe","Placeholder caption for servings count input in story pin recipe"),value:n,options:s,onChange:({value:t})=>{Number.isNaN(t)||e(t)}})})})}},"6SCp":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("HJ6M");function r(e){return"most_reactions"===e?"most_reactions":"default"}function o(e,t,n,o){var a,s;const{owner:c,should_show_board_activity:d}=e,l=(null==c?void 0:c.id)===t.id;let u="react_grid_pin";return t.isPartner&&l&&d?u="partner_react_grid_pin_with_board_activity":t.isPartner&&l?u="partner_react_grid_pin":d&&(u="react_grid_pin_with_board_activity"),{board_id:e.id,board_url:null!==(a=e.url)&&void 0!==a?a:"",currentFilter:o,field_set_key:u,filter_section_pins:!o||o===i.a,sort:r(n),layout:null!==(s=e.layout)&&void 0!==s?s:"",page_size:25,redux_normalize_feed:!0}}},"6b3J":function(e,t,n){n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return E}));var i=n("q1tI"),r=n("/MKj"),o=n("Ye/N"),a=n("ihsa"),s=n("r9FX"),c=n("n6mq"),d=n("nKUr");const l={__style:{animationName:"SelectInterest_AnimateIn, SelectInterest_CircleAnimateOut",animationDuration:"0.3s, 0.3s",animationDelay:"0.3s, 1s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(196, 196, 196, 0.1)"}},u={__style:{animationName:"SelectInterest_AnimateIn, SelectInterest_AnimateOut",animationDuration:"0.3s, 0.5s",animationDelay:"0.3s, 1.1s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};var h=function({anchor:e,endAnimation:t,interest:n}){const[r,o]=Object(i.useState)(!1),{width:s,height:h,url:b}=n.images["400x"];let p;const f=()=>{t(n.id)},g=()=>{o(!0),p=setTimeout(f,2e3)};Object(i.useEffect)(()=>((()=>{const e=new Image;e.src=b,e.onload=g})(),()=>{p&&clearTimeout(p)}),[]);const{top:m,left:j,bottom:v,right:O}=(e||{}).getBoundingClientRect(),y=(m+v)/2+100,x=(j+O)/2-75;return!!e&&r&&Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(a.a,{unsafeCSS:"\n@keyframes SelectInterest_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SelectInterest_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SelectInterest_AnimateOut {\n  from {\n    transform: translateX(0) translateY(0) scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: translateX(-25px) translateY(-200px) scale(0.1);\n    opacity: 0;\n  }\n}\n"}),Object(d.jsxs)(c.e,{dangerouslySetInlineStyle:{__style:{top:y,left:x}},display:"flex",justifyContent:"center",position:"fixed",width:200,height:200,children:[Object(d.jsx)(c.e,{alignItems:"center",dangerouslySetInlineStyle:l,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),Object(d.jsx)(c.e,{bottom:!0,dangerouslySetInlineStyle:u,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",rounding:3,right:!0,top:!0,width:100,children:Object(d.jsx)(c.B,{height:"100%",rounding:4,width:"100%",wash:!0,children:Object(d.jsx)(c.w,{alt:"pin-image",fit:"cover",naturalHeight:s,naturalWidth:h,src:b})})})]})]})},b=n("w70y"),p=n("5MXd"),f=n("vtuW"),g=n("U4JR"),m=n("ySR+"),j=n("EC67"),v=n("0G5S"),O=n("0/lc"),y=n("QAzJ");const x="cubic-bezier(0.66, 0.025, 0.33, 0.975)",_="RelatedInterestsBanner_SlideIn 250ms forwards "+x,w=e=>({view:e,viewParameter:136,component:13489});function S({onDismiss:e,relatedInterests:t,viewType:n}){const[l,u]=Object(i.useState)(!0),[b,y]=Object(i.useState)(!1),[S,C]=Object(i.useState)([]),[I,E]=Object(i.useState)(S.reduce((e,t)=>(e[t.id]=!1,e),{})),[T,P]=Object(i.useState)(),[D,k]=Object(i.useState)(),[B,M]=Object(i.useState)(),{viewportSize:R}=Object(r.useSelector)(({ui:e})=>e.app);let A;const L=Object(j.h)(),N=Object(r.useDispatch)();Object(i.useEffect)(()=>{t&&t.length>=5&&(C(t.slice(0,6)),u(!1),Object(g.b)(9025,{view:n}),y((()=>{const e=Object(v.a)("lastViewedMiniRenux");return!!(e&&Date.now()-Number(e)<2592e5)})()),Object(f.c)("viewedMiniRenux",!0),Object(v.c)("lastViewedMiniRenux",Date.now()))},[t]),Object(i.useEffect)(()=>()=>{clearTimeout(T),clearTimeout(D),clearTimeout(A)},[]);const{isTooltipOnLogoButtonShown:F,logoButtonRef:U,toggleTooltipOnLogoButton:H}=Object(m.b)(),z=()=>H(!1),Y=()=>H(!0),q=e=>{u(!l);const t=e?{}:{element:179};let i=101;e&&(i=l?107:106),M(!0),A=setTimeout(()=>M(!1),125),Object(g.b)(i,{...w(n),...t})},G=e=>{const t=S.findIndex(t=>t.id===e.id),i=!e.is_followed,r=S.slice();r[t]={...e,is_followed:i},C(r),i&&E({...I,[e.id]:!0}),Promise.resolve(N(Object(O.d)({[e.id]:i},"mini_renux"))).then(()=>{i&&(F?(T&&clearTimeout(T),P(setTimeout(z,7e3))):(D&&clearTimeout(D),T&&clearTimeout(T),k(setTimeout(Y,3e3)),P(setTimeout(z,1e4)))),N(Object(O.c)(!0))}),Object(g.b)(101,{...w(n),element:i?1030:1151}),Object(f.c)("completedMiniRenux",!0)},W=e=>E({...I,[e]:!1}),V=o.a._("Welcome back!","relatedInterestsBanner.header","Welcome header on related interests banner"),K=o.a._("Tell us what else you're interested in","relatedInterestsBanner.subheader","Subheader on realted interests banner instructing users to select interests"),X=Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(c.e,{display:"flex",marginStart:-2,children:S.slice(0,3).map(e=>{const t=e.images["400x"];return t?Object(d.jsx)(c.e,{marginStart:2,rounding:2,children:Object(d.jsx)(c.B,{height:64,rounding:4,width:64,children:Object(d.jsx)(c.w,{alt:o.a._("Related interest image thumbnail","relatedInterestsBanner.image.thumbnail","Label for related interests image preview thumbnail"),color:e.background_color,fit:"cover",naturalHeight:t.height,naturalWidth:t.width,src:t.url})})},t.url):null})}),Object(d.jsxs)(c.e,{direction:"column",display:"flex",marginEnd:6,paddingX:6,children:[Object(d.jsx)(c.Y,{children:V}),Object(d.jsx)(c.t,{size:"sm",children:K})]}),Object(d.jsx)(c.f,{inline:!0,onClick:()=>q(!1),text:o.a._("Choose topics","relatedInterestsBanner.button.chooseTopics","Choose topics button, expands banner to show topics")})]}),$=Object(d.jsxs)(c.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:[Object(d.jsx)(c.Y,{align:"center",children:V}),Object(d.jsx)(c.t,{align:"center",size:"sm",children:K}),Object(d.jsx)(c.e,{display:"flex",marginStart:-2,paddingY:4,children:S.map(e=>Object(d.jsx)(c.e,{marginStart:2,display:"flex",direction:"column",justifyContent:"start",children:Object(d.jsx)(s.a,{clickHandler:()=>G(e),interest:e,isSelected:e.is_followed,size:"md_120"})},e.id))}),Object(d.jsx)(c.f,{color:"red",disabled:0===S.filter(e=>e.is_followed).length,inline:!0,onClick:()=>{L.push("/"),Object(g.b)(101,{...w(n),element:76})},text:o.a._("See your new home feed","relatedInterestsBanner.button.seeHomefeed","Submit selected topics and go to updated homefeed button")})]}),Z=new c.m([new c.q(p.a)]);return S.length>=5&&!b?Object(d.jsxs)(c.y,{children:[Object(d.jsx)(a.a,{unsafeCSS:(Q=128,`\n@keyframes RelatedInterestsBanner_SlideIn {\n  from { transform: translateY(${Q}px); }\n  to { transform: translateY(0); }\n}\n`)}),Object(d.jsx)(c.X,{onTap:l?()=>{}:()=>q(!1),children:Object(d.jsxs)(c.e,{alignItems:"center",bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{animation:_,WebkitAnimation:_,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",cursor:l?"default":"pointer",transition:"min-height 250ms "+x}},display:"flex",minHeight:l?328:128,justifyContent:"center",left:!0,padding:8,position:"fixed",right:!0,zIndex:Z,children:[!B&&(l?$:X),Object(d.jsx)(c.e,{padding:"lg"===R||l?8:4,position:"lg"===R||l?"absolute":"static",right:!0,top:l,children:Object(d.jsx)(c.v,{accessibilityLabel:o.a._("Dismiss icon button","relatedInterestsBanner.button.dismiss","Icon button to close banner"),icon:"cancel",iconColor:"darkGray",onClick:e})})]})}),S.map(e=>I[e.id]?Object(d.jsx)(h,{anchor:U,interest:e,endAnimation:W},e.id):null)]}):null;var Q}function C({onDismiss:e,pinId:t}){const{data:n}=Object(b.a)({name:"PinInterestsResource",options:{hideFollowed:!0,limit:6,pinId:t}});return Object(d.jsx)(S,{onDismiss:e,relatedInterests:n,viewType:3})}function I({boardId:e,onDismiss:t}){const n=Object(y.b)("web_board_related_interests_banner"),{data:i}=Object(b.a)({name:"ApiResource",options:{url:`/v3/boards/${e}/interests/`,data:{deduping_enabled:!0,hide_followed:!0,limit:6},field_sets:["interest.background_color","interest.follower_count","interest.id","interest.images[400x]","interest.is_followed","interest.name","interest.type","interest.url_name"]}});return i&&i.length>5&&n().anyEnabled?Object(d.jsx)(S,{onDismiss:t,relatedInterests:i,viewType:3}):null}function E({query:e}){const{anyEnabled:t}=Object(y.a)("web_search_related_interests_banner");return t?Object(d.jsx)(S,{onDismiss:()=>{},relatedInterests:[],viewType:2}):null}},"6j0b":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("8A+h");function r({board:e,viewer:t}){return Object(i.a)(t,e)?3069:3070}},"6uti":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,d=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,b=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case a:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case b:case d:return e;default:return t}}case g:case f:case o:return t}}}function j(e){return m(e)===h}t.typeOf=m,t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=d,t.Element=r,t.ForwardRef=b,t.Fragment=a,t.Lazy=g,t.Memo=f,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===c||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===d||e.$$typeof===l||e.$$typeof===b)},t.isAsyncMode=function(e){return j(e)||m(e)===u},t.isConcurrentMode=j,t.isContextConsumer=function(e){return m(e)===l},t.isContextProvider=function(e){return m(e)===d},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return m(e)===b},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===g},t.isMemo=function(e){return m(e)===f},t.isPortal=function(e){return m(e)===o},t.isProfiler=function(e){return m(e)===c},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===p}},"711d":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"75Er":function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("+NLT"),o=n("m2Wt"),a=n("h4v/");function s(e,t){Object(i.useEffect)(()=>{if(e){const t=o.a.fromPlainObject(e);t.setEventType(13),t.setRequestIdentifier(r.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),a.a.getInstance().addEvent(t)}},[t])}function c(e){const{children:t,log:n}=e;return s(n),t||null}},"79tv":function(e,t,n){function i(e=""){return e+"_tools/more-ideas/"}n.d(t,"a",(function(){return i}))},"7jH2":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return m})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return v})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return x.a})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return E})),n.d(t,"v",(function(){return T})),n.d(t,"w",(function(){return P})),n.d(t,"x",(function(){return D})),n.d(t,"y",(function(){return B})),n.d(t,"z",(function(){return M})),n.d(t,"A",(function(){return R})),n.d(t,"B",(function(){return L}));var i=({closeupPaneWidth:e,imgSrc:t,isGif:n,pin:i})=>{const r=O(Object(x.a)({pin:i})),{image564x:o={}}=f(r)||{},{imageOrig:a={}}=m(r)||{},s=0===Object.keys(o).length?a:o,c=s.height,d=s.width,{image236x:l={}}=p(O(Object(x.a)({pin:i})))||{},u=l.url,h=Math.max(Math.min(d,e),60),b=h/d*c;return{alt:i.description,src:n?t:u,naturalHeight:b,naturalWidth:h}},r=n("Nle8");function o(e){return!e.is_promoted}var a=e=>{const t=(e||[]).reduce((e,t)=>t.name?e.concat({name:t.name}):e,[]);return t.length>0?t:null};function s(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}var c=n("pOug");var d=Object(c.a)(e=>{const{richMetadata:t}=e,{article:n}=t,{name:i,description:r,authors:o,date_published:s}=n||{};return i?{...e,article:{name:i,description:r,authors:a(o),datePublished:s&&new Date(s)||void 0}}:null});var l=Object(c.a)(e=>{const{attribution:t}=e.pin,{author_url:n,url:i,author_name:r,title:o,provider_name:a,cc_url:s,embed:c}=t||{};return a&&i?{...e,attribution:{providerUrl:i,providerName:a,title:o,authorUrl:n,authorName:r,ccUrl:s,embed:c}}:null});var u=Object(c.a)(e=>{const{categorizedIngredients:t}=e.recipe;return t&&t.length>0?{...e,categorizedIngredients:t}:null});var h=Object(c.a)(e=>{const{display_name:t}=e.richSummary;return t?{...e,displayName:t}:null});const b=e=>t=>{const{images:n}=t,i=n[e],{url:r,width:o,height:a}=i||{};return r&&o&&a?{url:r,width:o,height:a}:null},p=Object(c.a)(e=>{const t=b("236x")(e);return t&&{...e,image236x:t}}),f=Object(c.a)(e=>{const t=b("564x")(e);return t&&{...e,image564x:t}}),g=Object(c.a)(e=>{const t=b("736x")(e);return t&&{...e,image736x:t}});var m=Object(c.a)(e=>{const{images:t}=e,n=t.orig,{url:i,width:r,height:o}=n||{};return i&&r&&o?{...e,imageOrig:{url:i,width:r,height:o}}:null});var j=Object(c.a)(e=>{const{embed:t}=e.pin,{type:n,src:i,subtype:r}=t||{},{attribution:o={}}=l(e)||{},{embed:a={}}=o,{src:s}=a,c=i||s;return c?{...e,embed:{type:n,src:c,subtype:r}}:null});var v=Object(c.a)(e=>{const{embed:t}=j(Object(x.a)(e))||{};return!(!t||!t.src||"pinstory"===t.subtype||"gif"===t.type)?{...e,embed:{...t}}:null});var O=Object(c.a)(e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce((e,t)=>{const i=n[t],{url:r,width:o,height:a}=i;return e&&r&&o&&a?{...e,[t]:{url:r,width:o,height:a}}:null},{});return i&&Object.keys(i).length>0?{...e,images:i}:null});var y=Object(c.a)(e=>{const{products:t=null}=I(e)&&_(I(e))||{},{pin:n}=e,{tracked_link:i,link:r,method:o}=n,a=i||r,s=a&&("catalog_bulk_create"===o||!!t)?decodeURIComponent(a):a;return s?{...e,link:s}:null}),x=n("O1y+");Object(c.a)(e=>{const{pin:t}=e,{aggregated_pin_data:n}=t,{pin_tags:i}=n||{};return i?{...e,pinTags:i}:null});var _=Object(c.a)(e=>{const{pin:t,richMetadata:n}=e,{buyable_availability:i}=t,{products:r}=n,o=Array.isArray(r)?r.map(e=>{const{name:t,offer_summary:n}=e,{in_stock:r,min_price:o,max_price:a,price:s}=n||{};let c=null;return void 0!==o&&void 0!==a?c=`${o} - ${a}`:void 0!==s&&(c=""+s),t?{name:t,outOfStock:!1===i||!1===r,priceText:c}:null}).filter(e=>null!==e):[];return o.length>0?{...e,products:{first:o[0],rest:o.slice(1)}}:null}),w=n("PsyL");const S=e=>{const{h:t,m:n}=e||{},i={hours:t||0,minutes:n||0};return void 0!==t||void 0!==n?{h:t,m:n,time:i,isoDuration:Object(w.a)(i)}:null};var C=Object(c.a)(e=>{const{richMetadata:t}=e,{recipe:n}=t,{name:i,categorized_ingredients:r,diets:o,from_aggregated_data:a,cook_times:s,servings_summary:c}=n||{},{total:d,cook:l,prep:u}=s||{},{summary:h}=c||{},b=S(u),p=S(l),f=S(d);return i?{...e,recipe:{name:i,categorizedIngredients:r,diets:o,fromAggregatedData:a,prepTime:b,cookTime:p,totalTime:f,servingSummary:h}}:null});var I=Object(c.a)(e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null});var E=Object(c.a)(e=>{const{rich_summary:t}=e.pin;return t?{...e,richSummary:t}:null});var T=Object(c.a)(e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null});var P=Object(c.a)(e=>{const{pin:t,inChangeTitlesExp:n}=e,{carousel_data:i,title:r,closeup_unified_title:o}=t;let a=n?o:r;if(i){const{carousel_slots:e=[],index:t}=i;e[t]&&e[t].title&&(a=e[t].title)}return a?{...e,title:a}:null});var D=Object(c.a)(e=>{const{richMetadata:t}=e,{tutorial:n}=t,{name:i,description:r,from_aggregated_data:o}=n||{};return n&&i?{...e,tutorial:{name:i,description:r,fromAggregatedData:o}}:null}),k=n("2i+x");var B=Object(c.a)(e=>{const{videos:t}=e.pin,{id:n,video_list:i={}}=t||{},{V_720P:r,V_HLSV4:o,V_HLSV3_MOBILE:a}=i,s=Object(k.a)(o),c=Object(k.a)(a),d=Object(k.a)(r),l=d||s||c;return n&&l?{...e,video:{id:n,hasVideo:l,mp4:d||void 0,hls:s||void 0,hlsv3:c||void 0}}:null});var M=Object(c.a)(e=>{const{video:t}=B(Object(x.a)(e))||{},{embed:n}=j(Object(x.a)(e))||{},i=!(!t||!(e=>{var t,n;const{hlsv3:i,hls:r}=e,o=i||r;return Boolean(!!o&&(null!==(t=o.width)&&void 0!==t?t:0)>(null!==(n=o.height)&&void 0!==n?n:0))})(t))||!(!n||!n.src||"pinstory"===n.subtype||"gif"===n.type);return{...e,isWideVideo:i}});function R({pin:e,boardCount:t}){return(!e.content_sensitivity||!e.content_sensitivity.is_sensitive_content)&&(void 0!==t&&t>=1)}var A=n("Zygf"),L=e=>!(e&&e.pinner&&e.pinner.blocked_by_me||e&&Object(A.a)(e))},"7nh8":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_COORDS="dnd-core/INIT_COORDS",t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",t.HOVER="dnd-core/HOVER",t.DROP="dnd-core/DROP",t.END_DRAG="dnd-core/END_DRAG"},"7pfs":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI");function r({children:e}){const[t,n]=Object(i.useState)(!1),[r,o]=Object(i.useState)(!1),[a,s]=Object(i.useState)(!1);return e({active:t,focused:r,hovered:a,onBlur:()=>{o(!1),n(!1)},onFocus:()=>o(!0),onMouseDown:()=>n(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),n(!1)},onMouseUp:()=>n(!1)})}},"7zq+":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("Q2/A");const r=/\{\s*(\w+)\s*\}/g;var o=(e,t)=>Object(i.a)(r,e,t);function a({args:e,format:t}){const n=(e||[]).reduce((e,t,n)=>({...e,[n]:t.text}),{});return o(t,n)}},"82UD":function(e,t,n){n.d(t,"a",(function(){return O}));var i=n("q1tI"),r=n("/MKj"),o=n("T+9/"),a=n("ajUs"),s=n("ou9u"),c=n("hFNL"),d=n("qD10"),l=n("yKES"),u=n("5uyJ"),h=n("n6mq"),b=n("nKUr");const p={overlay:{__style:{backgroundColor:"#000"}}};function f(e){var t;const{pin:{id:n,images:r,title:o,videos:a,video_status_message:s}}=e,c=s||{},f=r&&r["236x"],g=a&&(null===(t=a.video_list)||void 0===t?void 0:t[u.a.V_HLSV4]),{duration:m}=g||{};return Object(b.jsx)(i.Fragment,{children:Object(b.jsx)(h.i,{children:Object(b.jsxs)(d.a,{to:"/pin/"+n,children:[Object(b.jsxs)(h.e,{overflow:"hidden",position:"relative",rounding:2,children:[f&&Object(b.jsx)(h.w,{alt:o||"",color:"lightGray",naturalHeight:f.height,naturalWidth:f.width,src:f.url}),!!m&&Object(b.jsx)(h.e,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:Object(b.jsx)(l.a,{duration:m})}),Object(b.jsx)(h.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:p.overlay}),Object(b.jsxs)(h.e,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[Object(b.jsx)(h.t,{color:"white",overflow:"normal",size:"sm",children:c.title}),Object(b.jsx)(h.e,{marginTop:4,children:Object(b.jsx)(h.Y,{color:"white",size:"md",overflow:"normal",children:c.subtitle})})]})]}),Object(b.jsx)(h.e,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:Object(b.jsx)(h.e,{flex:"grow",children:o&&Object(b.jsx)(h.e,{paddingY:1,children:Object(b.jsx)(h.Y,{inline:!0,size:"md",weight:"bold",children:o})})})})]})})})}var g=n("Y8Sn"),m=n("EC67"),j=n("vpxy"),v=n("0nTG");function O({trackingParameters:e,pin:t,pinId:n,...d}){var l;const u=Object(m.i)(),h=Object(r.useSelector)(({pins:e})=>e[n])||t,p=Object(a.a)(h,u),O=Object(s.a)(h),y=!!(O&&O.url&&O.height&&O.width)||void 0,x=O&&h.videos?h.videos.id:void 0,[_,w]=Object(i.useState)(!1),S=Object(i.useCallback)(()=>w(!0),[]),C=Object(i.useCallback)(()=>w(!1),[]),{componentType:I,contextLogData:E,impressionAuxFields:T,slotIndex:P,viewData:D,viewParameter:k,viewType:B}=e;return Object(b.jsx)(o.a,{componentType:I,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(c.b)(window)}:{},...E,...Object(v.f)(h,E)},impressionAuxFields:{...T||{},isNativeVideoAndWatchable:y,videoIdStr:x,clientTrackingParams:p||(h.tracking_params||"")+"-0",imageURL:h.images&&(null===(l=h.images["236x"])||void 0===l?void 0:l.url),richTypes:Object(v.e)(h)},impressionType:"Pin",isPaused:!_,loggingId:h.id,slotIndex:P,viewData:D,viewParameter:k,viewType:B,children:Object(g.h)(h)?Object(b.jsx)(f,{pin:h}):Object(b.jsx)(j.a,{...d,debugImpressionState:_?"started":"paused",onError:C,onLoad:S,pin:h,pinId:n,trackingParameters:{componentType:I,contextLogData:E,slotIndex:P,viewParameter:k,viewType:B}})})}},"88U9":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=3;function r(e,t){const n=t.length>i;return{limitedCollaborators:t.slice(0,n?2:3),overflowNumber:n?e-i+1:0}}},"8BbR":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("Ye/N"),r=n("eBDd"),o=n("n6mq"),a=n("nKUr");function s({pinCount:e,height:t,size:n}){const s=Object(r.a)(i.a._("+{{ pinCount }}","+N count overlay on pin selections","+N count overlay on pin selections"),{pinCount:e});return Object(a.jsx)(o.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,.2)"}},display:"flex",justifyContent:"center",height:t,children:"sm"===n?Object(a.jsx)(o.Y,{color:"white",size:"md",weight:"bold",children:s}):Object(a.jsx)(o.t,{color:"white",size:"md",children:s})})}function c({additionalPinCount:e,additionalPinCountSize:t="lg",pin:n,width:i,height:r,rounded:c}){return Object(a.jsx)(o.B,{height:r,width:i,rounding:c?4:0,wash:!0,children:n&&Object(a.jsx)(o.w,{alt:n.description,color:n.dominantColor,fit:"cover",naturalHeight:r,naturalWidth:i,src:n.imageUrl,children:!!e&&Object(a.jsx)(s,{pinCount:e,height:r,size:t})})})}},"8Enz":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("Ye/N"),r=n("n6mq"),o=n("nKUr");function a({onUpdate:e,showLabel:t=!0,value:n}){const a=[{label:i.a._("Easy","storyboard.detailsList.field.difficulty","Easy difficulty rating for story pin"),value:String(1)},{label:i.a._("Intermediate","storyboard.detailsList.field.difficulty","Medium difficulty rating for story pin"),value:String(2)},{label:i.a._("Expert","storyboard.detailsList.field.difficulty","Hard difficulty rating for story pin"),value:String(3)},{label:i.a._("Not applicable","storyboard.detailsList.field.difficulty","Difficulty rating does not apply for story pin"),value:String(0)}];return Object(o.jsx)(r.e,{width:"100%",display:"flex",children:Object(o.jsx)(r.e,{width:"100%",children:Object(o.jsx)(r.P,{size:"lg",id:"servings",name:"servings",label:t?i.a._("Difficulty","storyboard.detailsList.field.difficulty","Header title for difficulty rating entry for story pin"):void 0,placeholder:i.a._("Pick a difficulty rating","storyboard.detailsList.field","Placeholder caption for difficulty rating input in story pin"),value:n,options:a,onChange:({value:t})=>{Number.isNaN(t)||e(t)}})})})}},"8Mj5":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("n6mq"),r=n("nKUr");function o({children:e}){return Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:e})}var a=n("Ye/N");function s({onClick:e,overlap:t,size:n}){return Object(r.jsx)(i.e,{marginStart:t,children:Object(r.jsx)(o,{children:Object(r.jsx)(i.v,{accessibilityLabel:a.a._("Add","facePile.addButton","Accessibility label for button to add a collaborator"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:e,size:n})})})}function c({style:e}){return Object(r.jsx)(i.e,{bottom:!0,dangerouslySetInlineStyle:{__style:e||{}},left:!0,position:"absolute",right:!0,rounding:"pill",top:!0})}function d({children:e,hovered:t}){return Object(r.jsxs)(i.e,{position:"relative",children:[Object(r.jsx)(c,{style:t?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:null}),e]})}function l({addButtonRef:e,hovered:t,overlap:n}){return Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},children:Object(r.jsx)(i.e,{marginStart:n,children:Object(r.jsx)(d,{hovered:t,children:Object(r.jsx)(o,{children:Object(r.jsx)(i.e,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",ref:e,rounding:"circle",width:48,children:Object(r.jsx)(i.u,{accessibilityLabel:a.a._("Add","ui.Facepile","Accessibility label on icon"),icon:"add",color:"darkGray",size:20})})})})})},"addIcon")}var u=n("XRfM"),h=n("pLLR");const b={xs:24,sm:32,md:40,lg:48,xl:56};function p({count:e,size:t,showLargeNumbers:n}){const a=b[t],{locale:s}=Object(h.d)();return Object(r.jsx)(o,{children:Object(r.jsx)(i.e,{alignItems:"center",color:"lightGray",display:"flex",height:a,justifyContent:"center",position:"relative",rounding:"circle",width:a,children:Object(r.jsx)(i.Y,{size:"lg",weight:"bold",children:e>99&&!n?"99+":Object(u.g)(s,e,{shortform:!0})})})})}var f=n("7pfs"),g=n("FDmi");function m({isDim:e,name:t,size:n,src:o}){const a=b[n];return Object(r.jsx)(i.e,{color:"white",height:a,width:a,rounding:"circle",children:Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:{opacity:e?.5:1}},children:Object(r.jsx)(g.a,{name:t,outline:!0,src:o})})})}function j({addButtonRef:e,additionalCount:t,faces:n,faceSize:o,onAddClick:a,onClick:c,oneClickTargetFacepile:u,overlap:h,pileRef:b,showAddButton:g,showLargeNumbers:j}){const v=({apply:e,children:t})=>Object(r.jsx)(i.e,{marginStart:e?h:void 0,children:t});return Object(r.jsx)(f.a,{children:({hovered:f,onMouseEnter:O,onMouseLeave:y})=>{const x=n.map(({isDim:e,key:t,name:n,src:i},a)=>Object(r.jsx)(v,{apply:0!==a,children:Object(r.jsx)(d,{hovered:f&&!!c,children:Object(r.jsx)(m,{isDim:e,name:n,size:o,src:i},null!=t?t:n)})},"face-"+a));t&&x.push(Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},children:Object(r.jsx)(v,{apply:!0,children:Object(r.jsx)(d,{hovered:f&&!!c,children:Object(r.jsx)(p,{count:t,size:o,showLargeNumbers:j})})})},"additionalCount")),u&&g&&x.push(Object(r.jsx)(l,{addButtonRef:e,hovered:f&&!!c,overlap:h}));const _=c?Object(r.jsx)(i.X,{ref:b,onTap:c,rounding:"pill",children:Object(r.jsx)(i.e,{alignItems:"center",display:"flex",children:x})}):x;return Object(r.jsxs)(i.e,{alignItems:"center",display:"flex",onMouseEnter:O,onMouseLeave:y,children:[_,!u&&g&&a&&Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:{zIndex:2}},ref:e,children:Object(r.jsx)(s,{onClick:a,overlap:h,size:o})})]})}})}},"8cMa":function(e,t,n){var i=n("Ye/N"),r=n("n6mq"),o=n("nKUr");t.a=function({type:e}){const t={group:{accessibilityLabel:i.a._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:i.a._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"protect"},secret:{accessibilityLabel:i.a._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return Object(o.jsx)(r.e,{marginStart:1,children:Object(o.jsx)(r.e,{marginStart:2,children:"sections"===e||"sectionsInline"===e?Object(o.jsx)(r.u,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"darkGray"}):Object(o.jsx)(r.u,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"darkGray"})})})}},"9EBm":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("+k3R"),r=n("slCJ"),o=n("4vzw"),a=n("5ARb"),s=n("nrB0"),c=n("nwWm"),d=n("E3gc"),l=n("QWfI"),u=n("2S0S");t.default=function(e,t,n,h){void 0===h&&(h={}),i.default("DragSource","type, spec, collect[, options]",e,t,n,h);var b=e;"function"!=typeof e&&(u(d.default(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),b=function(){return e}),u(l.isPlainObject(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var p=a.default(t);return u("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),u(l.isPlainObject(h),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return r.default({containerDisplayName:"DragSource",createHandler:p,registerHandler:o.default,createConnector:function(e){return new c.default(e)},createMonitor:function(e){return new s.default(e)},DecoratedComponent:e,getType:b,collect:n,options:h})}}},"9Nap":function(e,t,n){var i=n("/9aa");e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return a}));const i={row:0,section:0},r={row:-1,section:-1},o=()=>{};class a{constructor(e){this.index=Object.assign({},i),this.sections=e,this.updateCallback=o,this.selectItem=o}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===r.row&&t===r.section?this.index=Object.assign({},i):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===r.row&&t===r.section)this.index=Object.assign({},i);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},r),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},"9X5u":function(e,t,n){var i=n("P9b8"),r=(n("rg+c"),n("aUfZ")),o=n("ANjH");t.a=e=>t=>Object(o.compose)(r.a,Object(i.DropTarget)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},"9b+k":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,n){var i=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=i?i:n}},"9ggG":function(e,t,n){var i=n("Z0cm"),r=n("/9aa"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},"9ip6":function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));function i(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function r({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:n}){const i=n?.5*t:0;return Math.abs(e)<i/2?"center":e<0?"left":"right"}function o({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:n}){if("center"===t||e===n)return e;const i="left"===t;return e<n===i?e:i?e-1:e+1}},A6Hx:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=n("Ye/N"),o=n("TgLd"),a=n("n6mq"),s=n("U4JR"),c=n("nKUr");function d({children:e,objectId:t,onHide:n}){const d={component:13141,objectId:t};return Object(i.useEffect)(()=>{Object(s.b)(6359,d)},[t]),Object(c.jsx)(o.b,{accessibilityModalLabel:r.a._("Pincode","pincode.pincodemodal.label","Accessible label for a modal showing the pincode modal"),heading:r.a._("Pincode","pincode.pincodemodal.heading","Heading for a modal showing the pincode."),onDismiss:()=>{n(),Object(s.b)(6358,d)},size:"sm",children:Object(c.jsx)(a.e,{display:"flex",justifyContent:"center",children:e})})}},AAEI:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),r=n("ANjH"),o=n("vh5K"),a=n("Vzit");function s(e){const t=Object(i.useDispatch)(),n=Object(i.useSelector)(e=>e.experiences.eligibleExperiences),s=Object(i.useSelector)(e=>e.experiences.mountedPlacements);return{experienceForPlacement:e?Object(o.c)(n,s,e):null,...Object(r.bindActionCreators)({completeExperience:a.a,dismissExperience:a.b,fetchAllExperiences:a.d,fetchExperienceForPlacement:a.c,triggerExperimentsForPlacement:a.k,viewExperience:a.j},t)}}},AHhP:function(e,t){const n={},i=function(e,t){let n=!1;return function(...i){n||(n=!0,e.apply(this,i),t&&t())}},r=function(e,t){e.__listeners=t},o=function(e,t){return!e.__listeners&&t&&r(e,[]),e.__listeners},a=function(e,t){return!e.__handlers&&t&&(e.__handlers={}),e.__handlers},s=function e(t,n,i){let r,o,a=[];if("string"==typeof t)for(r=t.split(" "),o=0;o<r.length;o+=1)a.push({name:r[o],callback:n,originalCallback:n,context:i});else"object"==typeof t&&t&&Object.keys(t).forEach(r=>{a=a.concat(e(r,t[r],i||n))});return a},c=function(e,t,n,i){const r=s(e,t,n);for(let o=0;o<r.length;o+=1)i(r[o])},d=function(e,t){const n=a(e,!0);void 0===n[t.name]?n[t.name]=[t]:n[t.name].push(t)},l=function(e,t,n){const i=o(e,!0);for(let r=0;r<n.length;r+=1){const e=n[r];if(!e.callback)return;d(t,e),i.push({obj:t,event:e,originalCallback:e.originalCallback})}};n.on=function(e,t,n){return c(e,t,n,e=>{e.callback&&d(this,e)}),this},n.off=function(e,t,n){const i=a(this,!1);if(void 0===i)return this;const r=Object.keys(i);let o=s(e,t,n);0===o.length&&(o=[{name:null,callback:t,context:n}]);for(let a=0;a<o.length;a+=1){const e=o[a];let t;t=e.name?[e.name]:r;for(let n=0;n<t.length;n+=1){const r=t[n],o=i[r];if(void 0!==o){const t=[];for(let n=0;n<o.length;n+=1){const i=o[n];(e.callback&&i.originalCallback!==e.callback&&i.callback!==e.callback||e.context&&i.context!==e.context)&&t.push(i)}i[r]=t}}}return this},n.trigger=function(e,...t){const n=a(this,!1);if(void 0===n)return this;let i,r,o;const s=e.split(" ");for(i=0;i<s.length;i+=1){let e=[];const a=n.all,c=s[i],d=n[c];if(void 0!==d)for(r=0;r<d.length;r+=1)if(o=d[r],"function"==typeof o.callback)e.push({fn:o.callback,context:o.context||this,args:t});else if(o.callback)throw new Error("Callbacks must be functions");if(void 0!==a)for(r=0;r<a.length;r+=1)if(o=a[r],"function"==typeof o.callback)e.push({fn:o.callback,context:o.context||this,args:[c].concat(t)});else if(o.callback)throw new Error("Callbacks must be functions");for(r=0;r<e.length;r+=1)o=e[r],o.fn.apply(o.context,o.args);e=[]}return this},n.once=function(e,t,n){return c(e,t,n,e=>{"function"==typeof e.originalCallback&&(e.callback=i(e.originalCallback,()=>{this.off(e.name,e.callback,e.context)}),d(this,e))}),this},n.listenTo=function(e,t,n){return l(this,e,s(t,n,this)),this},n.listenToOnce=function(e,t,n){const r=s(t,n,this).map(t=>(t.originalCallback&&(t.callback=i(t.originalCallback,()=>{this.stopListening(e,t.name,t.originalCallback,t.context)})),t));return l(this,e,r),this},n.stopListening=function(e,t,n){const i=o(this,!1);let a,c,d;if(!i)return this;const l=[],u=void 0===t?void 0:s(t,n,this);for(c=0;c<i.length;c+=1)if(a=i[c],a.obj!==e&&e)l.push(a);else if(t){let e=!1;for(d=0;d<u.length&&!1===e;d+=1){const t=u[d];a.event.name===t.name&&a.originalCallback===t.callback&&(e=!0)}e?a.obj.off(a.event.name,a.event.callback,a.event.context):l.push(a)}else a.obj.off(a.event.name,a.event.callback,a.event.context);return r(this,l),this},e.exports=n},AP2z:function(e,t,n){var i=n("nmnc"),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(c){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},"B/lV":function(e,t,n){const i=e=>{const t=e.replace(new RegExp("^"+(window.location.origin||"")),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},r=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(t+".com/"));t.a=(e,t)=>{const n=(({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}})(e),{name:o}=e;return{category:n,isDeferred:"script"===n&&i(o),isExternal:r(o),isVisuallyCompleteRequired:"image"===n&&t.includes(o),timing:e}}},"B/xd":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),r=n("2S0S");function o(e,t){"function"==typeof e?e(t):e.current=t}t.default=function(e,t){var n=e.ref;return r("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?i.cloneElement(e,{ref:function(e){o(t,e),n&&o(n,e)}}):i.cloneElement(e,{ref:t})}},B6Tf:function(e,t,n){n.d(t,"a",(function(){return pe})),n.d(t,"b",(function(){return fe}));var i=n("q1tI"),r=n("b/K5"),o=n("/MKj"),a=n("JW66"),s=n("Ye/N"),c=n("GBVV"),d=n("/WHw"),l=n("pLLR"),u=n("fZbY"),h=n("oRM1"),b=n("FDmi"),p=n("yaUg"),f=n("n6mq"),g=n("nKUr");function m(e){const{body:t,img:n,onClick:i,selected:r,title:o,username:a,valid:c}=e,d=a||t;return Object(g.jsx)(f.e,{marginBottom:4,children:Object(g.jsx)(f.X,{onTap:i,children:Object(g.jsxs)(f.e,{alignItems:"center",direction:"row",display:"flex",width:"100%",children:[n,Object(g.jsxs)(f.e,{flex:"grow",marginEnd:2,marginStart:3,children:[Object(g.jsx)(f.e,{marginBottom:1,children:Object(g.jsx)(f.Y,{truncate:!0,weight:"bold",children:o})}),Object(g.jsx)(f.Y,{size:"sm",truncate:!0,children:d})]}),Object(g.jsx)(f.e,{marginStart:2,children:(l=r,u=c,a?l?Object(g.jsx)(f.u,{accessibilityLabel:s.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites","Alt tags on a check box on the board create flow for board invites"),color:"red",icon:"check-circle",size:32}):Object(g.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):Object(g.jsx)(f.f,{color:"gray",disabled:!!l||Boolean(!u),inline:!0,size:"sm",text:l?s.a._("Sent","Sent a board collaborator invite","Sent a board collaborator invite"):s.a._("Invite","Add board collaborator invite","Add board collaborator invite")}))})]})})});var l,u}var j=n("ZE2w"),v=n("w70y");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n){const{id:i}=e;return t===n.findIndex(e=>e.id===i)}class x extends i.Component{constructor(...e){super(...e),O(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),O(this,"isIdSelected",{}),O(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),O(this,"handleCollaboratorClick",e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:i}=this.state,r=i.concat([e]),o="email"===n?j.c:j.d;this.props.onSelectedCollaboratorsChange({id:t,resource:o}),this.setState({selectedCollaborators:r})}),O(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const i="email"===n?j.c:j.d;return this.props.onSelectedCollaboratorsChange({id:t,resource:i}),null})}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,n=t||[],i=(""===e?this.state.selectedCollaborators.concat(n).filter(y):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:Object(u.a)(e)}).concat(n).filter(y)).map(e=>function(e,t,n){if("user_share_suggestion"===e.type||"user"===e.type){const i=Object(g.jsx)(b.a,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return Object(g.jsx)(m,{img:i,onClick:()=>n(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:i,valid:r}=e,o=Object(g.jsx)(f.e,{alignItems:"center",color:"lightGray",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:Object(g.jsx)(f.u,{accessibilityLabel:s.a._("Email icon","Email icon on board create modal","Email icon on board create modal"),color:"darkGray",icon:"envelope",size:20})}),a=Object(p.a)(s.a._("Email {{ email }}"),{email:i});let c,d;return t?(c=s.a._("Done!","Text that lets the user know we sent the board invite email","Text that lets the user know we sent the board invite email"),d=()=>{}):(c=r?s.a._("Click to send!","Text that lets the user know they can successfully send a board invite email","Text that lets the user know they can successfully send a board invite email"):s.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet","Text that lets a user know the email they are typing is not valid yet"),d=()=>r?n(e):void 0),Object(g.jsx)(m,{body:c,img:o,onClick:d,selected:t,title:a,valid:r})}}(e,this.isIdSelected[e.id],this.handleCollaboratorClick)).map((e,t)=>Object(g.jsx)("li",{children:e},t));return Object(g.jsxs)(f.e,{direction:"column",display:"flex",height:"100%",children:[Object(g.jsx)(f.e,{paddingX:3,paddingY:2,children:Object(g.jsx)(f.Y,{size:"sm",children:s.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create","Optional field to add collaborators to a board on board create")})}),Object(g.jsx)(f.e,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:Object(g.jsx)(f.e,{flex:"grow",children:Object(g.jsx)(h.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:Object(g.jsx)(f.N,{accessibilityLabel:s.a._("Search for collaborators by name or email"),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:s.a._("Search by name or email"),size:"lg",value:e})})})}),Object(g.jsx)(f.e,{overflow:"scrollY",paddingX:3,children:Object(g.jsx)("ul",{children:i})})]})}}var _=Object(v.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",allowStale:!1})(x);var w=Object(d.a)((function({createBoardError:e,inputName:t,nameValidatorErrors:n,onBoardCreate:r,onCancel:o,onChangeBoardName:d,onChangeBoardPrivacy:u,onInvite:h,privacy:b,preselectedCollaborators:p,saving:m,showTitle:j,isAdAccountOwner:v}){const{isRTL:O}=Object(l.d)(),y=0===n.length,x=b===a.a.BoardPrivacy.SECRET;return Object(g.jsx)(f.e,{color:"white",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:Object(g.jsx)("form",{onSubmit:e=>{e.preventDefault(),r()},style:{height:"100%"},children:Object(g.jsxs)(f.e,{direction:"column",display:"flex",height:"100%",children:[j&&Object(g.jsx)(f.e,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:Object(g.jsx)(f.t,{size:"sm",children:s.a._("Create board")})}),Object(g.jsxs)(f.e,{padding:3,children:[Object(g.jsx)(f.e,{marginBottom:2,children:Object(g.jsx)(f.x,{htmlFor:"boardEditName",children:Object(g.jsx)(f.Y,{size:"sm",children:s.a._("Name")})})}),Object(g.jsx)(f.e,{children:Object(g.jsx)(f.ab,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>d(e),placeholder:s.a._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:t})})]}),v&&Object(g.jsxs)(i.Fragment,{children:[Object(g.jsxs)(f.e,{padding:3,children:[Object(g.jsx)(f.e,{marginBottom:2,children:Object(g.jsx)(f.x,{htmlFor:"secret",children:Object(g.jsx)(f.Y,{size:"sm",children:s.a._("Secret","secret board","secret board")})})}),Object(g.jsx)(f.e,{children:Object(g.jsx)(f.T,{id:"secret",onChange:u,switched:x})})]}),Object(g.jsx)(f.e,{display:"flex",flex:"grow",overflow:"hidden",children:Object(g.jsx)(f.e,{width:"100%",children:Object(g.jsx)(_,{onSelectedCollaboratorsChange:h,preselectedCollaborators:p})})})]}),!v&&Object(g.jsx)(i.Fragment,{children:Object(g.jsxs)(f.e,{padding:3,children:[Object(g.jsx)(f.e,{marginBottom:2,children:Object(g.jsx)(f.x,{htmlFor:"protected",children:Object(g.jsx)(f.Y,{size:"sm",children:s.a._("Protected board (not listed on user's profile)","protected board","protected board")})})}),Object(g.jsx)(f.e,{children:Object(g.jsx)(f.T,{disabled:!0,id:"protected",onChange:()=>{},switched:!0})})]})}),Object(g.jsxs)(f.e,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},display:"flex",justifyContent:"between",left:O,paddingX:4,paddingY:2,position:"absolute",right:!O,width:720,children:[Object(g.jsx)(f.f,{inline:!0,onClick:o,text:s.a._("Cancel","cancel board create","cancel board create")}),Object(g.jsxs)(f.e,{display:"flex",justifyContent:"end",children:[!!e&&Object(g.jsx)(f.e,{paddingX:2,children:Object(g.jsx)(f.Y,{align:"center",color:"red",size:"md",weight:"bold",children:e})}),Object(g.jsx)(c.b,{disabled:!t.trim()||!y||!!e||m,submitting:m,text:s.a._("Create","create a new board","create a new board")})]})]})]})})})})),S=n("6A0I"),C=n("qyR9"),I=n("0BOE");class E extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{board:t,sectionsResource:{data:n}}=this.props;return e.length>=2?[{items:Object(I.a)([t],e),customProps:{inSectionSelection:!0}},{items:Object(I.a)(n,e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0}},{items:n}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{sectionsResource:{error:e,isLoaded:t},boardSavedTo:n,isSelectMode:i,onSectionCreate:r,onSectionSelected:o,pinId:a}=this.props;return Object(g.jsx)(C.a,{isSelectMode:i,boardSavedTo:n,createButtonLabel:s.a._("Add section","Button for creating a board section","Button for creating a board section"),hasLoadError:!!e,isLoaded:t,getSections:this.getSections,onCreate:r,onSelected:o,pinId:a})}}var T=Object(v.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})})(E),P=n("Wer7"),D=n("U4JR"),k=n("ANjH");function B(e,t,n){return{...e?{pin_id:e}:{},...t?{username:t}:{},...n?{advertiser_id:n,filter:"protected"}:{},field_set_key:"board_picker",limit:undefined,shortlist_suggestions:2}}class M extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{boardResource:{data:t}}=this.props;if(!t)return[];const{all_boards:n,boards_shortlist:i}=t,r=(e=>{const t=[],n=[];return e.forEach(e=>{var i;null!==(i=e.name)&&void 0!==i&&i.match(/^\d/)?n.push(e):t.push(e)}),[...t,...n]})(n);return r.length<=3?[{items:r}]:e.length>=2?[{items:Object(I.a)(r,e)}]:[i.length?{items:i,title:s.a._("Top choices")}:{items:[]},{items:r,title:s.a._("All boards","title for board picker all boards section","title for board picker all boards section")}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{boardResource:{data:e,error:t,isLoaded:n},boardSavedTo:i,isSelectMode:r,onBoardCreate:o,onBoardSelected:a,pinId:s}=this.props,c=n&&!!e&&e.all_boards.length<=3;return Object(g.jsx)(C.a,{isSelectMode:r,boardSavedTo:i,hasLoadError:!!t,hasLowBoardCount:c,isLoaded:n,getSections:this.getSections,onCreate:o,onSelected:a,pinId:s})}}var R=Object(k.compose)(Object(o.connect)((function(e){const{advertiser:t,viewer:n}=e;return n.isAuth&&t&&t.owner_user_id!==n.id?{advertiser_id:t.id,username:t.owner_user_id}:{}})),Object(v.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:e=>B(e.pinId,e.username,e.advertiser_id)}))(M);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends i.Component{constructor(...e){super(...e),A(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),A(this,"close",()=>{const{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:n}=this.props;t&&e?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):n()}),A(this,"sendInvites",e=>{const{inviteQueue:t}=this.state;Object.keys(t).forEach(n=>{t[n].resource(e.id,[n])})}),A(this,"handleInvite",e=>{const{inviteQueue:t}=this.state;if(t[e.id]){const n={...t};delete n[e.id],this.setState({inviteQueue:n})}else{const n=Object.assign({},t,{[e.id]:e});this.setState({inviteQueue:n})}}),A(this,"handleBoardCreate",e=>{const{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),A(this,"handleBoardSave",(e,t)=>{const{selectedSectionBoard:n}=this.state,{onBoardSave:i,invalidatePinBetterSaveResource:r,invalidateResource:o}=this.props;if(o(),r(),n&&"board_section"===e.type){return i(n,e,t)}const a=e,{section_count:s=0}=a;!n&&"number"==typeof s&&s>0?this.setState({selectedSectionBoard:a},this.manageModalTitle):(this.sendInvites(e),i(a,void 0,t))}),A(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle);const n=e?13105:13025,i=e?10306:249;Object(D.b)(101,{component:n,element:i})}),A(this,"manageModalTitle",()=>{const{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:n}=this.state;e&&e(n&&t?s.a._("Add section","Repin title for making a board section","Repin title for making a board section"):n&&!t?s.a._("Create board","Repin title for making a new board","Repin title for making a new board"):t&&!n?s.a._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section"):s.a._("Choose board","Repin title for choosing a board","Repin title for choosing a board"))})}render(){const{boardSavedTo:e,isRepin:t,isSelectMode:n,onToggleFlyout:i,pinId:r,preselectedCollaborators:o,setModalTitle:a,suggestedBoardTitle:s}=this.props,{newName:c,selectedSectionBoard:d,showCreate:l}=this.state,u=!!d,h=!a;return Object(g.jsxs)(f.e,{display:"flex",position:"relative",width:"100%",children:[!l&&Object(g.jsx)(f.e,{direction:"column",display:"flex",marginTop:4,width:"100%",children:d?Object(g.jsx)(T,{board:d,boardSavedTo:e,isSelectMode:n,onSectionCreate:this.handleCreate(u),onSectionSelected:this.handleBoardSave}):Object(g.jsx)(R,{boardSavedTo:e,isSelectMode:n,onBoardCreate:this.handleCreate(u),onBoardSelected:this.handleBoardSave,pinId:r})}),l&&!d&&Object(g.jsx)(w,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,onToggleFlyout:i,pinId:r,prefilledName:c||s,preselectedCollaborators:o,showTitle:h}),l&&d&&Object(g.jsx)(S.a,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:c,isRepin:t,onClearModal:this.close,showTitle:h})]})}}var N=Object(o.connect)(null,(function(e,t){return{invalidateResource:()=>{e(Object(P.f)("BoardPickerBoardsResource",B(t.pinId)))},invalidatePinBetterSaveResource:()=>{e(Object(P.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}}))(L),F=n("TgLd"),U=n("v+PR"),H=n("1inl"),z=n("K316"),Y=n("TvzZ");const q="publish_actions",G={checkFbTimelinePermission:function(e){Object(Y.default)((function(t){t.api("/me/permissions",t=>{const n=t.data;let i=!1;if(n){i=!!n.find(e=>e.permission===q&&"granted"===e.status)}i?e.success&&e.success():e.error&&e.error()})}),z.a)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;const n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(e,t){Object(Y.default)(n=>{if(!G.fbConnectedAccountMatchesLoggedInAccount(n,t))return H.a.showError(s.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),e.error&&e.error(),void(e.complete&&e.complete());G.checkFbTimelinePermission({success(){e.success&&e.success(),e.complete&&e.complete()},error(){G.fbLogin(e)}})},z.a)},fbLogin:function(e){Object(Y.default)(t=>{t.login(t=>{t.authResponse?G.checkFbTimelinePermission(e):e.error&&e.error(),e.complete&&e.complete()},{scope:q})},z.a)}};var W=G,V=n("G35+"),K=n("mBfy");var X=Object(k.compose)(Object(o.connect)(({viewer:e})=>({viewer:e}),()=>({})),Object(v.b)({name:"UserResource",key:"userSocialResource",options:e=>({user_id:e.viewer&&e.viewer.isAuth?e.viewer.id:"",field_set_key:"social_connect"})}))((function({onSocialConnect:e,userSocialResource:{data:t,isLoaded:n}}){const[r,o]=Object(i.useState)(!!(n&&t&&t.facebook_publish_stream_enabled)),[a,c]=Object(i.useState)(!!(n&&t&&t.twitter_publish_enabled));if(Object(i.useEffect)(()=>{n&&t&&(o(!!t.facebook_publish_stream_enabled),c(!!t.twitter_publish_enabled))},[t,n]),!t)return null;const{connected_to_facebook:d,twitter_url:l}=t,u=t=>{o(t),K.default.set("facebook_publish_stream_enabled",t),e(V.a.FACEBOOK,t)};return!(!d&&!l)&&Object(g.jsxs)(f.e,{display:"flex",padding:2,children:[d&&Object(g.jsxs)(f.e,{display:"flex",alignItems:"center",marginStart:2,children:[Object(g.jsx)(f.j,{checked:r,id:"share_facebook",onChange:()=>{r?u(!1):W.maybeRequestFbTimelinePermission({success:()=>u(!0),error:()=>u(!1)})},size:"sm"}),Object(g.jsx)(f.x,{htmlFor:"share_facebook",children:Object(g.jsx)(f.e,{marginStart:2,children:Object(g.jsx)(f.Y,{children:s.a._("Post to Facebook")})})})]}),l&&Object(g.jsxs)(f.e,{display:"flex",alignItems:"center",marginStart:5,children:[Object(g.jsx)(f.j,{checked:a,id:"share_twitter",onChange:()=>{const t=!a;c(t),e(V.a.TWITTER,t)},size:"sm"}),Object(g.jsx)(f.x,{htmlFor:"share_twitter",children:Object(g.jsx)(f.e,{marginStart:2,children:Object(g.jsx)(f.Y,{children:s.a._("Post to Twitter")})})})]})]})})),$=n("Sihc");var Z=({board:e,completeCreateSectionAction:t,height:n,onClose:r,pinImport:a,url:c,width:d})=>{const l=Object(o.useDispatch)(),[u,h]=Object(i.useState)(""),[b,p]=Object(i.useState)(!1),[m,j]=Object(i.useState)(null);return Object(g.jsx)(F.b,{accessibilityModalLabel:s.a._("Repin modal","save.pinToBoard.modal.label","Accessibility label on modal"),heading:Object(g.jsx)(f.e,{padding:8,children:Object(g.jsx)(f.r,{alignItems:"center",children:Object(g.jsx)(f.e,{width:"66%",marginStart:"auto",children:Object(g.jsxs)(f.r,{justifyContent:"between",children:[Object(g.jsx)(f.t,{size:"md",children:s.a._("Add section","sectionCreateModal.title","Title in the add section modal")}),Object(g.jsx)(f.v,{icon:"cancel",accessibilityLabel:s.a._("Close","sectionCreateModal.closeButton","close section create modal button"),size:"md",iconColor:"darkGray",onClick:r})]})})})}),footer:Object(g.jsx)(f.r,{children:Object(g.jsx)(f.e,{marginStart:"auto",children:Object(g.jsx)(f.f,{text:s.a._("Add","sectionCreateModal.add.button","add a new section"),color:"red",onClick:()=>{e&&(p(!0),l(Object($.a)({boardId:e.id,name:u.trim(),pinImport:a})).then(n=>{t(e,n,!1)}).catch(e=>{j(e.message||e.message_detail)}).finally(()=>{p(!1)}))},disabled:b||!u.trim()||!!m,size:"lg"})})}),onDismiss:r,size:"sm",children:Object(g.jsx)(f.e,{padding:8,children:Object(g.jsxs)(f.r,{children:[Object(g.jsx)(f.B,{rounding:4,height:n,width:d,children:Object(g.jsx)(f.w,{alt:"",fit:"cover",src:c||"",naturalHeight:n,naturalWidth:d})}),Object(g.jsx)(f.e,{marginStart:8,dangerouslySetInlineStyle:{__style:{width:`calc(100% - ${d}px)`}},children:Object(g.jsx)(f.ab,{id:"sectionEditName",onChange:e=>{h(e.value)},placeholder:s.a._('Like "Lighting"',"sectionCreateModal.boardSection.name","Placeholder for board section name"),label:s.a._("Name","section.create.label","label text for section input"),size:"lg",type:"text",value:u})})]})})})};function Q(){return Object(g.jsxs)(f.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:[Object(g.jsx)(f.R,{accessibilityLabel:s.a._("Pins being saved to new sections","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","accessibility label on spinner"),show:!0}),Object(g.jsx)(f.e,{paddingY:2,children:Object(g.jsx)(f.t,{children:s.a._("Hold, please...","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Heading on modal while saving pins")})}),Object(g.jsx)(f.Y,{children:s.a._("We're grouping the ideas you picked into sections. This will help organize all your ideas!","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Text explaining new pins are being saved")})]})}var J=n("82UD");function ee({index:e,pin:t,sectionName:n}){const r=t.id,o=Object(i.useContext)(ce),[a,s]=Object(i.useState)(!1),c=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),o({type:a?"unselect":"select",payload:{sectionName:n,pinId:r}}),s(!a)},[r,a]);return Object(g.jsx)(f.X,{onTap:c,rounding:4,children:Object(g.jsx)(J.a,{attributionOption:"hide",blockClickEvents:!0,pin:t,pinId:t.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:a?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}})})}var te=Object(i.memo)((function({sectionSuggestion:e,showSpinner:t}){const n=Object(i.useRef)(),r=Object(v.a)({name:"BatchP2PResource",options:{clientType:"84",page_size:10,pinIds:e.pins.map(e=>e.id)},allowStale:!1});return Object(g.jsxs)(i.Fragment,{children:[Object(g.jsx)(f.e,{display:"flex",justifyContent:"center",width:"100%",children:Object(g.jsx)(f.R,{accessibilityLabel:s.a._("Loading pins","save.pin-to-board.PinToBoard.SectionSuggestions.SectionPinsSelection","Accessibility label on a loading spinner"),show:t&&r.isFetching})}),r.data&&Object(g.jsx)(f.e,{paddingY:4,paddingX:8,children:Object(g.jsx)(f.t,{align:"left",size:"sm",children:e.name})}),Object(g.jsx)(f.e,{ref:n,children:r.data&&n&&n.current&&Object(g.jsx)(f.C,{columnWidth:152,comp:({data:t,itemIdx:n})=>Object(g.jsx)(ee,{index:n,pin:t,sectionName:e.name}),gutterWidth:16,items:r.data||[],loadItems:()=>{},scrollContainer:()=>n.current})})]})}),(e,t)=>e.sectionSuggestion.id===t.sectionSuggestion.id);function ne({canSubmit:e,handleClose:t,handleSubmit:n,sectionSuggestions:r}){Object(i.useEffect)(()=>{const e=[];r.forEach(t=>e.push(t.name)),Object(D.b)(13,{suggested_section_names_viewed:e,view:1,viewParameter:3461})},[r]);return Object(g.jsx)(i.Fragment,{children:Object(g.jsxs)(f.e,{width:"100%",children:[Object(g.jsx)(f.e,{minHeight:"100%",marginBottom:12,width:"100%",children:r.map((e,t)=>Object(g.jsx)(f.e,{marginBottom:4,children:Object(g.jsx)(te,{sectionSuggestion:e,showSpinner:0===t})},e.name))}),Object(g.jsx)(f.e,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",position:"sticky"}},display:"flex",justifyContent:"end",padding:4,width:720,children:Object(g.jsx)(f.f,{color:e?"red":"gray",inline:!0,size:"lg",text:e?s.a._("Next","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"):s.a._("Skip","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"),onClick:()=>{e?n():t()}})})]})})}function ie({handleClose:e,handleSubmit:t,suggestions:n}){const[r,o]=Object(i.useState)({}),a=!!Object.keys(r).length;return Object(g.jsxs)(f.e,{children:[Object(g.jsx)(f.e,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{height:"calc(100% - 88px)"}},children:Object(g.jsx)(f.e,{display:"flex",wrap:!0,height:360,paddingX:6,children:n.map(e=>Object(g.jsx)(f.e,{paddingX:1,height:160,children:Object(g.jsx)(f.X,{onTap:()=>{const t={...r};t[e.name]?delete t[e.name]:t[e.name]=e,o(t)},rounding:6,children:Object(g.jsx)(f.e,{rounding:7,dangerouslySetInlineStyle:{__style:{border:r[e.name]?"2px solid #111":"2px solid white",padding:"2px"}},children:Object(g.jsxs)(f.e,{height:160,width:152,position:"relative",rounding:6,children:[Object(g.jsx)(f.B,{rounding:6,height:160,width:152,children:Object(g.jsx)(f.w,{alt:e.name,fit:"cover",naturalHeight:e.images["236x"].height,naturalWidth:e.images["236x"].width,src:e.images["236x"].url})}),Object(g.jsx)(f.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}},display:"flex",height:160,justifyContent:"center",left:!0,paddingX:5,position:"absolute",rounding:6,top:!0,width:152,children:Object(g.jsx)(f.t,{align:"center",color:"white",size:"sm",children:e.name})})]})})})},e.name))})}),Object(g.jsx)(f.e,{display:"flex",width:"100%",justifyContent:"end",padding:5,children:Object(g.jsx)(f.f,{color:a?"red":"gray",inline:!0,size:"lg",text:a?s.a._("Next","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"):s.a._("Skip","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"),onClick:()=>{a?t(Object.values(r)):e()}})})]})}var re=n("M1Uz"),oe=n("6G9P"),ae=n("EC67"),se=n("nGHF");const ce=Object(i.createContext)();function de(e,t){const{sectionName:n,pinId:i}=t.payload,r=[...e[n]||[]];switch(t.type){case"select":return{...e,[n]:[...r,i]};case"unselect":const t=r.indexOf(i);if(r.splice(t,1),!r.length){const t={...e};return delete t[n],t}return{...e,[n]:r};default:throw new Error("Unsupported action received by PinSelectionReducer")}}function le({board:e,handleClose:t,setModalTitle:n,suggestions:r}){const[a,c]=Object(i.useState)("sections"),[d,l]=Object(i.useState)([]),[u,h]=Object(i.useState)([]),[b,p]=Object(i.useReducer)(de,{}),{showOneToast:f}=Object(se.b)(),m=Object(o.useDispatch)(),j=Object(ae.h)(),v=Object(i.useRef)(null);Object(i.useEffect)(()=>()=>{v.current&&clearTimeout(v.current)},[]),Object(i.useEffect)(()=>{const e=[];r.forEach(t=>e.push(t.name)),h(e)},[r]);const O=()=>{Object(D.b)(101,{component:20,view:52})},y=()=>{t(),f(({onHide:t})=>{var n;return Object(g.jsx)(re.a,{duration:pe,onHide:t,text:Object(oe.a)(e.name),href:e.url,imageUrl:null!==(n=e.image_cover_url)&&void 0!==n?n:"",onClick:O})}),Object(D.b)(101,{element:1150,view:1,viewParameter:3460,suggested_section_names:u})};return{sections:Object(g.jsx)(ie,{handleClose:y,handleSubmit:e=>{l(e),c("pins"),n&&n(s.a._("Great! Now pick some ideas to start off with.","save.pin-to-board.PinToBoard.SectionSuggestions.SectionSuggestionContainer","Modal title for choosing ideas for a new board"));const t=[];e.forEach(e=>t.push(e.name)),Object(D.b)(101,{element:96,suggested_section_names_selected:t,suggested_section_names_viewed:u,view:1,viewParameter:3460})},suggestions:r}),pins:Object(g.jsx)(ce.Provider,{value:p,children:Object(g.jsx)(ne,{canSubmit:!!Object.keys(b).length,handleClose:y,handleSubmit:()=>{let t=0;c("saving"),n&&n(null);const i=d.reduce((e,t)=>(e[t.name]=null,e),{});let r=0;const o=[];Object.entries({...i,...b}).forEach(([n,i])=>{r+=Array.isArray(i)&&i.length,o.push({[n]:i}),m(Object($.a)({boardId:e.id,initialPinIds:i,name:n})).then(()=>{t+=1,t===d.length&&(v.current=setTimeout(()=>{var t;j.push(null!==(t=e.url)&&void 0!==t?t:"")},1500),Object(D.b)(101,{element:76,number_pins_selected:r,number_sections_selected:d.length,selected_pin_ids:JSON.stringify(o),suggested_section_names:u,view:1,viewParameter:3460}))})})},sectionSuggestions:d})}),saving:Object(g.jsx)(Q,{})}[a]}var ue=n("Yo6N"),he=n("QAzJ");function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pe=4e3,fe={LOADING:"loading",SUCCESS:"success"};class ge extends i.PureComponent{constructor(...e){super(...e),be(this,"state",{isFlyoutOpen:!1,isSavingPin:!1,newBoard:null}),be(this,"pinImageRef",Object(i.createRef)()),be(this,"unmounted",!1),be(this,"handleSavePinToBoard",(e,t,n)=>{const{handleSaveToBoard:i,sectionSuggestions:r,setModalTitle:o}=this.props;i(e,t,n),n&&(this.setState({isSavingPin:!0,newBoard:e}),r&&r.length>0&&o&&o(s.a._("Let's build out your new board! What topics will it include?","save.pin-to-board.PinToBoard.SectionPickerModalTitle","Modal title for selection recommended sections for a new board")))}),be(this,"handleToggleFlyout",()=>this.setState({isFlyoutOpen:!this.state.isFlyoutOpen})),be(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),be(this,"close",()=>{const{isFlyoutOpen:e}=this.state,{handleAbort:t}=this.props;e||t()}),be(this,"dismissModal",e=>{const{dismissModal:t}=this.props;t&&t()})}componentWillUnmount(){this.unmounted=!0}render(){const{activateRemoveBoardSectionUpsell:e,boardSavedTo:t,boardWithSection:n,color:o,displaySuccessAnimation:a,handleNewBoardAnimationCompletion:c,handleSocialConnectSet:d,isInModal:l,newPin:u,pin:h,preselectedCollaborators:b,onBoardCreated:p,sectionSuggestions:m,sensitiveContentNotice:j,setModalTitle:v,showCreate:O,shouldRenderContent:y,suggestedBoardTitle:x,updateDescription:_}=this.props;if(!h||!h&&!h.resourceLoaded||!y)return null;const{isSavingPin:w,newBoard:S}=this.state;if(O&&n){var C;const{url:e,width:t,height:i}=(null===(C=h.images)||void 0===C?void 0:C["236x"])||{};return Object(g.jsx)(Z,{board:n,url:e,height:i,width:t,onClose:this.close,completeCreateSectionAction:this.handleSavePinToBoard})}let I=null;u&&u.board&&(I=u.board.name);const E=j&&j.title||this.props.modalTitle,T=j?Object(g.jsx)(ue.a,{inModal:!0,notices:[j]}):Object(g.jsx)(f.e,{display:"flex",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:w&&S&&m&&m.length>0&&!e().group.startsWith("enabled")?Object(g.jsx)(le,{board:S,handleClose:this.close,setModalTitle:v,suggestions:m}):Object(g.jsxs)(i.Fragment,{children:[Object(g.jsxs)(f.e,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[Object(g.jsxs)(f.e,{direction:"column",display:"flex",justifyContent:"between",width:"40%",children:[Object(g.jsx)(f.e,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:Object(g.jsx)(U.a,{color:o,pin:h,pinImageRef:this.pinImageRef,updateDescription:_})}),Object(g.jsx)(X,{onSocialConnect:d})]}),Object(g.jsx)(f.e,{display:"flex",width:"60%",children:Object(g.jsx)(N,{boardSavedTo:t,boardWithSection:n,isRepin:!0,onBoardCreated:p,onBoardSave:this.handleSavePinToBoard,onClose:this.close,onToggleFlyout:this.handleToggleFlyout,pinId:h.id,preselectedCollaborators:b,setModalTitle:l?v:void 0,showCreate:O,suggestedBoardTitle:x})})]}),a&&Object(g.jsx)(r.a,{onDismiss:()=>{c(),this.dismissModal()},pin:h,pinImageRef:this.pinImageRef,selectedBoardName:I})]})});return l?Object(g.jsx)(F.b,{accessibilityModalLabel:E||s.a._("Repin modal","save.pin-to-board.PinToBoard.PinToBoard","Accessibility label on modal"),heading:E,onDismiss:this.close,size:"md",children:T}):T}}be(ge,"defaultProps",{pwtAuxData:{}});t.c=function(e){const t=Object(he.b)("web_remove_board_section_upsell");return Object(g.jsx)(ge,{...e,activateRemoveBoardSectionUpsell:t})}},BEzM:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("7nh8"),o=n("LTlA"),a=n("QLaP");t.default=function(e){return function(t){void 0===t&&(t={});var n=e.getMonitor(),s=e.getRegistry();!function(e){a(e.isDragging(),"Cannot call drop while not dragging."),a(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n),function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n).forEach((function(c,d){var l=function(e,t,n,i){var r=n.getTarget(e),s=r?r.drop(i,e):void 0;(function(e){a(void 0===e||o.isObject(e),"Drop result must either be an object or undefined.")})(s),void 0===s&&(s=0===t?{}:i.getDropResult());return s}(c,d,s,n),u={type:r.DROP,payload:{dropResult:i({},t,l)}};e.dispatch(u)}))}}},BUdX:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("sErn"),r=n("+NLT"),o=n("jZXB");let a=null;const s={fromDesktopContextProps(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,country:t.country,deepLink:t.deep_link,experiments:e.experiments,fullPath:t.full_path,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isSocialBot:!!t.social_bot,isManagedAdvertiser:t.is_managed_advertiser,isRTL:["ar"].includes(t.language),language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,regionFromIp:t.region_from_ip,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,isRetina:t.is_retina,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],raw:t.user_agent}}},fromLegacyContext:e=>({advertiser:null,country:e.country,deepLink:e.deep_link,experiments:e.experiments,fullPath:e.full_path,isAmp:!1,isAuthenticated:e.is_authenticated,isBot:"true"===e.is_bot,isSocialBot:!!e.social_bot,isManagedAdvertiser:e.is_managed_advertiser,isRTL:["ar"].includes(e.language),language:e.language,legacyAdvertiser:e.advertiser?e.advertiser:null,locale:e.locale,loginState:e.user&&e.user.login_state||void 0,origin:e.origin,regionFromIp:e.region_from_ip,unauthId:e.unauth_id,userAgent:{browserName:e.browser_name,browserVersion:e.browser_version,canUseNativeApp:e.user_agent_can_use_native_app,isTablet:e.is_tablet_agent,isMobile:e.is_mobile_agent,isRetina:e.is_retina,platform:e.user_agent_platform,platformVersion:e.user_agent_platform_version||[0,0,0],raw:e.user_agent}}),fromGlobalContext(){if(a)return a;const e=s.fromDesktopContextProps({context:r.a.instance,...Object(i.a)(r.a.instance)});var t;return t=r.a.instance,0!==Object.keys(t).length&&(a=e),e},__private_static_provider_fallback_value:()=>({country:"US",deepLink:"",fullPath:"",isAmp:!1,isAuthenticated:!1,isBot:!1,isSocialBot:!1,isManagedAdvertiser:!1,isRTL:!1,language:"en",locale:"en-US",unauthId:"asdasda",origin:"https://example.com",regionFromIp:"CA",userAgent:{browserName:"Chrome",browserVersion:"76.0.3809.132",platform:"OSX",platformVersion:[0,0,0],isTablet:!1,isMobile:!1,isRetina:!1,raw:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36"},experiments:new o.a,advertiser:null,legacyAdvertiser:null})}},BcL7:function(e,t,n){var i=n("La7j"),r=n("xBNU"),o=n.n(r);const a={getInstance(){const e=o.a.experiments;return new i.a(e.active,e.triggerable)}};t.a=a},BcvT:function(e,t,n){var i=n("q1tI"),r=n("nKUr");function o({anchor:e,children:t,zIndex:n}){const o=Object(i.useRef)(null),[a,s]=Object(i.useState)(0),[c,d]=Object(i.useState)(0),{height:l,width:u}=e.getBoundingClientRect();return Object(i.useEffect)(()=>{const{current:t}=o;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:r}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(l,u,e,n);s(i),d(r)}},[l,u,o.current]),Object(r.jsx)("div",{ref:o,style:{left:a,position:"absolute",top:c,zIndex:n},children:t})}var a=n("n6mq");t.a=function(e){const{anchor:t,onTouch:n,paused:i,size:s,zIndex:c}=e;return t?Object(r.jsx)(o,{anchor:t,zIndex:c,children:Object(r.jsx)(a.X,{fullWidth:!1,onTap:({event:e})=>n(e),rounding:"circle",children:Object(r.jsx)(a.J,{paused:i,size:s})})}):null}},Bfq7:function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0});var r=n("QSJg"),o=n("9b+k");t.nativeTypesConfig=((i={})[r.FILE]={exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]},i[r.URL]={exposeProperties:{urls:function(e,t){return o.getDataFromDataTransfer(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]},i[r.TEXT]={exposeProperties:{text:function(e,t){return o.getDataFromDataTransfer(e,t,"")}},matchesTypes:["Text","text/plain"]},i)},BiGR:function(e,t,n){var i=n("nmnc"),r=n("03A+"),o=n("Z0cm"),a=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(a&&e&&e[a])}},BkRI:function(e,t,n){var i=n("OBhP");e.exports=function(e){return i(e,5)}},"Bn+j":function(e,t,n){var i=n("q1tI"),r=n("c4Fo"),o=n("NrS9"),a=n("n6mq"),s=n("nKUr");const c=[500329,503259,500410,500688];t.a=({placementId:e})=>{const[t,n]=Object(i.useState)(!0),d=()=>{n(!1)};return Object(s.jsx)(r.a,{placementId:e,experienceIds:c,children:({complete:e,dismiss:n})=>(o.a.instance().subscribe(e,n),t?Object(s.jsx)(a.X,{fullWidth:!1,onTap:d,children:Object(s.jsx)("div",{className:"experienceSystemPushOverlay"})}):null)})}},CMye:function(e,t,n){var i=n("GoyQ");e.exports=function(e){return e==e&&!i(e)}},Copi:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,d=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,b=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case a:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case b:case d:return e;default:return t}}case g:case f:case o:return t}}}function j(e){return m(e)===h}t.typeOf=m,t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=d,t.Element=r,t.ForwardRef=b,t.Fragment=a,t.Lazy=g,t.Memo=f,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===c||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===d||e.$$typeof===l||e.$$typeof===b)},t.isAsyncMode=function(e){return j(e)||m(e)===u},t.isConcurrentMode=j,t.isContextConsumer=function(e){return m(e)===l},t.isContextProvider=function(e){return m(e)===d},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return m(e)===b},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===g},t.isMemo=function(e){return m(e)===f},t.isPortal=function(e){return m(e)===o},t.isProfiler=function(e){return m(e)===c},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===p}},DBEV:function(e,t,n){var i=n("q1tI");var r={backgroundColor:"transparent"},o={backgroundColor:"rgba(216, 216, 216, 0.37)"},a={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},s={outline:"0"},c=n("n6mq"),d=n("nKUr");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),l(this,"state",{hovered:!1}),l(this,"handleMouseEnter",()=>this.setState({hovered:!0})),l(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{backgroundHaloSize:e,onClick:t,accessibilityLabel:n}=this.props,i={height:e,width:e},l={border:0,display:"block",background:"transparent",cursor:"pointer",...s},u={...a,...r,...this.state.hovered?o:{}};return Object(d.jsx)("button",{"aria-label":n,type:"button",style:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:Object(d.jsx)("div",{style:{...i,...u},children:Object(d.jsx)(c.e,{rounding:"circle",children:Object(d.jsx)(c.u,{accessibilityLabel:"",icon:"flag",size:e/2,color:"lightGray"})})})})}}t.a=u},"Dw+G":function(e,t,n){var i=n("juv8"),r=n("mTTR");e.exports=function(e,t){return e&&i(t,r(t),e)}},DzJC:function(e,t,n){var i=n("sEfC"),r=n("GoyQ");e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:o,maxWait:t,trailing:a})}},E2hd:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o(e){const{accessibilityLabel:t,bgColor:n,icon:o,onClick:a,selected:s,size:c}=e;return Object(r.jsx)(i.v,{accessibilityLabel:t,bgColor:null!=n?n:"transparent",icon:o,iconColor:"darkGray",onClick:a,selected:s,size:null!=c?c:"lg"})}},E3gc:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){return"string"==typeof t||"symbol"==typeof t||!!n&&Array.isArray(t)&&t.every((function(t){return e(t,!1)}))}},E8d4:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI");class r extends i.Component{constructor(...e){var t,n,i;super(...e),i={errorIsCaught:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidCatch(){this.setState({errorIsCaught:!0})}render(){const{children:e}=this.props,{errorIsCaught:t}=this.state;return t?null:e}}var o=n("nKUr");function a({children:e,errorBoundaryName:t,fallback:n,dangerouslyServerRenderForGraphQL:a=!1}){const s=n||null;return Object(o.jsx)(r,{...t?{name:t}:{},children:Object(o.jsx)(i.Suspense,{fallback:s,children:e})})}},EC51:function(e,t,n){var i=n("q1tI"),r=n("zwad"),o=n("n6mq"),a=n("gqRH"),s=n("nKUr");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:i,hoverStyle:c,href:d,id:l,inline:u,onBlur:h,onClick:b,onFocus:p,target:f}=e,g=r.a.isOffsiteUrl(d);return Object(s.jsx)(a.a,{href:d,target:g?null:f,children:({handleClick:e})=>Object(s.jsx)(o.A,{accessibilityLabel:n,hoverStyle:c,href:d,id:l,inline:u,onBlur:h,onClick:({event:t,disableOnNavigation:n})=>{n(),null==b||b({event:t}),e({event:t})},onFocus:p,ref:t,rel:g?"nofollow":void 0,children:i})})});c.displayName="Link",t.a=c},EDqd:function(e,t,n){n.d(t,"a",(function(){return a}));const i=["236x","474x","564x","736x"];function r(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].height||1/0)),i=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:n,width:i}}));return e.map(e=>n.reduce(t,e))}function o(e,t){return e.concat([{images:t&&t.canonical_images,image_signature:t&&t.image_signature}])}function a(e,t,n){const i=[{images:e}],a=t&&t.additional_images;return{carousel_slots:r((null!=a?a:[]).reduce(o,i)),index:n||0,id:t.id}}},EEGq:function(e,t,n){var i=n("juv8"),r=n("oCl/");e.exports=function(e,t){return i(e,r(e),t)}},EHyI:function(e,t,n){n.d(t,"a",(function(){return a}));var i=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)},r=n("XtwW"),o=n("gg0E");function a(e){return!("desktop"===e&&!i())&&(!!r.a&&Object(o.a)())}},ELJR:function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("KPZG"),r=n("T+9/"),o=n("7zq+"),a=n("yjg8"),s=n("U4JR"),c=n("flQA"),d=n("n6mq"),l=n("nKUr");const u=a.e;function h({contextLogData:e,bubbles:t,id:n,referringSource:a,slotIndex:h,storyType:b,title:p,titleIcon:f,viewType:g,viewParameter:m}){const j=t.map(({type:e,id:t})=>e+":"+t).join("|");return Object(l.jsx)(r.a,{viewType:g,componentType:200,viewParameter:m,loggingId:n,contextLogData:{story_type:b,objectId:n,content_ids:j,...e},impressionType:"Story",slotIndex:h,children:Object(l.jsxs)(d.e,{children:[p&&Object(l.jsxs)(d.e,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof f&&f!==c.a&&Object(l.jsx)(d.e,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:Object(l.jsx)(d.u,{accessibilityLabel:"",color:"darkGray",icon:Object(c.b)(f),size:14})}),Object(l.jsx)(d.Y,{weight:"bold",children:Object(o.a)(p)})]}),t.map((e,t)=>Object(l.jsx)(d.e,{paddingY:1,flex:"none",children:Object(l.jsx)(i.a,{bubble:e,onClick:e=>{Object(s.b)(101,{objectId:e,view:g,viewParameter:m,component:200})},referringSource:a,height:103,width:u,storyId:n,viewType:g,viewParameter:m,slotIndex:t,contextLogData:{content_ids:j,story_type:b}})},"bubble-"+e.id))]})})}},ENhS:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a}=Object(i.c)("SurfaceContext",{surface:"Unknown"})},ESls:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("0rqB"),r=n("pLLR"),o=n("nKUr");function a({activate:e,children:t,isEligible:n,name:a}){return Object(o.jsx)(r.b,{children:r=>Object(o.jsx)(i.a,{activate:e,activateExperiment:e=>r.experiments.v2ActivateExperiment(e)||"",group:r.experiments.v2GetGroup(a)||"",isEligible:n,name:a,children:t})})}},EhF7:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("Ye/N"),r=(n("lXCh"),n("nKUr"));function o({children:e}){return Object(r.jsx)("div",{className:"withoutBoxShadow",children:e})}var a=n("n6mq");function s({children:e,onClick:t}){return Object(r.jsxs)("div",{className:"relative",children:[Object(r.jsx)(a.e,{bottom:!0,left:!0,right:!0,top:!0,position:"absolute",children:Object(r.jsx)(o,{children:Object(r.jsx)(a.X,{accessibilityLabel:i.a._("Drag and drop item","BulkEditPinWrapper.tapArea.accessibilityLabel","Label for item that can be dragged and dropped."),fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),t()},rounding:2})})}),Object(r.jsx)("div",{style:{pointerEvents:"none"},children:e})]})}},EwHv:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("q1tI"),r=n("+wrf"),o=n("Ye/N"),a=n("3j7w"),s=n("n6mq"),c=n("nKUr");function d(e){const{fetchMore:t,invites:n,isAtEnd:i,isFetching:r,onBoardLeave:d,refreshData:l,scroll:u,renderInvite:h}=e;return Object(c.jsxs)("div",{children:[u&&Object(c.jsx)(a.a,{scrollBuffer:3*u.container.clientHeight,scrollHeight:u.container.scrollHeight,scrollTop:u.top,isAtEnd:i,isFetching:r,fetchMore:t}),n.map((e,t)=>e&&e.invited_user&&e.invited_user.id?Object(c.jsx)(s.e,{children:h(e,d,l)},t):null),r&&!i&&Object(c.jsx)(s.R,{accessibilityLabel:o.a._("loading board invites","accessibility label for board collaborator invites loading spinner","accessibility label for board collaborator invites loading spinner"),show:!0})]})}var l=n("ViqK"),u=n("mEMi"),h=n("w70y");class b extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{invitesPendingApproval:e,invites:t}=this.props;e.refreshData(),t.refreshData()},(n="handleInvitesDidUpdate")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}shouldComponentUpdate(e){const{invites:{data:t}}=e,{invites:{data:n}}=this.props;return!n||!!t&&n.length!==t.length}render(){const{board:e,invites:t,invitesPendingApproval:n,scrollInfo:a,onBoardLeave:h,onModalOpen:b,renderInvite:p}=this.props,{full_name:f,image_medium_url:g,username:m}=e.owner,j=o.a._("Owner of this board","boardInviteSheet.CollaboratorList.boardOwner.subtitle","The subtext that identifies the owner of a board");return Object(c.jsx)(i.Fragment,{children:t.isLoaded||n.isLoaded?Object(c.jsx)(u.a,{fetchMore:t.fetchMore,children:({onScroll:i,setRef:o})=>Object(c.jsxs)(s.e,{width:"100%",onScroll:i,ref:o,children:[Object(c.jsx)(d,{boardId:e.id,fetchMore:n.fetchMore,invites:n.data||[],isAtEnd:n.isAtEnd,isFetching:n.isFetching,onBoardLeave:h,refreshData:this.handleInvitesDidUpdate,scroll:a,renderInvite:p}),(n.data||[]).length>0?Object(c.jsx)(s.e,{paddingY:3,children:Object(c.jsx)(s.o,{})}):null,Object(c.jsxs)(s.e,{paddingY:1,children:[Object(c.jsx)(l.a,{imageUrl:g,linkURL:`/${m}/`,name:f,subtitle:j,title:f}),(t.data||[]).map(e=>e&&e.invited_user&&e.invited_user.id?Object(c.jsx)(r.a,{invite:e,onBoardLeave:h,onModalOpen:b,onInviteDidUpdate:t.refreshData},e.invited_user.id):null)]})]})}):Object(c.jsx)(s.R,{show:!0,accessibilityLabel:o.a._("Loading","Loading state for showing board collaborators","Loading state for showing board collaborators")})})}}function p(e){const t=Object(h.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1}}),n=Object(h.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1}});return Object(c.jsx)(b,{...e,invites:t,invitesPendingApproval:n})}},EyTA:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yYqh"),r=n("v/Q4"),o=n("w70y");function a({getOptions:e,checkExperiments:t,disableFetch:n,...a}){const s=Object(r.a)(),{args:c,fetchDisabled:d}=Object(i.a)({checkExperiments:t,disableFetch:n,viewer:{country:s.country||void 0,id:s.id||void 0,isAuth:s.isAuth,isEmployee:!!s.isEmployee||!1,isPartner:!!s.isPartner||!1,username:s.username||void 0}}),l=e?e(c):void 0;return Object(o.a)({dangerouslyDisableFetch:d,options:l,...a})}},F2ZA:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return h}));n("n6mq");const i="/today/",r=3,o=(e,t,n=0)=>({num_days:t,referrer:n,...e?{}:{redux_normalize_feed:!0}});function a(e,t,n){const i=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),r=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${i}/${encodeURIComponent(r)}/${n}/`}const s={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},c={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},d=(e,t)=>{const n=c[e];return!(null===n||n!==t&&!t.startsWith(n))},l=e=>s[e],u=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)||""),h=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},F4HH:function(e,t,n){var i=n("q1tI"),r=n("3R0Q"),o=n("o9su"),a=n("B/lV"),s=n("vzKb"),c=n("FylZ"),d=n("mRg4"),l=n("LvPn"),u=n("XtwW"),h=n("LrH5"),b=n("fZG9"),p=n("xfna"),f=n("gz6+"),g=n("3/Bf");const m=Object(h.a)("PwtStopwatch"),j=(e,t)=>{if(u.a){if("start"===t.type&&!e.isTiming){const{name:n,startTime:i,navigationType:r}=t;return Object(g.c)("TIMING."+n),{isTiming:!0,isSampled:t.isSampled,startTime:"number"==typeof i?i:u.a.now(),metricId:{type:"stopwatch",name:n,navigationType:r},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId}}if("annotate"===t.type){const n=u.a.now();return m(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return m(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:i}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const r=e.binaryAnnotations[t.name].value||0;return m(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(r)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(r,n):r,type:i}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}}}if("addSubspan"===t.type){m(`adding subspan {${t.name}}`);let n=0;return t.startTime?n=t.startTime:e.startTime?n=e.startTime:m(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:t.id||Object(c.a)(),startTime:n,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){m(`starting subspan {${t.name}}`);return e.spans.findIndex(e=>e.name===t.name)&&m(`WARNING: adding duplicate subspan name {${t.name}}`),{...e,spans:[...e.spans,{name:t.name,id:t.id||Object(c.a)(),parentId:t.parentId||null,startTime:u.a.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(m(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce((e,n)=>(n.name===t.name&&e.push(n),e),[]).length>1&&Object(g.b)("duplicate_subspan_stop_name",{name:t.name})}const n=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return n>-1?(e.spans[n].endTime=u.a.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):Object(g.b)("invalid_subspan_stop_name",{name:t.name}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:i,pwtStaticContext:s,annotations:h,binaryAnnotations:p,isSampled:g,spans:m,traceId:j}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),g){const e=t.stopTime||u.a.now(),g=[...m.map(t=>(t.endTime===1/0&&(t.endTime=e),t))];if(t.manualAndResourceSpans||0===m.length){const i=Object(c.a)();g.push({name:"network_resources",id:i,startTime:n,endTime:e,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(e=>Object(l.a)(Object(a.a)(e,[]),i)).filter(Boolean))}const v="initial_app_load"===i.navigationType&&Object(o.a)(),O={type:"COMPLETE",traceId:j,startTime:n,endTime:e,spans:g,annotationMap:{...Object(r.a)(h),...Object(f.a)("browser_",v?Object(f.b)(v):{})},binaryAnnotationMap:Object(b.a)({metricId:i,pwtStaticContext:s,binaryAnnotations:p,performanceResourceTimings:t.customStopwatchBuffer||[]})};Object(d.a)({metricId:i,pwtStaticContext:s,result:O})}return{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()}}if("error"===t.type){const{error:e,stopwatchPerformanceObserver:n}=t;return e&&Object(g.b)(e),n&&n.disconnect(),{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:i}=e,r=t.reason||"";return Object(d.a)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:r}}),{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()}}}return e};var v=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:r=!1})=>{const o=Object(p.c)(),a=Object(i.useRef)([]),d=Object(i.useRef)(null),[l,u]=Object(i.useReducer)(j,{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()});return o?{isTiming:l.isTiming,start:i=>{if(window.PerformanceObserver){const e=1e3;a.current=[],d.current=Object(s.a)({entryTypes:["resource"]},t=>{a.current=a.current.concat(t.getEntries()),a.current.length>e&&(a.current=a.current.slice(-e))})}const r={type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:o,isSampled:!t||Math.random()<t};return u(r)},stop:e=>u({type:"stop",stopTime:e,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:a.current,manualAndResourceSpans:r}),error:e=>{u({type:"error",stopwatchPerformanceObserver:d.current,error:e})},abort:e=>u({type:"abort",stopwatchPerformanceObserver:d.current,customStopwatchBuffer:a.current,reason:e}),annotate:(e,t)=>u({type:"annotate",label:e,parentId:t}),binaryAnnotate:(e,t,n,i)=>u({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i}),binaryAnnotateOperation:(e,t,n,i)=>u({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:r={},parentId:o=null,id:a=null})=>u({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:o,id:a}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,id:r=null})=>u({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,id:r}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r})=>u({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r}),getSpans:(e,t)=>l.spans.filter(n=>n[e]===t),getTraceId:()=>l.traceId}:null},O=n("1dBE"),y=n("nKUr");t.a=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:r=!0,navigationType:o,manualAndResourceSpans:a=!1})=>{const{Provider:s,useHook:c}=Object(O.b)("Stopwatch_"+e);return{Provider:function({children:t}){const c=v({name:e,sampleRate:n,navigationType:o,manualAndResourceSpans:a}),d=Object(p.b)(),l=d?d.time:0,u=Object(i.useRef)(!1),h=null==c?void 0:c.isTiming,b=e=>{u.current&&(u.current=!1,null==c||c.abort(e))};return Object(i.useEffect)(()=>()=>{r&&b("unloadOrClientNavigation")},[l]),Object(y.jsx)(s,{value:{isTiming:h,abort:b,addAnnotation:(e,t)=>{null==c||c.annotate(e,t)},addBinaryAnnotation:(e,t,n,i)=>{null==c||c.binaryAnnotate(e,t,n,i)},binaryAnnotationOperation:(e,t,n,i)=>{null==c||c.binaryAnnotateOperation(e,t,n,i)},addSubspan:({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:o,id:a})=>{null==c||c.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:o,id:a})},subspanStart:({name:e,annotations:t,binaryAnnotations:n,parentId:i,id:r})=>{null==c||c.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,id:r})},subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r})=>{null==c||c.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:r})},getSpans:(e,t)=>c?c.getSpans(e,t):[],getTraceId:()=>c?c.getTraceId():"",error:e=>{u.current&&(u.current=!1,null==c||c.error(e))},start:e=>{u.current&&(null==c||c.abort("duplicated_init_stopwatch_action")),u.current=!0,null==c||c.start(e)},stop:e=>{u.current&&(u.current=!1,null==c||c.stop(e))}},children:t})},useHook:c}}},FDmi:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("n6mq"),r=n("nKUr");const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function a({accessibilityLabel:e,name:t,outline:n,size:a,src:s,verified:c}){return Object(r.jsx)(i.b,{accessibilityLabel:e,name:t,outline:n,size:a,src:o(s,t)?void 0:s,verified:c})}},FZoo:function(e,t,n){var i=n("MrPd"),r=n("4uTw"),o=n("wJg7"),a=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,c){if(!a(e))return e;for(var d=-1,l=(t=r(t,e)).length,u=l-1,h=e;null!=h&&++d<l;){var b=s(t[d]),p=n;if("__proto__"===b||"constructor"===b||"prototype"===b)return e;if(d!=u){var f=h[b];void 0===(p=c?c(f,b,h):void 0)&&(p=a(f)?f:o(t[d+1])?[]:{})}i(h,b,p),h=h[b]}return e}},FeGr:function(e,t,n){(function(t){function n(e){r.length||(i(),!0),r[r.length]=e}e.exports=n;var i,r=[],o=0;function a(){for(;o<r.length;){var e=o;if(o+=1,r[e].call(),o>1024){for(var t=0,n=r.length-o;t<n;t++)r[t]=r[t+o];r.length-=o,o=0}}r.length=0,o=0,!1}var s,c,d,l=void 0!==t?t:self,u=l.MutationObserver||l.WebKitMutationObserver;function h(e){return function(){var t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof u?(s=1,c=new u(a),d=document.createTextNode(""),c.observe(d,{characterData:!0}),i=function(){s=-s,d.data=s}):i=h(a),n.requestFlush=i,n.makeRequestCallFromTimer=h}).call(this,n("yLpj"))},FfPP:function(e,t,n){var i=n("idmN"),r=n("hgQt");e.exports=function(e,t){return i(e,t,(function(t,n){return r(e,n)}))}},FylZ:function(e,t,n){function i(){let e="";for(let t=0;t<16;t+=1){e+="0123456789abcdef"[Math.floor(16*Math.random())]}return e}n.d(t,"a",(function(){return i}))},"G35+":function(e,t,n){var i=n("AHhP"),r=n.n(i),o=n("1inl"),a=n("K316"),s=n("fZ0m"),c=n("YYM5"),d=n("Ye/N"),l=n("1Nkp"),u=n("dwea"),h=n("28DW");function b(){}let p;Object.assign(b.prototype,r.a),Object.assign(b.prototype,{connect(e,t){t=Object.assign({},{success(){},error(){},complete(){}},t),Object(h.a)(`auth_web.social_connect.${e}.${Object(c.a)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(null,"TvzZ")).then(({default:e})=>{e(e=>{e.login(e=>{const n=e.authResponse;let i,r;n&&(i=n.grantedScopes,i=i?i.split(","):[],r=n.userID);const o=i.find(e=>"email"===e),a={id:r};"connected"===e.status&&o?t.success(a):t.error(a),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},a.a)}):"gplus"===e||"google"===e?s.a.get(e=>{Object(l.a)().then(()=>{e.auth2.getAuthInstance().grantOfflineAccess().then(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})}).catch(e=>{t.error(e)})})}):Promise.resolve().then(n.bind(null,"LqyK")).then(({default:n})=>{const i=t.windowOptions||n.getWindowOptions(),r=window.open("/connect/"+e+"/","",i);if(!r)return o.a.showError(d.a._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const a=u.a.setInterval(()=>{r.closed&&(clearInterval(a),this.handleComplete({network:e,error_message:"Window closed."}))},1e3);this.once("connect:"+e,e=>{clearInterval(a),e.error_message?t.error(e):t.success(e),t.complete()})})},complete(e){this.handleComplete(e)},handleComplete(e){const t="connect:"+e.network;if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(b,{instance:()=>(p||(p=new b),p),FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy",DROPBOX:"dropbox"}),window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&b.instance().complete(e.data)}),t.a=b},G6B4:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("JQRy"),o=n("+jF9"),a=n("jaOL"),s=n("pWuj"),c=n("lihF"),d=n("LTlA");t.default=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:s.default(e.dirtyHandlerIds,{type:t.type,payload:i({},t.payload,{prevTargetIds:d.get(e,"dragOperation.targetIds",[])})}),dragOffset:r.default(e.dragOffset,t),refCount:a.default(e.refCount,t),dragOperation:o.default(e.dragOperation,t),stateId:c.default(e.stateId)}}},G6z8:function(e,t,n){var i=n("fR/l"),r=n("oCl/"),o=n("mTTR");e.exports=function(e){return i(e,o,r)}},G8fK:function(e,t,n){function i(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function r(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))},GBVV:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("n6mq"),r=n("nKUr");const o={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return Object(r.jsx)(i.e,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:Object(r.jsx)(i.e,{dangerouslySetInlineStyle:o,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function s({disabled:e,name:t,onClick:n,size:o,submitting:s,text:c}){return Object(r.jsxs)(i.e,{display:"flex",position:"relative",children:[s&&Object(r.jsx)(a,{}),Object(r.jsx)(i.f,{color:"red",disabled:e||s,inline:!0,name:t,onClick:n,size:o,type:"submit",text:c})]})}},GDhZ:function(e,t,n){var i=n("wF/u"),r=n("mwIZ"),o=n("hgQt"),a=n("9ggG"),s=n("CMye"),c=n("IOzZ"),d=n("9Nap");e.exports=function(e,t){return a(e)&&s(t)?c(d(e),t):function(n){var a=r(n,e);return void 0===a&&a===t?o(n,e):i(t,a,3)}}},"GFC/":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("gmhe"),r=n("Ye/N"),o=n("n6mq"),a=n("nKUr");function s({children:e,dataTestId:t,icon:n,onClick:s,url:c}){let d;"selected"===n?d=Object(a.jsx)(o.u,{accessibilityLabel:r.a._("Selected option","flyoutMenu.selectedOptionCheckmark","Accessibility label for checkmark icon indicating which option is currently selected"),color:"darkGray",icon:"check",inline:!0}):"externalLink"===n&&(d=Object(a.jsx)(o.u,{accessibilityLabel:r.a._("External link","header.accountsOptionsMenu.externalLinkIcon","Accessibility label for icon indicating a menu item opens an external link"),color:"darkGray",icon:"arrow-up-right",inline:!0,size:12}));const l="string"==typeof e?Object(a.jsx)(o.e,{maxWidth:d?230:void 0,children:Object(a.jsx)(o.Y,{weight:"bold",children:e})}):e;return Object(a.jsx)(o.e,{"data-test-id":t,role:"listitem",children:Object(a.jsx)(i.a,{target:"externalLink"===n?"blank":null,onClick:s,url:c,children:Object(a.jsxs)(o.e,{alignItems:"center",display:"flex",justifyContent:"between",minHeight:35,paddingX:2,rounding:2,children:[l,d&&Object(a.jsx)(o.e,{flex:"none",marginStart:"auto",children:d})]})})})}},GNiM:function(e,t,n){var i=n("I01J"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));e.exports=a},Gi0A:function(e,t,n){var i=n("QqLw"),r=n("ExA7");e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},Gytx:function(e,t){e.exports=function(e,t,n,i){var r=n?n.call(i,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var d=o[c];if(!s(d))return!1;var l=e[d],u=t[d];if(!1===(r=n?n.call(i,l,u,d):void 0)||void 0===r&&l!==u)return!1}return!0}},H3Jb:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),r=n("4vzw"),o=n("/acK"),a=n("nrB0"),s=n("nwWm"),c=n("2S0S");t.useDragSourceMonitor=function(){var e=o.useDragDropManager();return[i.useMemo((function(){return new a.default(e)}),[e]),i.useMemo((function(){return new s.default(e.getBackend())}),[e])]},t.useDragHandler=function(e,t,n){var a=o.useDragDropManager(),s=i.useMemo((function(){return{beginDrag:function(){var n=e.current,i=n.begin,r=n.item;if(i){var o=i(t);return c(null==o||"object"==typeof o,"dragSpec.begin() must either return an object, undefined, or null"),o||r||{}}return r||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,i){var r=e.current.isDragging;return r?r(t):i===n.getSourceId()},endDrag:function(){var i=e.current.end;i&&i(t.getItem(),t),n.reconnect()}}}),[]);i.useEffect((function(){var i=r.default(e.current.item.type,s,a),o=i[0],c=i[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),c}),[])}},HCyo:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("mc7v"),r=n("QIuh"),o=n("YuQ1"),a=n("QLaP"),s=function(){function e(e,t){this.store=e,this.registry=t}return e.prototype.subscribeToStateChange=function(e,t){var n=this;void 0===t&&(t={handlerIds:void 0});var i=t.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===i||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId;return this.store.subscribe((function(){var t=n.store.getState(),a=t.stateId;try{a===r||a===r+1&&!o.areDirty(t.dirtyHandlerIds,i)||e()}finally{r=a}}))},e.prototype.subscribeToOffsetChange=function(e){var t=this;a("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var i=t.store.getState().dragOffset;i!==n&&(n=i,e())}))},e.prototype.canDragSource=function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){if(!e)return!1;var t=this.registry.getTarget(e);if(a(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();return i.default(n,r)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return Boolean(this.getItemType())},e.prototype.isDraggingSource=function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))},e.prototype.isOverTarget=function(e,t){if(void 0===t&&(t={shallow:!1}),!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!i.default(r,o))return!1;var a=this.getTargetIds();if(!a.length)return!1;var s=a.indexOf(e);return n?s===a.length-1:s>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return r.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return r.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t.default=s},HLqC:function(e,t,n){var i=n("R5Y4"),r=n("mv/X"),o=n("ZCgT");e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&r(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),i(t,n,a,e)}}},HNpt:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.default=function(){return i++}},HoRl:function(e,t,n){function i(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":return"ESMX";case"ES-AR":return"ESAR";case"ES-419":return"ESMX";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}n.r(t),n.d(t,"default",(function(){return i}))},"Hz/G":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("U4JR");var r=n("eOdZ");var o=n("zpPL"),a=n("t3tn");function s({boardDensity:e,component:t,surface:n,viewType:s}){!function({boardDensity:e,component:t,viewType:n}){const r=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:n}),o=4===n?3106:3069;Object(i.b)(101,{component:t,element:r,...n?{view:n,viewParameter:o}:{}})}({boardDensity:e,component:t,viewType:s}),function({density:e,surface:t}){const n="board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e};r.a.create("UserMetadataResource",n).callUpdate()}({density:e,surface:n}),function({density:e,surface:t}){const n="board"===t?a.a:a.d;o.a.instance.dispatch(n(e))}({density:e,surface:n})}},I01J:function(e,t,n){var i=n("44Ds");e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},IBrh:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("mEMi"),o=(n("9QW3"),n("n6mq")),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(e){super(e),s(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),s(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),s(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),s(this,"handleMouseEnter",e=>()=>{const{disabled:t,indexManager:n}=this.props;t||n.updateIndex(e)}),s(this,"handleMouseLeave",()=>{const{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),s(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:i}=this.state,{row:r,section:s}=i||{},{customProps:c={},items:d,renderItem:l}=e,{isDisabled:u=(e=>!1)}=c,h=t===s,b=l||n;return b&&d.map((e,n)=>{const i=u(e),s={section:t,row:n},d=h&&n===r;return Object(a.jsx)(o.e,{"data-test-id":"board-selection",ref:!i&&d?this.setSelectedItemRef:null,children:i?b({item:e,hovered:d,sectionProps:c}):Object(a.jsx)(o.X,{fullWidth:!1,onMouseEnter:this.handleMouseEnter(s),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:b({item:e,hovered:d,sectionProps:c})})},n)})}),s(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>Object(a.jsxs)(o.e,{children:[e&&e(t,n),this.renderItems(t,n)]},n))});const{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),i=n.top,r=n.bottom,o=t.getBoundingClientRect(),a=o.top;r>=o.bottom?e.scrollIntoView(!1):i<=a&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return Object(a.jsx)(r.a,{fetchMore:n,children:({setRef:n,onScroll:i})=>Object(a.jsx)(o.e,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:i,overflow:"auto",ref:e=>{this.containerRef=e,n(e)},children:this.renderSections()})})}}},"IEa/":function(e,t,n){var i=n("FeGr"),r=[],o=[],a=i.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function s(e){var t;(t=r.length?r.pop():new c).task=e,i(t)}function c(){this.task=null}e.exports=s,c.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),a())}finally{this.task=null,r[r.length]=this}}},IOzZ:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},IRZy:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("QWk2"),r=n("TT16"),o=n("Gytx"),a=function(){function e(e){var t=this;this.backend=e,this.hooks=i.default({dropTarget:function(e,n){t.dropTargetOptions=n,r.isRef(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)},e.prototype.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.prototype.didOptionsChange=function(){return!o(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},Object.defineProperty(e.prototype,"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},IWTy:function(e,t,n){var i=n("yue5");e.exports=function(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,c=n.length;++r<s;){var d=i(o[r],a[r]);if(d)return r>=c?d:d*("desc"==n[r]?-1:1)}return e.index-t.index}},IeEU:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("/MKj");const r=[1000069,1000075],o={};function a(e){return r.forEach(t=>{!e[t]||void 0!==o[t]&&o[t].id===e[t].id||(o[t]=e[t])}),o}function s(e){return Object(i.connect)(e=>({lfvExperiences:a(e.experiences.eligibleExperiences)}))(e)}function c(){return a(Object(i.useSelector)(({experiences:e})=>e.eligibleExperiences))}},"J/d7":function(e,t,n){n.d(t,"a",(function(){return m}));var i=n("q1tI"),r=n("/MKj"),o=n("YGxj"),a=n("Ye/N"),s=n("n6mq"),c=n("nKUr");function d(e){const{anchor:t,experienceType:n,hideAddSectionTooltip:i}=e,r="addSectionTooltip"===n?Object(c.jsx)(s.I,{anchor:t,color:"blue",idealDirection:"down",onDismiss:i,positionRelativeToAnchor:!1,showCaret:!0,size:"sm",children:Object(c.jsx)(s.e,{padding:4,children:Object(c.jsx)(s.Y,{color:"white",weight:"bold",children:a.a._("Tap + to add a section any time","boardActionsButton.addIconButton.addSectionFlyout","Flyout to point out where you can find add section")})})}):Object(c.jsx)(o.a,{anchor:t,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0});return Object(c.jsx)(s.y,{children:Object(c.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{zIndex:5e3}},position:"absolute",top:!0,children:r})})}var l=n("+nTX"),u=n("s6a/"),h=n("GFC/"),b=n("4cpq"),p=n("QAzJ");function f({anchor:e,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:r,onAddSection:o,onClose:d,onCreateBoard:f,onCreatePin:g,onCreateStoryPin:m,surface:j}){const{anyEnabled:v}=Object(p.a)("web_story_pin_creator");return Object(c.jsx)(l.a,{anchor:e,idealDirection:t,onDismiss:d,children:Object(c.jsxs)(i.Fragment,{children:[Object(c.jsxs)(u.a,{label:a.a._("Create","BoardActionsButton.LegoFlyout.Create","Label for a list of options to create a pin or a section"),children:[Object(c.jsx)(h.a,{dataTestId:"Create Pin",onClick:()=>{g(),d()},children:a.a._("Pin","BoardActionsButton.LegoFlyout.Pin","Option to create a pin")}),v&&Object(c.jsx)(h.a,{dataTestId:"Create Story Pin",onClick:()=>{m(),d()},children:a.a._("Story Pin","BoardActionsButton.LegoFlyout.StoryPin","Option to create a Story Pin")}),"profileBoards"===j&&f&&Object(c.jsx)(h.a,{dataTestId:"Create board",onClick:()=>{f(),d()},children:a.a._("Board","profileHeader.actionBar.board","Option to create a board")})]}),"board"===j&&Object(c.jsxs)(u.a,{label:a.a._("Add","BoardActionsButton.LegoFlyout.Add","Label for a list of options to add board sections or a board date"),children:["board"===j&&n&&Object(c.jsx)(b.a,{id:"addBoardNote",children:Object(c.jsx)(h.a,{onClick:()=>{n(),d()},children:Object(c.jsxs)(s.e,{display:"flex",alignItems:"center",children:[Object(c.jsx)(s.Y,{weight:"bold",children:a.a._("Note","BoardActionsButton.LegoFlyout.Note","Option to create a board note")}),Object(c.jsx)(s.e,{color:"blue",marginStart:2,padding:1,rounding:1,children:Object(c.jsx)(s.Y,{color:"white",size:"sm",weight:"bold",children:a.a._("New","BoardActionsButton.LegoFlyout.New","New option indicator")})})]})})}),"board"===j&&o&&Object(c.jsx)(b.a,{id:"addSection",children:Object(c.jsx)(h.a,{onClick:()=>{o(),d()},children:a.a._("Section","BoardActionsButton.LegoFlyout.Section","Option to create a board section")})}),"board"===j&&!!r&&Object(c.jsx)(h.a,{onClick:()=>{r(),d()},children:a.a._("Date","BoardActionsButton.LegoFlyout.Date","Option to add a date to a board")})]})]})})}var g=n("shej");function m({children:e,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:o,onAddSection:l,onCreateBoard:u,onCreatePin:h,onCreateStoryPin:b,onOpen:p=(()=>{}),surface:m}){const j=Object(r.useDispatch)(),v=()=>j(Object(g.a)()),O=Object(r.useSelector)(({createSectionTooltip:e})=>Boolean(null==e?void 0:e.showCreateSectionTooltip)),y=Object(i.useRef)(),[x,_]=Object(i.useState)(!1),w=()=>{p(),O&&v(),_(!0)},S={board:a.a._("Board Actions","button that allows user view actions on a board such as add section, create pin, create pincode, and create widget","button that allows user view actions on a board such as add section, create pin, create pincode, and create widget"),profileBoards:a.a._("Profile Actions","profileHeader.actionBar.createButton","Button on user's profile to open flyout with options to create a pin or a board"),profilePins:a.a._("Profile Actions","profileHeader.actionBar.createButton","Button on user's profile to open flyout with options to create a pin or a board"),section:a.a._("Create Pin","Button to begin pin creation flow","Button to begin pin creation flow")},C=e&&e({active:x,openFlyout:w})||Object(c.jsx)(s.v,{accessibilityLabel:S[m],icon:"add",onClick:"section"===m?h:w,size:"lg"});let I;return x||"board"!==m||(O?I="addSectionTooltip":o&&(I="planningActionsExperience")),Object(c.jsxs)(s.e,{"data-test-id":"boardActionsButton",children:[Object(c.jsx)(s.e,{ref:y,children:C}),x&&Object(c.jsx)(f,{anchor:y.current,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:o,onAddSection:l,onClose:()=>_(!1),onCreateBoard:u,onCreatePin:h,onCreateStoryPin:b,surface:m}),I&&Object(c.jsx)(d,{anchor:y.current,experienceType:I,hideAddSectionTooltip:v})]})}},JBUN:function(e,t,n){var i={"./":["dH2W",9],"./CZ":["B5Bz",9,405],"./CZ.js":["B5Bz",9,405],"./DA":["Gi0d",9,406],"./DA.js":["Gi0d",9,406],"./DE":["gu28",9,407],"./DE.js":["gu28",9,407],"./ENUK":["XnQI",9,408],"./ENUK.js":["XnQI",9,408],"./ENUS":["AWLv",9,409],"./ENUS.js":["AWLv",9,409],"./ESAR":["REmk",9,410],"./ESAR.js":["REmk",9,410],"./ESES":["wsSg",9,411],"./ESES.js":["wsSg",9,411],"./ESMX":["1BwC",9,412],"./ESMX.js":["1BwC",9,412],"./FI":["2A7Q",9,413],"./FI.js":["2A7Q",9,413],"./FR":["cYI+",9,414],"./FR.js":["cYI+",9,414],"./GR":["GRYs",9,415],"./GR.js":["GRYs",9,415],"./HI":["VJRD",9,416],"./HI.js":["VJRD",9,416],"./HU":["ruI3",9,417],"./HU.js":["ruI3",9,417],"./ID":["qOEt",9,418],"./ID.js":["qOEt",9,418],"./IT":["Bq0h",9,419],"./IT.js":["Bq0h",9,419],"./JP":["zJe/",9,420],"./JP.js":["zJe/",9,420],"./KR":["8fMJ",9,421],"./KR.js":["8fMJ",9,421],"./MS":["BOEg",9,422],"./MS.js":["BOEg",9,422],"./NL":["0gKe",9,423],"./NL.js":["0gKe",9,423],"./NO":["PiZp",9,424],"./NO.js":["PiZp",9,424],"./PL":["+Fv7",9,425],"./PL.js":["+Fv7",9,425],"./PTBR":["Ortd",9,426],"./PTBR.js":["Ortd",9,426],"./PTPT":["Yqrn",9,427],"./PTPT.js":["Yqrn",9,427],"./RO":["6YHy",9,428],"./RO.js":["6YHy",9,428],"./RU":["Pvfl",9,429],"./RU.js":["Pvfl",9,429],"./SK":["Lc4P",9,430],"./SK.js":["Lc4P",9,430],"./SV":["JVoV",9,431],"./SV.js":["JVoV",9,431],"./TH":["7T3W",9,432],"./TH.js":["7T3W",9,432],"./TL":["2ndg",9,433],"./TL.js":["2ndg",9,433],"./TR":["3+7V",9,434],"./TR.js":["3+7V",9,434],"./UA":["0Qy6",9,435],"./UA.js":["0Qy6",9,435],"./VT":["gfny",9,436],"./VT.js":["gfny",9,436],"./ZHCN":["lT6v",9,437],"./ZHCN.js":["lT6v",9,437],"./ZHTW":["yMH2",9,438],"./ZHTW.js":["yMH2",9,438],"./index":["dH2W",9],"./index.js":["dH2W",9],"./localeToFilename":["HoRl",9],"./localeToFilename.js":["HoRl",9],"./types":["99Jd",7,439],"./types.js":["99Jd",7,439]};function r(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(r,t[1])}))}r.keys=function(){return Object.keys(i)},r.id="JBUN",e.exports=r},JKZO:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("2K7C"),r=n("MKeS"),o=n("nKUr"),a=n.n(o);const s=Object(r.a)({resolved:{},chunkName:()=>"EditorWithMentionsInternal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("aceb083adb3a74e0823b69ef511ed3c33eb97e76"),n.e("EditorWithMentionsInternal")]).then(n.bind(null,"AO8i")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"AO8i"}});function c(e){return Object(o.jsx)(s,{...e,fallback:Object(o.jsx)(i.a,{})})}},JQRy:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("pYMm"),o=n("N4T/"),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};t.default=function(e,t){void 0===e&&(e=a);var n=t.payload;switch(t.type){case r.INIT_COORDS:case r.BEGIN_DRAG:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case r.HOVER:return o.areCoordsEqual(e.clientOffset,n.clientOffset)?e:i({},e,{clientOffset:n.clientOffset});case r.END_DRAG:case r.DROP:return a;default:return e}}},JZM8:function(e,t,n){var i=n("FfPP"),r=n("xs/l")((function(e,t){return null==e?{}:i(e,t)}));e.exports=r},Jld5:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("CkrQ"),r=n("G6B4"),o=n("pYMm"),a=n("HCyo"),s=n("54t5");var c=function(){function e(e,t,n){var o=this;void 0===t&&(t={}),void 0===n&&(n=!1),this.context=t,this.isSetUp=!1,this.handleRefCountChange=function(){var e=o.store.getState().refCount>0;e&&!o.isSetUp?(o.backend.setup(),o.isSetUp=!0):!e&&o.isSetUp&&(o.backend.teardown(),o.isSetUp=!1)};var c=function(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return i.createStore(r.default,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n);this.store=c,this.monitor=new a.default(c,new s.default(c)),this.backend=e(this),c.subscribe(this.handleRefCountChange)}return e.prototype.getContext=function(){return this.context},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.monitor.registry},e.prototype.getActions=function(){var e=this,t=this.store.dispatch;var n=o.default(this);return Object.keys(n).reduce((function(i,r){var o,a=n[r];return i[r]=(o=a,function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=o.apply(e,n);void 0!==r&&t(r)}),i}),{})},e.prototype.dispatch=function(e){this.store.dispatch(e)},e}();t.default=c},Joxa:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));const i=[0,2,1];function r(e){const{list_blocks:t,key_value_blocks:n}=e,i=t&&t.length>0?t.map(e=>{const{heading:t,blocks:n}=e;return{heading:t,blocks:n.map(e=>({text:e.text,type:9})),type:7}}):[];return{key_value_blocks:n&&n.length>0?n.map(e=>({category_type:e.category_type,type:8,value:e.value})):[],list_blocks:i}}function o(e){const{list_blocks:t,key_value_blocks:n}=e,i=t&&t.length>0?t.map(e=>{const{heading:t,blocks:n}=e;return{heading:t,items:n.map(e=>e.text)}}):[];return{keyValueBlocks:n&&n.length>0?n.reduce((e,t)=>{const{category_type:n,value:i}=t;return e[n]=i,e},{}):{},listBlocks:i}}function a(e){const{keyValueBlocks:t,listBlocks:n}=e;if(!t&&!n)return null;return{list_blocks:n?n.map(e=>{const{heading:t,items:n}=e;let i=[];return n&&(i=n.map(e=>({text:e,type:9}))),{blocks:i,heading:t,type:7}}):[],key_value_blocks:(t?Object.keys(t).map(e=>{const n=t[e],r=Number.parseInt(e,10),o=i.indexOf(r)>-1&&n===Number.parseInt(n,10).toString();return n&&o?{value:n,category_type:r,type:8}:null}):[]).filter(Boolean)}}},"Jr++":function(e,t,n){function i(e){null==e&&"undefined"!=typeof window&&(e=window.location.search);const t={};if(e){"?"===e[0]&&(e=e.substring(1));const n=/\+/g,i=/([^&=]+)=?([^&]*)/g,r=function(e){let t=e.replace(n," ");try{t=decodeURIComponent(t)}catch(i){t=unescape(t)}return t};let o=i.exec(e);for(;o;){const n=r(o[1]);"term_meta[]"===n?n in t?t[n].push(r(o[2])):t[n]=[r(o[2])]:t[n]=r(o[2]),o=i.exec(e)}}return t}n.d(t,"a",(function(){return i}))},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},K316:function(e,t,n){var i=n("mBfy");t.a=()=>i.default.isAuthenticated()&&!!i.default.attributes.facebook_id&&!i.default.isLimitedLogin()},KEt0:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o({size:e}){return Object(r.jsx)("span",{style:{padding:"0 4px"},children:Object(r.jsx)(i.Y,{inline:!0,size:null!=e?e:"md",children:"·"})})}},KPZG:function(e,t,n){n.d(t,"b",(function(){return S}));var i=n("q1tI"),r=n("/MKj"),o=n("FDmi"),a=n("T+9/"),s=n("T0g9"),c=n("Ye/N"),d=n("qD10"),l=n("DBEV"),u=n("TgLd"),h=n("xjqW");var b=({id:e,viewParameter:t,viewType:n})=>Object(h.b)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}),p=n("eOdZ"),f=n("M1Uz"),g=n("nGHF"),m=n("n6mq"),j=n("nKUr");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.PureComponent{constructor(...e){var t;super(...e),t=this,v(this,"state",{showModal:!1,reportType:null}),v(this,"handleDismiss",()=>this.setState({showModal:!1})),v(this,"handleClick",()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),v(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await p.a.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),v(this,"reportSuggestionText",()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({onHide:e})=>Object(j.jsx)(f.a,{onHide:e,text:c.a._("Thanks for your report! This will be reviewed by our Trust and Safety Team","ReportingFlag.Toast.text","Toast after reporting a search suggestion")})),this.handleDismiss())}),v(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){const{showModal:e}=this.state;return Object(j.jsxs)(i.Fragment,{children:[Object(j.jsx)(l.a,{accessibilityLabel:c.a._("Report","ReportingFlag.FlagButton.accessibilityLabel","Accessibility label for report icon for search suggestion"),onClick:this.showModal,backgroundHaloSize:24}),e&&Object(j.jsx)(u.b,{accessibilityModalLabel:c.a._("Report search term","ReportingFlag.Modal.accessibilityModalLabel","accessible label for report suggestion modal"),heading:c.a._("Report search term","ReportingFlag.Modal.heading","Heading for report suggestion modal"),onDismiss:this.handleDismiss,size:"sm",children:Object(j.jsxs)(m.e,{children:[Object(j.jsx)(m.e,{padding:5,children:Object(j.jsx)(m.Y,{children:c.a._("When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.","ReportingFlag.Box.Text.report","What will happen when you report a suggestion")})}),Object(j.jsxs)(m.e,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[Object(j.jsxs)(m.e,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[Object(j.jsx)(m.K,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),Object(j.jsx)(m.e,{flex:"grow",children:Object(j.jsx)(m.x,{htmlFor:"textType",children:Object(j.jsx)(m.e,{paddingX:2,children:Object(j.jsx)(m.Y,{children:"Report search text"})})})})]}),Object(j.jsxs)(m.e,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[Object(j.jsx)(m.K,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),Object(j.jsx)(m.e,{flex:"grow",children:Object(j.jsx)(m.x,{htmlFor:"imageType",children:Object(j.jsx)(m.e,{paddingX:2,children:Object(j.jsx)(m.Y,{children:"Report search image"})})})})]})]}),Object(j.jsx)(m.o,{}),Object(j.jsxs)(m.e,{display:"flex",justifyContent:"end",padding:2,children:[Object(j.jsx)(m.e,{margin:2,children:Object(j.jsx)(m.f,{onClick:this.handleDismiss,text:c.a._("Cancel","ReportingFlag.Box.Button.text.cancel","Text for cancel button when reporting search suggestion")})}),Object(j.jsx)(m.e,{margin:2,children:Object(j.jsx)(m.f,{color:"red",onClick:this.handleClick,text:c.a._("Report","ReportingFlag.Box.Button.text.report","Button label to report search suggestion"),disabled:!this.state.reportType})})]})]})})]})}}var y=Object(r.connect)(null,(e,t)=>({reportImage:n=>e(b({id:n,viewParameter:t.viewParameter,viewType:t.viewType}))}))(Object(g.c)(O)),x=n("eBDd"),_=n("flQA");const w={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},S=({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:r})=>{const o=[0,24,21,25,26].includes(e),a=Object(s.a)({q:t,rs:n||void 0,b_id:i,source_id:r});return o?"/discover/article/"+i:"/search/pins/"+(a?"?"+a:"")};t.a=Object(r.connect)((function({viewer:e}){return{viewer:e}}),()=>({}))((function({bubble:e,height:t,storyId:n,width:r,onClick:s,referringSource:l,contextLogData:u,viewType:h,viewParameter:b,slotIndex:p,handleReport:f,showFlag:g,imgSignature:v,onMouseEnter:O,onMouseLeave:C,isHovered:I,viewer:E}){const[T,P]=Object(i.useState)(!1),{id:D,action:k,cover_images:B,dominant_colors:M,identifier_icon_type:R,title:A,story_category:L,curator:N}=e,F=B[0]&&(B[0]["280x280"]||B[0]["236x"]),U=Object(x.a)(A&&A.format||"",A&&A.args||{}),H=M&&M.length?M[0]:"gray",z=(null==k?void 0:k.url)||S({storyCategory:L,query:U,referringSource:l,bubbleId:D,storyId:n});return Object(j.jsx)(a.a,{impressionAuxFields:{storyCategory:L,storyIdStr:n},impressionType:"Article",loggingId:D,viewType:h,viewParameter:b,slotIndex:p,contextLogData:{story_id:n,...u},children:Object(j.jsx)(m.e,{children:Object(j.jsx)("div",{onMouseEnter:()=>{O?O():P(!0)},onMouseLeave:()=>{C?C():P(!1)},children:Object(j.jsx)(d.a,{to:z,onClick:()=>{s&&s(D)},children:Object(j.jsxs)(m.B,{rounding:4,children:[Object(j.jsx)(m.e,{width:r||"100%",height:t,dangerouslySetInlineStyle:{__style:{backgroundColor:H}},children:F&&Object(j.jsx)(m.w,{alt:U,color:H,fit:"cover",naturalHeight:F.height,naturalWidth:F.width,src:F.url})}),Object(j.jsx)(m.e,{height:t,width:r||"100%",dangerouslySetInlineStyle:{__style:I||T?w.hoverOverlay:F&&w.bubbleOverlay},position:"absolute",top:!0,left:!0}),N&&26!==L&&Object(j.jsx)(m.e,{position:"absolute",top:!0,left:!0,padding:2,children:Object(j.jsx)(o.a,{outline:!0,size:"xs",src:N.image_small_url,name:N.full_name})}),R&&R!==_.a&&Object(j.jsx)(m.e,{alignItems:"center",color:"white",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:Object(j.jsx)(m.u,{icon:Object(_.b)(R),accessibilityLabel:c.a._("Shopping icon","bubble.shoppingIcon.label","Accessibility label for bubble shopping Icon"),color:"darkGray",size:12})}),Object(j.jsx)(m.e,{display:"flex",height:t,width:r||"100%",position:"absolute",top:!0,padding:3,alignItems:26===L?"end":"center",justifyContent:"center",children:Object(j.jsxs)(m.e,{display:"flex",direction:"column",children:[t>200?Object(j.jsx)(m.t,{size:"md",align:"center",color:"white",children:U}):Object(j.jsx)(m.Y,{align:"center",color:"white",weight:"bold",children:U}),N&&26===L&&Object(j.jsxs)(m.e,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[Object(j.jsx)(m.e,{marginEnd:2,children:Object(j.jsx)(o.a,{outline:!0,size:"xs",src:N.image_small_url,name:N.full_name})}),Object(j.jsx)(m.Y,{size:"sm",color:"white",children:N.full_name})]})]})}),E.isAuth&&E.isEmployee&&g&&(I||T)?Object(j.jsx)(m.e,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:Object(j.jsx)(y,{handleReport:f,viewType:h,viewParameter:b,imgSignature:v||""})}):null]})})})})})}))},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kz5y:function(e,t,n){var i=n("WFqU"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},L2iP:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"i",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return u}));const i=64,r=80,o=22,a="HeaderContent",s=4,c=24,d=671,l={marginBottom:s},u={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},LT60:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("d2Eh"),r=n("nKUr");const o=()=>{},a=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:c}){const d=e=>function(e,t){t&&e.keyCode===i.a.ESCAPE||a(e)}(e,t);return Object(r.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:o,onCanPlay:n?o:a,onCanPlayThrough:a,onChange:a,onClick:e?o:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:o,onInput:a,onInvalid:a,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:e?o:a,onMouseOut:a,onMouseOver:a,onMouseUp:e?o:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?o:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:e?o:a,onTouchMove:e?o:a,onTouchStart:e?o:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:c})}},LTlA:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){return"object"==typeof e},t.xor=function(e,t){var n=new Map,i=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(i),t.forEach(i);var r=[];return n.forEach((function(e,t){1===e&&r.push(t)})),r},t.intersection=function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))}},La7j:function(e,t,n){t.a=n("kugi").default},LqyK:function(e,t,n){n.r(t);var i=n("d7ng"),r=n("+NLT"),o=n("K316"),a=n("TvzZ"),s=n("Jr++"),c=n("JZM8"),d=n.n(c),l=n("eOdZ"),u=n("zwad");const h={open(e){const t=d()(e,h._validParams),n=h._getDialogType(e),r=h.generateFbRef(),c=e.object_type&&e.object_id&&"feed"===n;let b=Object(i.a)(e.path);const p=Object(s.a)();if(p.ptrf&&(b=u.a.appendQueryString(b,{ptrf:p.ptrf})),c&&(b=u.a.appendQueryString(b,{fb_ref:r})),t.method=n,"feed"===t.method){const n=h.getWindowOptions(e.width||580,e.height||400);let i="http://www.facebook.com/sharer/sharer.php?u="+b;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=b:"share"===t.method&&(t.href=b),Object(a.default)(n=>{n.getLoginStatus(()=>{if("send"===t.method){n.ui(t);let i,r=10;const o=setInterval(()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&r||(clearInterval(o),i&&h.executeMessengerCallback(i,e.callback)),r-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{c&&t&&!t.error_message&&l.a.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:r}).callCreate({showError:!1}),e.callback&&e.callback(t)})})},o.a)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval(()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return r.a.instance.unauth_id+":"+e},_getDialogType:e=>h._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,i=t||400,r=window.screen.width,o=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+i+",left="+Math.round((r-n)/2)+",top="+(o>i?Math.round((o-i)/2):0)}};t.default=h},LvPn:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("FylZ"),r=n("pody"),o=n("nEAA");const a=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){const{category:n,timing:s,isDeferred:c,isExternal:d,isVisuallyCompleteRequired:l}=e;return s.responseEnd&&("image"!==n||l)?{name:a(e),id:Object(i.a)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:Object(r.a)(s),binaryAnnotationMap:{category:Object(o.d)(n),decodedBodySize:Object(o.b)(s.decodedBodySize||0),initiatorType:Object(o.d)(s.initiatorType),isDeferred:Object(o.a)(c),isExternal:Object(o.a)(d),name:Object(o.d)(s.name),nextHopProtocol:Object(o.d)(s.nextHopProtocol),transferSize:Object(o.b)(s.transferSize||0)}}:null}},M1Uz:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("4jWr"),o=n("n6mq"),a=n("nKUr");function s({color:e="white",duration:t=2e3,href:n,iconThumbnail:s,imageUrl:c,onClick:d,onHide:l,openNewPage:u,text:h,button:b,thumbnailShape:p="square",dataTestId:f}){const[g,m]=Object(i.useState)(!1),[j,v]=Object(i.useState)(!1),O=Object(i.useRef)(),y=()=>{m(!0),O.current=setTimeout(l,r.a)},x=()=>{O.current&&clearTimeout(O.current)},_=()=>{O.current=setTimeout(y,t)};Object(i.useEffect)(()=>(setTimeout(()=>v(!0),100),_(),x),[]);const w="string"==typeof h?h:`${h[0]} ${h[1]}`,S=c?Object(a.jsx)(o.e,{height:48,overflow:"hidden",width:48,children:Object(a.jsx)(o.w,{alt:w,fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}):void 0,C=Object(a.jsx)(o.bb,{color:e,text:h,thumbnail:null!=s?s:S,button:b,thumbnailShape:p});return Object(a.jsx)("div",{style:Object(r.b)(j,g),onMouseEnter:x,onMouseLeave:_,"data-test-id":null!=f?f:"toast",children:n?Object(a.jsx)("a",{href:n,onClick:d,target:u?"_blank":null,rel:u?"noopener noreferrer":null,children:C}):C})}},MCs0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDecoratedComponent=function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}},MKeS:function(e,t,n){n.d(t,"b",(function(){return I}));var i=n("q1tI"),r=n.n(i);function o(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=n("TOwV"),d=n("2mql"),l=n.n(d);function u(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function h(e){console.warn("loadable: "+e)}var b=r.a.createContext();function p(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var f={initialChunks:{}},g="PENDING",m="REJECTED";var j=function(e){return e};function v(e){var t=e.defaultResolveComponent,n=void 0===t?j:t,i=e.render,d=e.onLoad;function h(e,t){void 0===t&&(t={});var h=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),p={};function j(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function v(e,i,r){var o=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!Object(c.isValidElementType)(o))throw new Error("resolveComponent returned something that is not a React component!");return l()(r,o,{preload:!0}),o}var O,y=function(e){var n,r;function c(n){var i;return(i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:j(n)},u(!n.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(h.requireAsync(n).catch((function(){return null})),i.loadSync(),n.__chunkExtractor.addChunk(h.chunkName(n))),s(i)):(!1!==t.ssr&&(h.isReady&&h.isReady(n)||h.chunkName&&f.initialChunks[h.chunkName(n)])&&i.loadSync(),i)}r=e,(n=c).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,c.getDerivedStateFromProps=function(e,t){var n=j(e);return a({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var l=c.prototype;return l.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===m&&this.setCache(),this.state.loading&&this.loadAsync()},l.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},l.componentWillUnmount=function(){this.mounted=!1},l.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},l.getCacheKey=function(){return j(this.props)},l.getCache=function(){return p[this.getCacheKey()]},l.setCache=function(e){void 0===e&&(e=void 0),p[this.getCacheKey()]=e},l.triggerOnLoad=function(){var e=this;d&&setTimeout((function(){d(e.state.result,e.props)}))},l.loadSync=function(){if(this.state.loading)try{var e=v(h.requireSync(this.props),this.props,_);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},l.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=v(t,e.props,{Loadable:_});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},l.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,o(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=h.requireAsync(n)).status=g,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e.props),chunkName:h.chunkName(e.props),error:t?t.message:t}),i.status=m}))),i},l.render=function(){var e=this.props,n=e.forwardedRef,r=e.fallback,s=(e.__chunkExtractor,o(e,["forwardedRef","fallback","__chunkExtractor"])),c=this.state,d=c.error,l=c.loading,u=c.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===g)throw this.loadAsync();if(d)throw d;var h=r||t.fallback||null;return l?h:i({fallback:h,result:u,options:t,props:a({},s,{ref:n})})},c}(r.a.Component),x=(O=y,function(e){return r.a.createElement(b.Consumer,null,(function(t){return r.a.createElement(O,Object.assign({__chunkExtractor:t},e))}))}),_=r.a.forwardRef((function(e,t){return r.a.createElement(x,Object.assign({forwardedRef:t},e))}));return _.preload=function(e){h.requireAsync(e)},_.load=function(e){return h.requireAsync(e)},_}return{loadable:h,lazy:function(e,t){return h(e,a({},t,{suspense:!0}))}}}var O=v({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return r.a.createElement(t,n)}}),y=O.loadable,x=O.lazy,_=v({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),w=_.loadable,S=_.lazy,C="undefined"!=typeof window;function I(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,i=void 0===n?"":n;if(!C)return h("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var r=null;if(C){var o=p(i),a=document.getElementById(o);if(a){r=JSON.parse(a.textContent);var s=document.getElementById(o+"_ext");if(!s)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(s.textContent).namedChunks.forEach((function(e){f.initialChunks[e]=!0}))}}if(!r)return h("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var c=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){r.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(c||(c=!0,e()))}t.push=function(){n.apply(void 0,arguments),i()},i()})).then(e)}var E=y;E.lib=w,x.lib=S;t.a=E},MNxV:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("XRfM"),r=n("pLLR"),o=n("nKUr");const a=i.c.DateFormatType;t.b=({dateFormatType:e,useUTC:t=!0,value:n})=>Object(o.jsx)(r.b,{children:r=>i.c.formatDate(r.locale,n,e,t)})},MaRn:function(e,t,n){function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}n.d(t,"a",(function(){return i}))},MgzW:function(e,t,n){var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),d=1;d<arguments.length;d++){for(var l in n=Object(arguments[d]))r.call(n,l)&&(c[l]=n[l]);if(i){s=i(n);for(var u=0;u<s.length;u++)o.call(n,s[u])&&(c[s[u]]=n[s[u]])}}return c}},"N/FO":function(e,t,n){const i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();t.a=({window:e,duration:t,run:n})=>{const r=i();let o=0,a=null;const s=()=>{const c=i()-r,d=c-o;if(t===1/0)n(0,c,d);else{const e=c/t;if(e>=1)return void n(1,c,d);n(e,c,d)}o=c,a=e.requestAnimationFrame(s)};return{start:()=>{a=e.requestAnimationFrame(s)},cancel:()=>{a&&(e.cancelAnimationFrame(a),a=null)}}}},"N4T/":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.strictEquality=function(e,t){return e===t},t.areCoordsEqual=function(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)},t.areArraysEqual=function(e,n,i){if(void 0===i&&(i=t.strictEquality),e.length!==n.length)return!1;for(var r=0;r<e.length;++r)if(!i(e[r],n[r]))return!1;return!0}},NBXZ:function(e,t,n){t.a=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},NFjV:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){var t=this;this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \""+e+'" until the drop event.'),null}})}))}return e.prototype.mutateItemByReadingDataTransfer=function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach((function(i){n[i]={value:t.config.exposeProperties[i](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,n)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t.NativeDragSource=i},NVsV:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("q1tI");const r="__ALL__",o="__NONE__",a={canEnableDebugger:!1,setDebuggerVisible:()=>{},debuggerVisible:!1,setDebuggingEnabled:()=>{},debuggingEnabled:!1,highlightExperiment:e=>{},highlightedExperiment:o,overrideExperiment:(e,t)=>{},overriddenExperiments:{},visibleExperimentCounts:{},setExperimentVisible:(e,t)=>{}},s=Object(i.createContext)(a);t.c=s},NXrh:function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),r=n("/MKj"),o=n("Sihc"),a=n("Ye/N"),s=n("rrvb"),c=n("ANjH"),d=n("0BOE"),l=n("jdx6"),u=n("n6mq"),h=n("w70y"),b=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f="NO_SECTION_VALUE";function g({section:e,hovered:t,searchQuery:n}){return Object(b.jsxs)(u.e,{children:[Object(b.jsx)(u.e,{color:t?"lightGray":"white",display:"flex",padding:2,rounding:2,children:Object(b.jsx)(u.e,{flex:"grow",children:Object(b.jsx)(u.Y,{weight:"bold",children:Object(l.b)(n,e.title)})})}),e.id===f&&Object(b.jsx)(u.o,{})]})}class m extends i.Component{constructor(...e){super(...e),p(this,"state",{searchQuery:""}),p(this,"getPickerSections",()=>{const{searchQuery:e}=this.state,{sectionsResource:t,mergingFromSectionId:n}=this.props;let i=t&&t.data||[];return i=n?i.filter(e=>e.id!==n):[{id:f,title:a.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit")},...i],e.length>=2&&(i=Object(d.a)(i,e,"title")),[{items:i}]}),p(this,"createBtnDisabled",()=>{const{sectionsResource:e}=this.props,{searchQuery:t}=this.state;return!(!e||!e.data)&&e.data.some(e=>{var n;return(null===(n=e.title)||void 0===n?void 0:n.toLowerCase())===t.toLocaleLowerCase()})}),p(this,"handleSectionCreate",()=>{const{board:e,onSectionChange:t,sectionsResource:n,dispatch:i,onSectionCreate:r}=this.props,{searchQuery:a}=this.state;r?r(a):i&&e.id&&i(Object(o.a)({boardId:e.id,name:a})).then(e=>{n&&n.refreshData(),this.setState({searchQuery:""}),t(e)})}),p(this,"handleSectionSelected",e=>{const{onSectionChange:t}=this.props;e.id===f?(t(null),this.setState({searchQuery:""})):(t(e),this.setState({searchQuery:""}))}),p(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),p(this,"renderRow",({item:e,hovered:t})=>{const{searchQuery:n}=this.state;return Object(b.jsx)(g,{hovered:t,searchQuery:n,section:e})})}componentDidUpdate(e){const t=e.selectedSectionId,{selectedSectionId:n}=this.props;if(n!==t){const{sectionsResource:e}=this.props;e&&e.refreshData()}}render(){const{isStoryPin:e,sectionsResource:t,selectedSectionId:n,mergingFromSectionId:i,selectedSectionName:r}=this.props,{searchQuery:o}=this.state;let c=i?a.a._("Pick a section","default dropdown option for selecting a board section to merge to","default dropdown option for selecting a board section to merge to"):a.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit");if(n){let e;t&&t.data&&(e=t.data.find(e=>e.id===n)),c=e&&e.title||c}else r&&(c=r);return Object(b.jsxs)(u.e,{children:[Object(b.jsx)(u.R,{accessibilityLabel:a.a._("loading section picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!!t&&!t.isLoaded}),(!t||t&&t.isLoaded)&&Object(b.jsx)(s.a,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:c,isStoryPin:e,onCreate:i?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:o,sections:this.getPickerSections()})]})}}const j=m;t.b=Object(c.compose)(Object(r.connect)(),Object(h.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id}),allowStale:!1}))(j)},NdQN:function(e,t,n){var i=n("q1tI"),r=n("JW66"),o=n("Ye/N"),a=(n("9QW3"),n("n6mq")),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"setInputRef",e=>{e&&(this._input=e)}),c(this,"handleKeyDown",e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case r.a.KeyCode.ENTER:case r.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case r.a.KeyCode.UP:e.preventDefault(),n.prev();break;case r.a.KeyCode.DOWN:e.preventDefault(),n.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){const{onChange:e,value:t}=this.props;return Object(s.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:Object(s.jsx)(a.N,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:o.a._("Search","search bar placeholder text","search bar placeholder text"),ref:this.setInputRef,size:"lg",value:t})})}}t.a=d},NdXn:function(e,t,n){function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}n.d(t,"a",(function(){return i}))},NjDU:function(e,t,n){function i(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function r(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function a(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return d}));const s=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),c=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function d(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}},Nle8:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("ajUs"),r=n("zpPL");function o(e,t){const n=r.a.instance;let o;if(n){const r=n.getState();if(r.pins&&e){const n=r.pins[e],a=r.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find(e=>"PinResource"!==e);n&&(o=t?e[t]:e.PinResource)}else n&&(o=Object(i.a)(n,a))}}return o}},NrS9:function(e,t,n){n.d(t,"b",(function(){return c}));var i=n("gxu6"),r=n("7w6Q"),o=n("eOdZ"),a=n("mBfy");const s=function(){};Object.assign(s.prototype,{sendSubscriptionToServer(e,t,n){i.b("cm_sub","allowed",8760,"/"),t&&t(),r.a.increment("auth.web.notifications.allowed",1,{sourceLandingPage:n});let a=e.subscriptionId;if(!a){const t=e.endpoint.split("/");a=t[t.length-1]}return o.a.create("WebPushDeviceResource",{}).callGet({showError:!1}).then(t=>{const n=t.resource_response.data;if(!(a in n)){const t={registration_id:a,subscription_endpoint:e.endpoint};return o.a.create("WebPushDeviceResource",t).callCreate()}})},subscribe(e,t,n){return r.a.increment("auth.web.notifications.viewed",1,{sourceLandingPage:n}),navigator.serviceWorker.ready.then(o=>{var a;null==o||null===(a=o.pushManager)||void 0===a||a.subscribe({userVisibleOnly:!0}).then(t=>this.sendSubscriptionToServer(t,e,n),o=>{"Notification"in window&&"denied"!==Notification.permission?(i.b("cm_sub","dismissed",8760,"/"),t&&t(),r.a.increment("auth.web.notifications.dismissed",1,{sourceLandingPage:n})):(i.b("cm_sub","denied",8760,"/"),e&&e(),r.a.increment("auth.web.notifications.denied",1,{sourceLandingPage:n}))})}).catch(()=>{})},initializeState(){if(a.default.isLimitedLogin())i.b("cm_sub","denied",8760,"/");else if(a.default.isAuthenticated())if("showNotification"in ServiceWorkerRegistration.prototype)if("Notification"in window&&"denied"!==Notification.permission){if("PushManager"in window)return navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription()).then(e=>{if(e)return this.sendSubscriptionToServer(e);throw i.b("cm_sub","none",8760,"/"),new Error}).catch(e=>{});i.b("cm_sub","denied",8760,"/")}else i.b("cm_sub","denied",8760,"/");else i.b("cm_sub","denied",8760,"/");else i.b("cm_sub","denied",8760,"/")}}),s.instance=function(){return s._instance||(s._instance=new s),s._instance},"undefined"!=typeof window&&window.addEventListener("load",()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then(()=>{s.instance().initializeState()}).catch(()=>{})});const c=()=>{if("serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}};t.a=s},NwjN:function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(0)},NykK:function(e,t,n){var i=n("nmnc"),r=n("AP2z"),o=n("KfNM"),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},"O1y+":function(e,t,n){var i=n("pOug");const r=Object(i.a)(e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null);t.a=r},O7RO:function(e,t,n){var i=n("CMye"),r=n("7GkX");e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,i(a)]}return t}},OBhP:function(e,t,n){var i=n("fmRc"),r=n("gFfm"),o=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),c=n("5Tg0"),d=n("Q1l4"),l=n("VOtZ"),u=n("EEGq"),h=n("qZTm"),b=n("G6z8"),p=n("QqLw"),f=n("yHx3"),g=n("wrZu"),m=n("+iFO"),j=n("Z0cm"),v=n("DSRE"),O=n("zEVN"),y=n("GoyQ"),x=n("1+5i"),_=n("7GkX"),w=n("mTTR"),S="[object Arguments]",C="[object Function]",I="[object Object]",E={};E[S]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[I]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[C]=E["[object WeakMap]"]=!1,e.exports=function e(t,n,T,P,D,k){var B,M=1&n,R=2&n,A=4&n;if(T&&(B=D?T(t,P,D,k):T(t)),void 0!==B)return B;if(!y(t))return t;var L=j(t);if(L){if(B=f(t),!M)return d(t,B)}else{var N=p(t),F=N==C||"[object GeneratorFunction]"==N;if(v(t))return c(t,M);if(N==I||N==S||F&&!D){if(B=R||F?{}:m(t),!M)return R?u(t,s(B,t)):l(t,a(B,t))}else{if(!E[N])return D?t:{};B=g(t,N,M)}}k||(k=new i);var U=k.get(t);if(U)return U;k.set(t,B),x(t)?t.forEach((function(i){B.add(e(i,n,T,i,t,k))})):O(t)&&t.forEach((function(i,r){B.set(r,e(i,n,T,r,t,k))}));var H=L?void 0:(A?R?b:h:R?w:_)(t);return r(H||t,(function(i,r){H&&(i=t[r=i]),o(B,r,e(i,n,T,r,t,k))})),B}},OQKm:function(e,t,n){n.d(t,"a",(function(){return _}));var i=n("q1tI"),r=n("/5qN"),o=n("+wrf"),a=n("rxSY"),s=n("Ye/N");const c="INVITE_SETTING",d="REQUEST_TO_JOIN_SETTING";var l=n("n6mq"),u=n("nKUr");function h({boldHeading:e,setting:t,viewerIsOwner:n}){const r={0:{name:s.a._("Do (almost) everything","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:s.a._("Add, move or delete Pins and sections, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},1:{name:s.a._("Save and comment","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:n?s.a._("Save Pins, organize them, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting"):s.a._("Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!","save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab","Text explaining collaborator permission setting")},[c]:{name:s.a._("Invite other people","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:s.a._("Collaborators can invite others to this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},[d]:{name:s.a._("Board requests","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:s.a._("People can request to join this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}},o=e?l.t:l.Y;return Object(u.jsxs)(i.Fragment,{children:[Object(u.jsx)(o,{color:"darkGray",size:e?"sm":"lg",children:r[t].name}),Object(u.jsx)(l.e,{paddingY:1,children:Object(u.jsx)(l.Y,{color:"gray",size:"lg",children:r[t].description})})]})}var b=n("EwHv"),p=n("TgLd"),f=n("v/Q4"),g=n("EC67");function m({board:e,currentPermissionLevel:t,navigateToPermissions:n,onDismiss:c}){var d;const m="number"==typeof e.collaborator_count&&e.collaborator_count>0,[j,v]=Object(i.useState)(!m),O=Object(f.a)(),y=Object(g.h)(),x=O.isAuth&&(null===(d=e.owner)||void 0===d?void 0:d.id)===O.id,_=x||e.collaborator_invites_enabled,w=j&&!m||!j;return Object(u.jsx)(p.b,{accessibilityModalLabel:j?s.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"):s.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),footer:_&&!j?Object(u.jsx)(l.X,{onTap:()=>v(!0),rounding:8,children:Object(u.jsxs)(l.e,{display:"flex",alignItems:"center",children:[Object(u.jsx)(l.v,{accessibilityLabel:s.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","accessibility label on icon button"),icon:"add",bgColor:"red",iconColor:"white"}),Object(u.jsx)(l.e,{paddingX:3,children:Object(u.jsx)(l.Y,{size:"lg",weight:"bold",children:s.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Clickable text to show invite form")})})]})}):null,heading:Object(u.jsx)(l.e,{padding:8,children:Object(u.jsx)(l.t,{align:"center",size:"md",children:j?s.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"):s.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")})}),onDismiss:c,children:Object(u.jsxs)(l.e,{marginBottom:5,children:[w&&Object(u.jsxs)(l.e,{paddingX:6,children:[Object(u.jsx)(l.e,{paddingY:3,children:Object(u.jsx)(l.Y,{size:"sm",children:x?s.a._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting"):s.a._("You can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting")})}),Object(u.jsxs)(l.e,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4,children:[Object(u.jsx)(l.e,{width:"60%",children:Object(u.jsx)(h,{boldHeading:!0,viewerIsOwner:x,setting:t})}),x&&Object(u.jsx)(l.v,{accessibilityLabel:s.a._("Edit board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on icon button"),icon:"arrow-forward",onClick:n})]})]}),j?Object(u.jsxs)(l.e,{paddingX:2,children:[Object(u.jsx)(r.a,{boardId:e.id}),Object(u.jsx)(a.a,{boardId:e.id})]}):Object(u.jsxs)(i.Fragment,{children:[Object(u.jsx)(l.e,{paddingX:6,paddingY:5,children:Object(u.jsx)(l.Y,{size:"sm",children:s.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Header before listing collaborators on a group board")})}),Object(u.jsx)(b.a,{board:e,scrollInfo:null,onBoardLeave:()=>{const e=O.isAuth?"/"+O.username:"/";y.replace(e)},renderInvite:(e,t,n)=>{const i={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return Object(u.jsx)(o.a,{...i})}})]})]})})}var j=n("/MKj"),v=n("U4JR"),O=n("pLLR"),y=n("oN2T");function x({board:{collaborator_invites_enabled:e,collaborator_requests_enabled:t,id:n},currentPermissionLevel:r,navigateToCollaborators:o,onDismiss:a}){const[b,f]=Object(i.useState)(r),[g,m]=Object(i.useState)(e),[x,_]=Object(i.useState)(t),[w,S]=Object(i.useState)(!1),C=Object(O.d)(),I=Object(j.useDispatch)();return Object(u.jsx)(p.b,{accessibilityModalLabel:s.a._("Board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),heading:Object(u.jsxs)(l.e,{paddingY:8,position:"relative",children:[Object(u.jsx)(l.e,{position:"absolute",top:!0,left:!C.isRTL,right:C.isRTL,paddingY:8,paddingX:6,children:Object(u.jsx)(l.v,{accessibilityLabel:s.a._("Back","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"arrow-back",iconColor:"darkGray",onClick:o})}),Object(u.jsx)(l.t,{align:"center",size:"md",children:s.a._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")}),Object(u.jsx)(l.e,{position:"absolute",top:!0,left:C.isRTL,right:!C.isRTL,paddingY:8,paddingX:6,children:Object(u.jsx)(l.v,{accessibilityLabel:s.a._("Close","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"cancel",iconColor:"darkGray",onClick:a})})]}),footer:Object(u.jsx)(l.e,{display:"flex",justifyContent:"end",children:Object(u.jsx)(l.f,{color:"red",disabled:w||b===r&&g===e&&x===t,inline:!0,onClick:()=>{S(!0);const i={id:n},o={view:5,viewParameter:3472};g!==e&&(i.collaborator_invites_enabled=g,Object(v.b)(g?106:107,{element:11896,...o})),b!==r&&(i.collaborator_permissions_setting=b,Object(v.b)(8841,{...o})),x!==t&&(i.collaborator_requests_enabled=x),I(Object(y.m)(i)).then(()=>a())},size:"lg",text:s.a._("Done","save.board.BoardPage.ModalContents.PermissionsModal","Submit button on a form")})}),onDismiss:a,children:Object(u.jsxs)(l.e,{paddingX:12,children:[Object(u.jsx)(l.e,{paddingY:3,children:Object(u.jsx)(l.Y,{size:"sm",children:s.a._("Permissions","save.board.BoardPage.ModalContents.PermissionsModal","Heading before listing possible board permissions")})}),Object(u.jsxs)(l.e,{alignItems:"center",display:"flex",children:[Object(u.jsx)(l.K,{checked:0===b,id:"ALL",onChange:()=>f(0),value:0}),Object(u.jsx)(l.e,{marginEnd:12,paddingX:2,children:Object(u.jsx)(h,{setting:0})})]}),Object(u.jsxs)(l.e,{display:"flex",paddingY:6,"data-test-id":"invite-radio-container",children:[Object(u.jsx)(l.K,{checked:1===b,id:"SAVE_ONLY",onChange:()=>f(1),value:1}),Object(u.jsx)(l.e,{marginEnd:12,paddingX:2,children:Object(u.jsx)(h,{setting:1})})]}),Object(u.jsx)(l.e,{paddingY:3,children:Object(u.jsx)(l.Y,{size:"sm",children:s.a._("Invitations","save.board.BoardPage.ModalContents.PermissionsModal","Heading before group board invitation permission form setting")})}),Object(u.jsxs)(l.e,{display:"flex",marginBottom:6,"data-test-id":"invite-checkbox-container",children:[Object(u.jsx)(l.j,{checked:g,id:"inviteSetting",onChange:({checked:e})=>m(e)}),Object(u.jsx)(l.e,{marginEnd:12,paddingX:2,children:Object(u.jsx)(h,{setting:c})})]}),Object(u.jsxs)(l.r,{alignItems:"center",justifyContent:"start",children:[Object(u.jsx)(l.j,{checked:x,id:"inviteSetting",onChange:({checked:e})=>_(e)}),Object(u.jsx)(l.e,{marginEnd:12,paddingX:2,children:Object(u.jsx)(h,{setting:d})})]})]})})}function _({board:e,onDismiss:t}){const[n,r]=Object(i.useState)("collaboratorsView"),{collaborator_permissions_setting:o}=e;return"collaboratorsView"===n?Object(u.jsx)(m,{board:e,currentPermissionLevel:o,navigateToPermissions:()=>r("permissionsView"),onDismiss:t}):Object(u.jsx)(x,{board:e,currentPermissionLevel:o,navigateToCollaborators:()=>r("collaboratorsView"),onDismiss:t})}},OSge:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));const i="0.8.0",r=9/16,o=6;function a(e,t=1){return{x:e/5,y:e*(t-1)}}const s={HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",MENTION_STICKER:"story_pin_mention_sticker_block",PRODUCT_STICKER:"story_pin_product_sticker_block"},c={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},d={...c,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},OWXb:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("eOdZ");function r(e){return t=>function(e){return i.a.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then(e=>new Promise((t,n)=>{const i=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;i?t(i):n(new Error("No blocking actions found in the response"))}))}(e).then(n=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:n}}),n))}},Og0o:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i="closeupImage",r=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},Oz7m:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("KEt0"),o=n("n6mq"),a=n("nKUr");function s(e){return null!=e}function c({additionalPadding:e,inline:t,items:n}){const c=e?Object(a.jsx)("span",{style:{padding:`0 ${4*e}px`},children:Object(a.jsx)(r.a,{})}):Object(a.jsx)(r.a,{}),d=n.filter(s).reduce((e,t,n)=>[...e,0!==n?c:null,t],[]).filter(s).map((e,t)=>Object(a.jsx)(i.Fragment,{children:e},t));return 0===d.length?null:t?Object(a.jsx)(o.e,{children:d}):Object(a.jsx)(o.r,{alignItems:"center",justifyContent:"start",children:d})}},P2Et:function(e,t,n){n.d(t,"b",(function(){return z}));var i=n("q1tI"),r=n("ks/r"),o=n("d7JY"),a=n("Ye/N"),s=n("n6mq"),c=n("nKUr");function d({isSection:e}){const t=e?a.a._("There aren’t any Pins in this section yet","EmptyBoard.EmptyText.section","Statement that there are no pins in the section"):a.a._("There aren’t any Pins on this board yet","EmptyBoard.EmptyText.board","Statement that there are no pins on the board");return Object(c.jsx)(o.a,{children:Object(c.jsx)(s.e,{paddingY:8,children:Object(c.jsx)(s.Y,{color:"darkGray",size:"lg",children:t})})})}function l({hasSections:e,isSection:t}){return Object(c.jsx)(s.e,{width:"100%",display:"flex",justifyContent:"center",children:!t&&e?null:Object(c.jsx)(d,{isSection:t})})}var u=n("3z7j"),h=n("mmKv"),b=n("dKiF");const p=e=>null===e,f=e=>e?164:5,g=e=>"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type),m=(e,t)=>e+(e>=t?1:0),j=Object(b.b)(0,b.a)(e=>e);function v(e){const{boardSectionId:t,gridItem:n,index:i,paddingBottom:r,renderPinItem:o,viewParameter:a}=e,{itemKey:s}=n;let d=null;switch(s.type){case"story":d=Object(c.jsx)(h.a,{slot:i,storyId:s.id,viewType:f(t),viewParameter:a});break;case"pin":d=Object(c.jsx)("div",{style:{paddingBottom:r},children:o(n,i)});break;default:d=null}return Object(c.jsx)("div",{children:d},`${s.type}:${s.id}`)}var O=n("MaRn"),y=n("MhBu"),x=n("R0ru"),_=n("9X5u"),w=n("rg+c");const S=-1;var C=Object(_.a)(w.a.Pin)((function(e){const{allowReordering:t,children:n,connectDropTarget:i,index:r,isDragWithinBounds:o}=e;return t&&i?i(Object(c.jsx)("div",{style:{opacity:r===S||o?1:.5},children:n})):n})),I=n("EhF7"),E=n("82UD"),T=n("0S8y");function P(e){const{allowReordering:t,boardSectionId:n,gridItem:i,handlePinDragBegin:r,handlePinDragEnd:o,handlePinDragHover:a,index:s,lfvExperiences:d,onBulkEditPinClick:l,source:u,target:h,viewParameter:b}=e,{inBulkEditMode:p,isCollaborator:g,isGroupBoard:m,isOwnBoard:j,isSelected:v,itemKey:{id:O}}=i,y=u!==S,x=h===s,_={pinId:O,imageOnlyOption:!j&&Object(T.b)(d)?"image-only":"default",attributionOption:m?"show":"hide",pinImageCrop:"none",surface:p?"BulkEditMode":"BaseBoardPinGrid",trackingParameters:{slotIndex:s,viewParameter:b,viewType:f(n)}};if(!j&&!g)return Object(c.jsx)(E.a,{..._});let C="no-selection";p&&(C=v?"selected":"deselected");let P=Object(c.jsx)(E.a,{..._,disableHover:y||p,selectionState:C});return p&&(P=Object(c.jsx)(I.a,{onClick:()=>l(O),children:P})),t&&(P=Object(c.jsx)(w.b,{index:s,isDragging:x,onDragBegin:r,onDragHover:a,onDragEnd:o,type:w.a.Pin,children:P})),P}var D=n("eOdZ"),k=n("IeEU"),B=n("2qKt"),M=n("ANjH"),R=n("x12c"),A=n("U4JR"),L=n("Wrea"),N=n("yjg8"),F=n("KFEb");function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends i.Component{constructor(...e){super(...e),U(this,"state",{reorderSource:S,reorderTarget:S}),U(this,"handlePinDeleted",(e,t,n)=>{const i=n,{board:r,boardSectionId:o,dispatch:a,onPinDelete:s}=this.props;a(Object(L.f)(r.id)),a(Object(y.a)({feedId:o||r.id,feedType:o?F.a.SECTION_PINS:F.a.BOARD_PINS,itemIds:[i],itemType:"pin"})),o&&a(Object(u.a)(o)),s()}),U(this,"handlePinAdded",(e,t,n)=>{const{board:i,boardSectionId:r,dispatch:o}=this.props;o(Object(L.f)(i.id)),r&&o(Object(u.a)(r)),this.props.resource.refreshData()}),U(this,"handlePinDragBegin",e=>this.setState({reorderSource:e})),U(this,"handlePinDragHover",e=>{const{reorderTarget:t}=this.state;e!==t&&this.setState({reorderTarget:e})}),U(this,"handlePinDragEnd",e=>{const{board:t,boardSectionId:n,dispatch:i,feed:r,viewParameter:o}=this.props,{reorderSource:a,reorderTarget:s}=this.state;if(r&&e&&s!==S&&a!==S&&s!==a){const e=this.hiddenItemIndex,[c,d]=-1===e?[a,s]:[m(a,e),m(s,e)],l=Object(F.c)(r,c,d),u=r[c].id;i(Object(O.a)({feedType:n?F.a.SECTION_PINS:F.a.BOARD_PINS,feedId:n||t.id,itemType:"pin",targetItemId:r[d].id,sourceItemId:r[c].id}));const h={board_id:t.id,pin_id:u},b=l.filter(e=>"pin"===e.type).map(e=>e.id),p=b.indexOf(u),g=p-1;g>=0&&g<b.length&&(h.pin_id_before=b[g]);const j=p+1;j>=0&&j<b.length&&(h.pin_id_after=b[j]);const v={objectId:u,view:f(n),viewParameter:o};D.a.create("BoardPinsReorderResource",h).callUpdate({showError:!1}).then(()=>Object(A.b)(7122,v))}this.setState({reorderSource:S,reorderTarget:S})}),U(this,"handleFetchMore",()=>{const{resource:{fetchMore:e,isAtEnd:t,isFetching:n}}=this.props;t||n||e()}),U(this,"renderPinItem",(e,t)=>{const{lfvExperiences:n,onBulkEditPinClick:i,viewer:r,viewParameter:o,boardSectionId:a}=this.props,{reorderSource:s,reorderTarget:d}=this.state;return Object(c.jsx)(P,{allowReordering:this.allowReordering,boardSectionId:a,gridItem:e,handlePinDragBegin:this.handlePinDragBegin,handlePinDragEnd:this.handlePinDragEnd,handlePinDragHover:this.handlePinDragHover,index:t,lfvExperiences:n,onBulkEditPinClick:i,source:s,target:d,viewer:r,viewParameter:o})}),U(this,"renderGridItem",({data:e,itemIdx:t})=>{const{boardSectionId:n,viewParameter:i}=this.props;return Object(c.jsx)(v,{boardSectionId:n,gridItem:e,index:t,paddingBottom:this.props.denseViewSelected?6:0,renderPinItem:this.renderPinItem,viewParameter:i})})}componentDidMount(){const{board:{id:e},feed:t,resource:{isFetching:n,refreshData:i}}=this.props;this.subscribers=[R.b.subscribe(e,"pinDeleted",this.handlePinDeleted),R.b.subscribe(e,"pinCreated",this.handlePinAdded)],p(t)&&!n&&i()}componentDidUpdate(e){const{feed:t,resource:{isFetching:n,refreshData:i}}=this.props;p(t)&&!p(e.feed)&&!n&&i()}componentWillUnmount(){this.subscribers.forEach(e=>e.unsubscribe()),delete this.subscribers}get allowReordering(){const{board:{collaborated_by_me:e=!1},isOwnBoard:t,isPinGridSorted:n}=this.props;return!n&&(t||e)}get hiddenItemIndex(){const{denseViewSelected:e,feed:t}=this.props;return e?(t||[]).findIndex(g):-1}render(){const{bulkEditSelectedPins:e,board:t,boardSectionId:n,feed:o,footerStoryId:d,denseViewSelected:u,inBoardOrganizationMode:h,inSectionOrganizationMode:b,isDragWithinBounds:p,inSelectAll:f,renderFooterStory:g,resource:{isAtEnd:m,isFetching:v,isLoaded:O},isOwnBoard:y,refreshFilteredFeed:_,scrollContainer:w}=this.props,{access:I,collaborated_by_me:E=!1,collaborator_count:T=0,section_count:P}=t,{reorderSource:D,reorderTarget:k}=this.state;if(!o||!o.find(e=>"pin"===e.type))return v?Object(c.jsx)(s.R,{accessibilityLabel:a.a._("Board Pins grid"),show:!0}):(O&&o&&0===o.length&&_&&_(),Object(c.jsxs)(i.Fragment,{children:[O&&o&&0===o.length&&Object(c.jsx)(l,{hasSections:!!P,isSection:!!n}),g&&d&&g(d)]}));const B=this.allowReordering,M=B&&D!==k&&D!==S&&k!==S;let R=o||[];const A=this.hiddenItemIndex;if(-1!==A&&(R=[...R.slice(0,A),...R.slice(A+1)]),M&&(R=Object(F.c)(R,D,k)),!R.length)return Object(c.jsx)(s.R,{accessibilityLabel:a.a._("Board Pins grid"),show:!0});const L={inBulkEditMode:h||b,inDenseView:u||!1,isGroupBoard:T>0,userCanEdit:(I||[]).includes("write"),isOwnBoard:y,isCollaborator:E},U=R.map((t,n)=>{const{inBulkEditMode:i}=L,r="pin"===t.type&&!(null==e||!e.includes(t.id));return j({...L,isSelected:i&&(f?!r:r),itemKey:t})});return Object(c.jsxs)(s.e,{minHeight:u?800:"",children:[Object(c.jsx)(C,{allowReordering:B,index:k,isDragWithinBounds:p,children:Object(c.jsx)(x.default,{columnWidth:u?N.f:N.e,comp:this.renderGridItem,gutterWidth:u?2*N.b/3:N.b,isAtEnd:m,isFetching:v,isLoaded:O,items:U,layout:"basicCentered",loadItems:this.handleFetchMore,paddingStyle:u?"dense":"simplified",scrollContainer:w,virtualize:!0},`${String(u)}-${String(h)}-${String(b)}`)}),B&&D!==S&&Object(c.jsx)(r.a,{}),v&&Object(c.jsx)(s.e,{position:"relative",paddingY:3,children:Object(c.jsx)(s.R,{accessibilityLabel:a.a._("Loading Board Feed"),show:!0})}),m&&d&&g&&g(d)]})}}const z=e=>e?e.reduce(({feed:e,footerStoryId:t},n)=>{const i="story"===n.type&&"board_ideas_preview_detailed"===n.story_type;return{feed:e.concat(i?[]:[n]),footerStoryId:i?n.id:t}},{feed:[],footerStoryId:void 0}):{feed:e,footerStoryId:void 0},Y=Object(M.compose)(Object(B.a)(1000182),k.a)(H);Y.displayName="BaseBoardPinGrid";t.a=Y},P6AF:function(e,t,n){var i=n("/MKj"),r=n("ANjH"),o=n("KFEb");var a=n("5FNA"),s=n("w70y"),c=n("P2Et");const d=Object(r.compose)(Object(i.connect)((e,t)=>Object(c.b)(e.feeds[o.a.SECTION_PINS][t.boardSectionId])),Object(s.b)({name:"BoardsResource",key:"boardsResource",options:e=>Object(a.a)(e.viewer.username,!0)}),Object(s.b)({name:"BoardSectionPinsResource",key:"resource",options:e=>{return t=e.boardSectionId,n=e.isOwnBoard,i=e.board.should_show_board_activity,{currentFilter:e.currentFilter,field_set_key:i?"react_grid_pin_with_board_activity":"react_grid_pin",is_own_profile_pins:n,page_size:25,redux_normalize_feed:!0,section_id:t};var t,n,i}}))(c.a);d.displayName="BoardSectionPinGrid";t.a=d},P6kd:function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),r=n("Ye/N"),o=n("oRao"),a=n("eOdZ"),s=n("Sbkd"),c=n("vvax"),d=n("n6mq"),l=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),u(this,"onDismiss",()=>{}),u(this,"mounted",!1),u(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),u(this,"handleKeyDown",e=>{38===e.keyCode?this.handlePrevHashtag(e):40===e.keyCode?this.handleNextHashtag(e):27===e.keyCode?this.handleClose(e):13===e.keyCode&&this.handleSubmit(e)}),u(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),u(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),u(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),u(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),u(this,"callResource",e=>{const{makeCancelablePromise:t}=this.props;t(a.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:i,idealDirection:a}=this.props,s=e.filter(e=>e.query),u=a||"down",h="flyout_"+s.length;return t&&s.length>0?Object(l.jsx)("div",{className:"HashtagFlyout",children:Object(l.jsx)(d.I,{anchor:i,idealDirection:u,onDismiss:this.onDismiss,size:"sm",children:Object(l.jsx)("div",{className:"HashtagRecommendations",children:s.length>0?s.map((e,t)=>Object(l.jsx)("div",{className:"HashtagItem",children:Object(l.jsx)(d.X,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:Object(l.jsxs)(d.e,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1,children:[Object(l.jsx)(d.e,{flex:"grow",children:Object(l.jsx)(d.Y,{inline:!0,size:"md",weight:"bold",children:e.query})}),Object(l.jsx)(d.e,{flex:"none",children:Object(l.jsx)(d.Y,{inline:!0,size:"sm",children:Object(c.b)(r.a.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:Object(l.jsx)(o.a,{value:Number(e.pin_count)},"pinCount")})})})]})})},e.query)):null})},h)}):null}}function b(e){const t=Object(s.a)();return Object(l.jsx)(h,{...e,makeCancelablePromise:t})}},P9b8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("SFi7");t.DragDropContext=i.DragDropContext,t.DragDropContextProvider=i.DragDropContextProvider,t.DragDropContextConsumer=i.Consumer;var r=n("QNmZ");t.DragLayer=r.default;var o=n("9EBm");t.DragSource=o.default;var a=n("tvWU");t.DropTarget=a.default;var s=n("fpRd");t.DragPreviewImage=s.default;var c=n("sGxw");t.useDrag=c.useDrag,t.useDragLayer=c.useDragLayer,t.useDrop=c.useDrop},PNKV:function(e,t,n){},PRGv:function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return i||((i=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),i}},PnD8:function(e,t,n){e.exports=n("6uti")},Pqnw:function(e,t,n){function i(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,"a",(function(){return i}))},PsyL:function(e,t,n){t.a=function({hours:e,minutes:t}){return`PT${e}H${t}`}},"Pv/+":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var i=n("MhBu"),r=n("eOdZ"),o=n("oN2T"),a=n("KFEb"),s=n("Wer7");function c(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function d(e,t){return n=>r.a.create("BoardSectionEditResource",{section_id:t}).callDelete({showError:!1}).then(()=>Promise.all([n(c(e,t)),n(Object(i.a)({feedId:e,feedType:a.a.BOARD_SECTIONS,itemIds:[t],itemType:"board_section"})),n(Object(o.c)(e,"pin_count")),n(Object(s.f)("BoardSectionsRepinResource",{board_id:e}))]))}},"Q2/A":function(e,t,n){t.a=(e,t,n)=>t?t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""):""},Q59z:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=(n("3qQZ"),n("WjpJ")),a=n.n(o),s=n("n6mq"),c=n("nKUr");const d=80,l=1.2;function u({layoutType:e,thumbnails:t}){switch(e){case 4:const e=t&&t[0]&&t[0]["236x"];return Object(c.jsx)(s.B,{rounding:4,width:d,height:80,children:e?Object(c.jsx)(s.w,{alt:"",color:"gray",fit:"cover",naturalHeight:e.height,naturalWidth:e.width,src:e.url||""}):Object(c.jsxs)(s.e,{display:"flex",children:[Object(c.jsx)(s.e,{color:"lightGray",height:d,width:39.4}),Object(c.jsxs)("div",{style:{paddingLeft:l},children:[Object(c.jsx)(s.e,{color:"lightGray",height:39.4,width:39.4}),Object(c.jsx)(s.e,{color:"lightGray",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return Object(c.jsx)(s.B,{rounding:4,width:d,height:80,children:Object(c.jsx)(s.e,{display:"flex",children:a()(0,2).map(e=>{const n=!!t&&t.length>0&&t[e];return Object(c.jsx)("div",{style:{paddingRight:l},children:Object(c.jsx)(s.e,{height:d,width:39.4,children:n&&Object(c.jsx)(s.w,{alt:"",color:"gray",fit:"cover",naturalHeight:d,naturalWidth:39.4,src:n["236x"].url||""})})},e)})})});default:return null}}var h=n("c4Fo"),b=n("U4JR");const p=[502043,502085,502419];function f({boardId:e,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:n}){return Object(c.jsx)(h.a,{placementId:18,experienceIds:p,children:({display_data:i,complete:r,dismiss:o})=>Object(c.jsx)(g,{boardId:e,displayData:i,complete:r,dismiss:o,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:n})})}function g({boardId:e,displayData:t,complete:n,dismiss:r,handleShowArchiveConfirmation:o,handleShowGroupPinsModal:a}){const d=t.custom_properties,[l,h]=Object(i.useState)(null);Object(i.useEffect)(()=>()=>clearTimeout(l),[l]);const p={2:o,3:()=>{d&&a(d.cluster_id,d.section_name)}};return Object(i.useEffect)(()=>{(e=>{if(!l){const t=setTimeout(()=>{e()},2e4);h(t)}})(r),Object(b.b)(13,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e})},[]),Object(c.jsx)(s.y,{children:Object(c.jsxs)("div",{className:"BoardActionUpsellCard",children:[Object(c.jsx)(s.e,{flex:"none",children:Object(c.jsx)(u,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),Object(c.jsxs)(s.e,{marginStart:4,children:[Object(c.jsx)(s.Y,{inline:!0,children:Object(c.jsx)(s.t,{size:"sm",children:t.text})}),Object(c.jsxs)(s.e,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[Object(c.jsx)(s.f,{color:"gray",inline:!0,onClick:()=>{Object(b.b)(123,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e}),r()},text:t.dismiss_button.text}),Object(c.jsx)(s.e,{paddingX:2,children:Object(c.jsx)(s.f,{color:"red",inline:!0,onClick:()=>{p[t.complete_button.action_type](),Object(b.b)(101,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e}),n()},text:t.complete_button.text})})]})]})]})})}var m=n("Hz/G");function j({density:e,surface:t}){Object(m.a)({boardDensity:e,component:"board"===t?13183:13187,surface:"board",viewType:"board"===t?5:164})}var v=n("Ye/N");var O=n("+nTX"),y=n("s6a/"),x=n("GFC/"),_=n("HJ6M");function w({board:e,currentFilter:t,eligibleFilters:n,isOwnBoard:o,surface:a,setCurrentFilter:d,setTitle:l}){const u=Object(i.useRef)(null),h=Object(r.useSelector)(({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.boardPinView}),[p,f]=Object(i.useState)(!1),g=()=>{f(!1)},m=[],w={[_.a]:12111,[_.c]:12110,[_.b]:12227};if(n){const i={items:n.map(n=>{var i;return{isSelected:n.pin_type===t,onClick:()=>{var t,i;Object(b.b)(101,{component:13475,element:w[null!==(t=n.pin_type)&&void 0!==t?t:-1],objectId:e.id,view:5,viewParameter:o?3069:3070}),d(null!==(i=n.pin_type)&&void 0!==i?i:-1),l(n.pin_type===_.a?null:n.text),g()},text:null!==(i=n.text)&&void 0!==i?i:""}}),label:v.a._("Filter by type","board.experimentalBoardActionBar.filterOptions","List of board filter options")};m.push(i)}return m.push(function({handleClose:e,selectedDensity:t,surface:n}){return{items:[{isSelected:"regular"===t,onClick:()=>{e(),j({density:"regular",surface:n})},text:v.a._("Default","BoardHeader.ActionBar.DensityOption-Default","Clickable text to set board view density to default mode")},{isSelected:"dense"===t,onClick:()=>{e(),j({density:"dense",surface:n})},text:v.a._("Compact","BoardHeader.ActionBar.DensityOption-Compact","Clickable text to set board view density to compact mode")}],label:v.a._("View options","BoardHeader.ActionBar.ViewOptions","List of board view options")}}({handleClose:g,selectedDensity:h,surface:a})),Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.e,{ref:u,children:Object(c.jsx)(s.v,{accessibilityLabel:v.a._("Board Filter","board.experimentalBoardActionBar.boardFilter","Filter to select specific Pins on board"),icon:"filter",iconColor:"darkGray",onClick:()=>{Object(b.b)(101,{element:12020,objectId:e.id,view:5,viewParameter:o?3069:3070}),f(!p)},selected:p,size:"lg"})}),p&&Object(c.jsx)(O.a,{anchor:u.current,onDismiss:g,size:"lg",children:m.map(({items:e,label:t})=>Object(c.jsx)(y.a,{label:t,children:e.map(({isSelected:e,onClick:t,text:n})=>Object(c.jsx)(x.a,{icon:e?"selected":null,onClick:t,children:n},n))},t))})]})}var S=n("2qKt"),C=n("vvax");var I=Object(S.a)(1000332)((function({board:e,currentFilter:t,isOwnBoard:n,section:r,setCurrentFilter:o,showExperienceTooltip:a}){const{eligible_pin_type_filters:d}=null!=r?r:e,[l,u]=Object(i.useState)(null),b=Object(i.useRef)(null),p=r?r.pin_count:e.pin_count;return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsxs)(s.e,{alignItems:"center",direction:"row",display:"flex",paddingX:8,children:[Object(c.jsx)(s.e,{flex:"grow",children:Object(c.jsx)(s.t,{accessibilityLevel:2,size:"sm",children:t>0&&l?l:Object(C.b)(v.a.ngettext("{{ pinCount }} Pin","{{ pinCount }} Pins",null!=p?p:0,"board.experimentalBoardActionBar.pinCount","Number of Pins on board or section"),{pinCount:p})})}),Object(c.jsx)(s.e,{ref:b,children:Object(c.jsx)(w,{board:e,isOwnBoard:n,currentFilter:t,eligibleFilters:d,setCurrentFilter:o,setTitle:u,surface:r?"section":"board"})})]}),a&&b&&Object(c.jsx)(s.y,{children:Object(c.jsx)(h.a,{experienceIds:[502974],placementId:1000332,children:({dismiss:e,display_data:t})=>((e,t)=>{var n;return b&&(null===(n=b.current)||void 0===n||n.scrollIntoView(!1)),Object(c.jsx)(s.I,{showCaret:!0,anchor:b.current,color:"blue",idealDirection:"down",onDismiss:e,shouldFocus:!1,size:312,children:Object(c.jsx)(s.e,{padding:3,children:Object(c.jsx)(s.Y,{align:"center",color:"white",overflow:"normal",weight:"bold",children:t.text})})})})(e,t)})})]})})),E=n("lnQP"),T=n("zUcL"),P=n("P6AF"),D=n("VVkO"),k=n("6j0b"),B=n("TgLd"),M=n("fOIk");function R(){const e=Object(c.jsx)(s.e,{display:"flex",justifyContent:"center",paddingX:8,children:Object(c.jsx)(s.Y,{children:Object(C.b)(v.a._("Add a {{ star }} to show collaborators your favorite Pins","groupBoardFavoriteEducationModal.text","Text for modal informing users of changes from group board reactions to board favorites"),{star:Object(c.jsx)(s.e,{display:"inlineBlock",children:Object(c.jsx)(s.u,{accessibilityLabel:v.a._("Favorite icon","groupBoardFavoriteEducationModal.bodyFavoriteIcon","Accessibility label for favorite icon"),color:"darkGray",dangerouslySetSvgPath:M.a,size:12})})})})}),t=e=>Object(c.jsx)(s.r,{justifyContent:"end",children:Object(c.jsx)(s.f,{inline:!0,onClick:e,text:v.a._("Got it","groupBoardFavoriteEducationModal.doneButton","Done button for modal")})}),n=e=>Object(c.jsxs)(s.e,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[Object(c.jsx)(s.e,{maxWidth:400,children:Object(c.jsx)(s.t,{align:"center",size:"md",children:Object(C.b)(v.a._("{{ heart }}  is now  {{ star }}","groupBoardFavoriteEducationModal.heading","Heading for modal informing users of changes from group board reactions to board favorites"),{heart:Object(c.jsx)(s.e,{display:"inlineBlock",paddingX:1,children:Object(c.jsx)(s.u,{accessibilityLabel:v.a._("Heart icon","groupBoardFavoriteEducationModal.headingHeartIcon","Accessibility label for heart icon"),color:"darkGray",icon:"heart",size:16})}),star:Object(c.jsx)(s.e,{display:"inlineBlock",paddingX:1,children:Object(c.jsx)(s.u,{accessibilityLabel:v.a._("Favorite icon","groupBoardFavoriteEducationModal.headingFavoriteIcon","Accessibility label for favorite icon"),color:"darkGray",dangerouslySetSvgPath:M.a,size:16})})})})}),Object(c.jsx)(s.e,{position:"absolute",top:!0,right:!0,padding:6,children:Object(c.jsx)(s.v,{accessibilityLabel:v.a._("Close","groupBoardFavoriteEducationModal.closeModalButton","Accessibility label for close modal button"),icon:"cancel",iconColor:"darkGray",onClick:e})})]});return Object(c.jsx)(h.a,{experienceIds:[503077],placementId:18,children:({complete:i,dismiss:r})=>Object(c.jsx)(B.b,{accessibilityModalLabel:v.a._("Group board reaction","groupBoardFavoriteEducationModal.modalAccessibilityLabel","Accessiblility label for modal used to educate group board collaborators about favorite button"),footer:t(i),heading:n(r),onDismiss:r,size:"sm",children:e})})}var A=n("Pqnw"),L=n("i/p3"),N=n("79tv"),F=n("v/Q4"),U=n("zq6P"),H=n("KFEb"),z=n("QAzJ"),Y=n("juW8");const q=()=>{};function G({board:e,currentView:t,handleContentViewChange:n,handleSetCurrentModal:o,handleShowEditSectionModal:a,handleShowMergeSectionsConfirmationModal:d,isOwnerOrCollaborator:l,isOwnBoard:u,isPinGridSorted:h,refreshBoardData:b=q,refreshSectionData:p=q,section:f}){const g=Object(F.a)(),m=Object(k.a)({board:e,viewer:g}),j=(e.access||[]).includes("write"),v=Object(r.useSelector)(e=>e.ui.views.boardPinView),O=Object(N.a)(f?Object(D.a)(e,f):""),{anyEnabled:y}=Object(z.a)("web_board_favorites",l),[x,w]=Object(i.useState)(_.a),[S,C]=Object(i.useState)(!1),B=Object(r.useDispatch)();Object(i.useEffect)(()=>()=>{x!==_.a&&B(f?Object(A.a)(H.a.SECTION_PINS,f.id):Object(A.a)(H.a.BOARD_PINS,e.id))},[e,x,B,f]);const M=()=>{x>0&&(w(_.a),f?p():b())};return f?Object(c.jsx)(U.a,{value:{currentFilter:x,eligibleFilters:f.eligible_pin_type_filters,refreshData:p,sectionId:f.id},children:Object(c.jsxs)(i.Fragment,{children:[l&&Object(c.jsx)(I,{board:e,currentFilter:x,isOwnBoard:u,section:f,setCurrentFilter:w,showExperienceTooltip:!1}),Object(c.jsx)(P.a,{board:e,boardSectionId:f.id,currentFilter:x,denseViewSelected:j&&"dense"===v,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:u,refreshFilteredFeed:M,renderFooterStory:t=>!e.archived_by_me_at&&l&&Object(c.jsx)(s.e,{marginBottom:12,children:Object(c.jsx)(T.a,{children:Object(c.jsx)(L.a,{collection:f,storyId:t,url:O})})}),viewer:g,viewParameter:m})]})}):Object(c.jsx)(U.a,{value:{currentFilter:x,eligibleFilters:e.eligible_pin_type_filters,refreshData:b,setShowExperienceTooltip:C},children:Object(c.jsxs)(i.Fragment,{children:[l&&Object(c.jsx)(I,{board:e,currentFilter:x,isOwnBoard:u,setCurrentFilter:w,showExperienceTooltip:S}),Object(c.jsx)(E.a,{actions:{onBoardOrganizeClick:q},board:e,currentFilter:x,currentView:t,enableReordering:l,isOwnBoard:u,isPinGridSorted:h,onContentViewChange:n,onPinDelete:q,onShowEditSectionModal:a,onShowMergeSectionsConfirmationModal:(e,t)=>{o(Y.a.sectionMergeConfirm),d(e,t)},refreshFilteredFeed:M,viewParameter:m}),y&&Object(c.jsx)(R,{})]})})}var W=n("w70y");function V({board:{id:e,owner:t},children:n}){const{data:i,isLoaded:r}=Object(W.a)({name:"BoardCollaboratorsResource",options:{board_id:e},allowStale:!1}),o=t.image_key||t.image_medium_url||t.image_small_url,a=[{name:t.full_name,src:o,href:`/${t.username}/`}];return r&&i&&i.length>0&&i.forEach(e=>{const t=e.image_key||e.image_medium_url||e.image_small_url;a.push({name:e.full_name,src:t,href:`/${e.username}/`})}),n(a)}var K=n("+HMQ"),X=n("PioT");function $(){Object(b.b)(101,{element:10778,component:13216,view:5,viewParameter:3069})}function Z({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:i,onEditClick:r,onMergeClick:o,onUnarchiveClick:a,setFlyoutType:s,showCreatePinCodeOption:c}){const d=[{dataTestId:"editBoardButton",text:v.a._("Edit board","BoardHeader.BoardOptionsFlyout.EditOption","Clickable text to enter board editing mode"),onClick:()=>{r(),e()}},{text:v.a._("Share","BoardHeader.BoardOptionsFlyout.ShareOption","Clickable text to show share options"),onClick:()=>{$(),s("boardShare")}},{text:v.a._("Merge","BoardHeader.BoardOptionsFlyout.MergeOption","Clickable text to open merge board modal"),onClick:()=>{o(),e()}}];t?d.push({text:v.a._("Unarchive","BoardHeader.BoardOptionsFlyout.UnarchiveOption","Clickable text to open unarchive modal"),onClick:()=>{a(),e()}}):d.push({text:v.a._("Archive","BoardHeader.BoardOptionsFlyout.ArchiveOption","Clickable text to open archive modal"),onClick:()=>{n(),e()}}),c&&d.push({text:v.a._("Create Pincode","BoardHeader.BoardOptionsFlyout.PincodeOption","Clickable text to trigger Pincode modal"),onClick:()=>{i(),e()}});return{items:d,label:v.a._("Board options","BoardHeader.BoardOptionsFlyout.OptionsCategory","Category of board options in board flyout")}}function Q({handleClose:e,onEditClick:t,setFlyoutType:n}){return{items:[{text:v.a._("Edit Section","BoardHeader.getSectionOptionsCategory.EditOption","Clickable text to enter board editing mode"),onClick:()=>{t(),e()}},{text:v.a._("Share","BoardHeader.getSectionOptionsCategory.ShareOption","Clickable text to show share options"),onClick:()=>{$(),n("boardShare")}}],label:v.a._("Section options","BoardHeader.getSectionOptionsCategory.OptionsCategory","Category of section options in section flyout")}}var J=n("3Qy3");function ee({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:i,onEditBoardClick:r,onEditSectionClick:o,onMergeClick:a,onUnarchiveClick:d,setFlyoutType:l,showCreatePinCodeOption:u,surface:h}){const b=X.b.getBrowser()===J.a.IE,p=[].concat(["section"===h?Q({handleClose:e,onEditClick:o,setFlyoutType:l}):Z({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:i,onEditClick:r,onMergeClick:a,onUnarchiveClick:d,setFlyoutType:l,showCreatePinCodeOption:u})]),f=()=>Object(c.jsx)(s.e,{width:206,children:p.map(({items:e,label:t})=>Object(c.jsx)(y.a,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:n,text:i})=>Object(c.jsx)(x.a,{dataTestId:e,icon:t?"selected":null,onClick:n,children:i},i))},t))});return b?Object(c.jsx)(s.e,{color:"white",dangerouslySetInlineStyle:{__style:{zIndex:10}},rounding:4,marginStart:-2,marginEnd:-2,paddingX:2,children:f()}):f()}var te=n("0ZL5"),ne=n("fevN"),ie=n("oVol");function re({board:e,onArchiveClick:t,onCreatePincode:n,onEditBoardClick:r,onEditSectionClick:o,onMergeClick:a,onUnarchiveClick:d,showCreatePinCodeOption:l,surface:u}){const h=Object(i.useRef)(null),[b,p]=Object(i.useState)(!1),[f,g]=Object(i.useState)("boardOptions"),m=()=>{p(!1),g("boardOptions")},j={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:ie.a.BOARD,url:e.url},y=()=>{p(e=>!e),g("boardOptions")},x=!!e.archived_by_me_at;return Object(c.jsxs)(s.e,{position:"relative",children:[Object(c.jsx)(s.e,{"data-test-id":"more-board-options",ref:h,children:Object(c.jsx)(s.v,{accessibilityLabel:v.a._("More Board options","BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel","Accessibility label on icon button"),bgColor:"lightGray",icon:"ellipsis",iconColor:"darkGray",onClick:y,selected:b,size:"sm"})}),Object(c.jsx)(te.a,{anchors:{3001:h.current},onCompleteByAnchor:{3001:y},placementId:18}),b&&Object(c.jsx)(O.a,{anchor:h.current,onDismiss:m,size:"boardOptions"===f?"lg":"xl",children:"boardOptions"===f?Object(c.jsx)(ee,{handleClose:m,isArchived:x,onArchiveClick:t,onCreatePincode:n,onEditBoardClick:r,onEditSectionClick:o,onMergeClick:a,onUnarchiveClick:d,setFlyoutType:g,showCreatePinCodeOption:l,surface:u}):Object(c.jsx)(ne.a,{classNames:"SendBoard",isFlyout:!0,onCreatePincodeClick:n,onHide:m,sendType:ie.a.BOARD,sharedObject:j})})]})}var oe=n("FDmi"),ae=n("yaUg"),se=n("qD10");function ce(e){const{faces:t,maxFaces:n,numFaces:i,onOverflowClick:r,shouldNavigate:o=!0}=e,a=[...t].reverse(),d=t.length>n?a.slice(0,n+1):a,l=i-n;return Object(c.jsx)(s.e,{position:"relative",display:"flex",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},alignItems:"center",children:d.map((e,t)=>{const{name:n,src:i,href:a,isDim:d}=e;if(0===t&&l>0)return Object(c.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},width:44,height:44,marginStart:-2,rounding:"circle",overflow:"hidden",children:Object(c.jsx)(s.w,{src:i||"",alt:n,naturalWidth:44,naturalHeight:44,fit:"contain",children:Object(c.jsx)(s.X,{fullHeight:!0,fullWidth:!0,onTap:r,rounding:"circle",children:Object(c.jsx)(s.e,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"circle",width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:Object(c.jsx)(s.Y,{color:"white",size:"md",weight:"bold",children:(u=l,u>99?"99+":u)})})})})},t);{const e={__style:{opacity:d?.5:1}},r=Object(c.jsx)(s.e,{marginStart:-2,dangerouslySetInlineStyle:e,children:Object(c.jsx)(oe.a,{name:n,size:"sm",src:i,outline:!0})},t);return o?Object(c.jsx)(se.a,{to:a,children:r},t):r}var u})})}var de=n("EC51");function le({invitedByUser:e,isAccepted:t,onDecline:n,onAccept:i,createdAt:o}){const a=Object(r.useSelector)(e=>e.viewer),d=e||{},{first_name:l,full_name:u,username:h,image_medium_url:b}=d,p=l||u||v.a._("others","Default text when board colalborator name is not known.","Default text when board colalborator name is not known.");return Object(c.jsx)(s.n,{children:t?Object(c.jsxs)(s.e,{width:"100%",paddingX:5,paddingY:3,rounding:2,marginStart:-1,marginEnd:-1,display:"flex",direction:"row",alignItems:"center",borderStyle:"sm",children:[Object(c.jsx)(ce,{maxFaces:2,numFaces:2,faces:[{href:a.isAuth?"/"+a.username:"",name:a.isAuth?a.fullName:"",src:a.isAuth?a.imageMediumUrl:""},{href:"/"+h,name:u,src:b}]}),Object(c.jsxs)(s.e,{marginStart:2,children:[Object(c.jsx)(s.Y,{weight:"bold",children:v.a._("You're in!","Text showing that a user has accepted the board invite and is now a part of the board","Text showing that a user has accepted the board invite and is now a part of the board")}),Object(c.jsx)(s.Y,{children:Object(ae.a)(v.a._("Start collaborating with {{ invitedByUserName }} on this board"),{invitedByUserName:p})})]})]}):Object(c.jsx)(s.e,{width:540,color:"white",paddingX:6,paddingY:6,rounding:6,marginStart:-1,marginEnd:-1,borderStyle:"shadow",children:Object(c.jsxs)(s.e,{display:"flex",alignItems:"center",direction:"row",children:[Object(c.jsx)(s.e,{marginEnd:2,children:Object(c.jsx)(oe.a,{name:u,src:b,size:"md"})}),Object(c.jsx)(s.e,{flex:"grow",children:Object(c.jsx)(s.Y,{inline:!0,color:"darkGray",children:Object(C.b)(v.a._("{{ user }} invited you to collaborate on this board {{ createdAt }}","web.boardView.inviteCard.text","Label used to indicate a Pinner has invited you to join a board"),{user:Object(c.jsx)(s.Y,{color:"darkGray",inline:!0,weight:"bold",children:Object(c.jsx)(de.a,{inline:!0,href:"/"+h,children:u})},h),createdAt:Object(c.jsx)(s.Y,{color:"gray",inline:!0,children:o})})})}),Object(c.jsxs)(s.e,{display:"flex",alignItems:"center",paddingX:1,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},children:[Object(c.jsx)(s.e,{marginEnd:2,display:"inlineBlock",children:Object(c.jsx)(s.f,{onClick:n,text:v.a._("Decline","decline board collaborator invite or request","decline board collaborator invite or request"),color:"gray",size:"lg",inline:!0})}),Object(c.jsx)(s.f,{onClick:i,text:v.a._("Accept","Text to accept a board collaboration invite","Text to accept a board collaboration invite"),size:"lg",color:"red",inline:!0})]})]})})})}var ue=n("4dcN"),he=n("pWkb"),be=n("eOdZ"),pe=n("M1Uz"),fe=n("Wrea"),ge=n("Wer7"),me=n("nGHF");var je=Object(me.c)(({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:n,toastManagerContext:o,userInviterId:a})=>{const[d,l]=Object(i.useState)(!1),[u,h]=Object(i.useState)(null),b=Object(F.a)(),p=Object(r.useDispatch)(),f={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:b.isAuth&&b.id};Object(i.useEffect)(()=>{a&&n&&(be.a.create("BoardInviteResource",f).callUpdate().then(()=>{p(Object(fe.c)(e)),p(Object(ge.f)("BoardInviteResource",f))}),be.a.create("UserResource",{field_set_key:"grid_item",user_id:a}).callGet().then(({resource_response:e})=>{const t=e&&e.data;t&&h(t)}))},[n,a]);const{data:g}=Object(W.a)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}}),{data:m}=Object(W.a)({name:"BoardInviteResource",options:f}),j=!(!a||!n)||d,O=!["new","contact_request_not_approved"].includes(null==m?void 0:m.status),y=[...g||[]].pop(),x=t=>{const n=t?"collaborator_invite_accept":"collaborator_decline_invite";ue.a.trackEvent(n,"click");const i=be.a.create("BoardInviteResource",f);(t?i.callUpdate():i.callDelete()).then(()=>{t&&(p(Object(fe.c)(e)),l(!0),o.showToast(({onHide:e})=>Object(c.jsx)(pe.a,{duration:5e3,onHide:e,text:v.a._("You're in! Save Pins, plan with collaborators, and more!","BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast","Text in toast after accepting a board collaborator invite.")}))),p(Object(ge.f)("BoardInviteResource",f))})},_=(null==m?void 0:m.invited_by_user)||u;return!_||O&&!j?null:Object(c.jsx)(s.e,{marginTop:3,paddingY:0,children:Object(c.jsx)(le,{invitedByUser:_,isAccepted:j,onAccept:()=>x(!0),onDecline:()=>x(!1),createdAt:Object(he.a)(y&&y.created_at,{isAbbreviated:!0})})})}),ve=n("Yo6N"),Oe=n("RNo4"),ye=n("EC67"),xe=n("ZdPf");function _e({boardId:e}){const t=Object(ye.i)(),n=t&&t.search?Object(Oe.k)(t.search):{},i=n.invite_code,r=n.accept_invite,o=n.inviter_user_id;return Object(c.jsx)(je,{boardId:e,inviteCode:i,shouldAutoAcceptBoardInvite:r,userInviterId:o})}var we=function(e){const{board:t}=e,{id:n,sensitivity:r}=t,o=Object(xe.d)(r);return Object(c.jsxs)(i.Fragment,{children:[!o&&Object(c.jsx)(_e,{boardId:n}),o&&Object(xe.c)(r)&&r&&Object(c.jsx)(s.e,{paddingY:10,children:Object(c.jsx)(ve.a,{notices:r.notices,viewType:5,sensitivity:r})})]})},Se=n("+wrf"),Ce=n("ViqK"),Ie=n("3j7w");function Ee({board:e,scrollInfo:t}){const n=Object(W.a)({name:"BoardCollaboratorsResource",options:{board_id:e.id},allowStale:!1});if(n.isLoaded){const{owner:r}=e,{data:o,isAtEnd:a,isFetching:s,fetchMore:d}=n,l=[r,...o||[]];return Object(c.jsxs)(i.Fragment,{children:[t?Object(c.jsx)(Ie.a,{scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top,isAtEnd:a,isFetching:s,fetchMore:d}):null,l.map(e=>{const{full_name:t,id:n,image_medium_url:i,username:r}=e;return Object(c.jsx)(Ce.a,{imageUrl:i,linkURL:`/${r}/`,name:t,subtitle:r,title:t},n)})]})}return Object(c.jsx)(s.R,{accessibilityLabel:v.a._("Loading","Loading spinner when rendering users","Loading spinner when rendering users"),show:!0})}var Te=({heading:e,description:t,disabled:n=!1,id:i,onChange:r,switched:o})=>Object(c.jsxs)(s.e,{display:"flex",direction:"column",width:"100%",paddingX:6,paddingY:4,children:[Object(c.jsx)(s.Y,{weight:"bold",children:e}),Object(c.jsxs)(s.e,{display:"flex",direction:"row",alignItems:"center",marginTop:3,children:[Object(c.jsx)(s.e,{flex:"grow",marginEnd:2,children:Object(c.jsx)(s.Y,{children:t})}),Object(c.jsx)(s.T,{id:i,onChange:r,disabled:n,switched:o})]})]}),Pe=n("JW66"),De=n("oN2T");function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Be extends i.Component{constructor(...e){super(...e),ke(this,"state",{invitesEnabled:Boolean(this.props.board.collaborator_invites_enabled),requestsEnabled:Boolean(this.props.board.collaborator_requests_enabled),emailEnabled:Boolean(this.props.board.collab_board_email)}),ke(this,"handleInvitesToggle",()=>this.setState(e=>({invitesEnabled:!e.invitesEnabled}))),ke(this,"handleRequestsToggle",()=>this.setState(e=>({requestsEnabled:!e.requestsEnabled}))),ke(this,"handleEmailToggle",()=>this.setState(e=>({emailEnabled:!e.emailEnabled}))),ke(this,"handleSubmit",()=>{const{onDismiss:e,board:t,updateBoard:n}=this.props,{invitesEnabled:i,requestsEnabled:r,emailEnabled:o}=this.state;n({...t,collaborator_invites_enabled:i,collaborator_requests_enabled:r,collab_board_email:o}).then(()=>e())})}render(){const{board:{privacy:e},onDismiss:t,isViewerOwner:n}=this.props,{invitesEnabled:i,requestsEnabled:r,emailEnabled:o}=this.state,a=[{heading:v.a._("Email notifications","Sub-heading for email notifications group board setting","Sub-heading for email notifications group board setting"),description:v.a._("Receive emails when Pins are added to this board","Description of email notifications setting","Description of email notifications setting"),disabled:!1,onChange:this.handleEmailToggle,id:"email",switched:o}],d=[...a,{heading:v.a._("Group requests","Sub-heading for group requests group board setting","Sub-heading for group requests group board setting"),description:v.a._("People can request to join this board","Description of group requests setting","Description of group requests setting"),disabled:e===Pe.a.BoardPrivacy.SECRET,onChange:this.handleRequestsToggle,id:"requests",switched:r},{heading:v.a._("Group members","Sub-heading for group members group board setting","Sub-heading for group members group board setting"),description:v.a._("Group members can invite others","Description of group members setting","Description of group members setting"),disabled:!1,onChange:this.handleInvitesToggle,id:"invites",switched:i}],l=n?d:a;return Object(c.jsx)(B.b,{accessibilityModalLabel:v.a._("Edit group settings","Label for editing group settings","Label for editing group settings"),heading:v.a._("Group board settings","Modal header for editing settings for a group board","Modal header for editing settings for a group board"),footer:Object(c.jsx)(s.e,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:Object(c.jsx)(s.e,{paddingX:1,children:Object(c.jsx)(s.f,{inline:!0,color:"red",onClick:this.handleSubmit,text:v.a._("Done","Button text for being finished with editing group board settings","Button text for being finished with editing group board settings")})})}),onDismiss:t,size:"md",children:l.map(e=>{const{description:t,disabled:n,heading:i,id:r,onChange:o,switched:a}=e;return Object(c.jsx)(Te,{description:t,disabled:n,heading:i,id:r,onChange:o,switched:a},r)})})}}var Me=Object(r.connect)((e,t)=>({board:e.boards&&e.boards.content[t.boardId]}),e=>({updateBoard:t=>e(Object(De.m)(t))}))(Be),Re=n("EwHv");function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Le extends i.Component{constructor(...e){super(...e),Ae(this,"state",{contentRef:null,currentModal:null,scrollContainer:null,scrollTop:null}),Ae(this,"handleBoardLeave",()=>{const{history:e,viewer:t}=this.props,n=t.isAuth?"/"+t.username:"/";e.replace(n)}),Ae(this,"handleContentRef",e=>{const{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),Ae(this,"handleScrollContainer",e=>{const{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),Ae(this,"handleScroll",()=>{const{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})}),Ae(this,"handleConfirmationModalOpen",()=>this.setState({currentModal:"confirmation"})),Ae(this,"handleSettingsModalOpen",()=>this.setState({currentModal:"settings"})),Ae(this,"handleCloseModal",()=>this.setState({currentModal:null})),Ae(this,"renderCurrentModal",()=>{const{board:{id:e,owner:t},viewer:n}=this.props,{currentModal:i}=this.state,r=n.isAuth&&n.username===t.username;switch(i){case"settings":return Object(c.jsx)(Me,{boardId:e,isViewerOwner:r,onDismiss:this.handleCloseModal});default:return null}})}renderInvite(e,t,n){const i={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return Object(c.jsx)(Se.a,{...i})}render(){const{anchor:e,board:t,onDismiss:n}=this.props,{currentModal:r,scrollContainer:o,scrollTop:a}=this.state,d=o?{container:o,top:a||0}:null,l=(t.access||[]).includes("write");return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.y,{children:Object(c.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},position:"absolute",top:!0,children:Object(c.jsx)(s.I,{anchor:e,onDismiss:r?()=>{}:n,idealDirection:"down",size:"xl",positionRelativeToAnchor:!1,children:Object(c.jsxs)(s.e,{width:"100%",maxHeight:500,minWidth:360,display:"flex",direction:"column",children:[Object(c.jsx)(s.S,{top:0,children:Object(c.jsxs)(s.e,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:64,paddingX:4,paddingY:4,children:[Object(c.jsx)("div",{ref:this.handleContentRef,tabIndex:"0",children:Object(c.jsx)(s.Y,{size:"lg",weight:"bold",children:v.a._("Group members","boardCollabFlyout.header","Heading for the group members flyout")})}),l&&Object(c.jsx)(s.e,{right:!0,top:!0,position:"absolute",marginTop:2,marginEnd:2,children:Object(c.jsx)(s.v,{accessibilityLabel:v.a._("Group board settings","boardCollabFlyout.settings.button","Icon for accessing settings on a group board"),icon:"cog",size:"lg",iconColor:"darkGray",onClick:this.handleSettingsModalOpen})})]})}),Object(c.jsx)(s.e,{overflow:"scrollY",children:Object(c.jsx)("div",{onScroll:this.handleScroll,ref:this.handleScrollContainer,children:l?Object(c.jsx)(Re.a,{board:t,scrollInfo:d,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,onModalOpen:this.handleConfirmationModalOpen}):Object(c.jsx)(Ee,{board:t,scrollInfo:d})})})]})})})}),this.renderCurrentModal()]})}}function Ne(e){const t=Object(F.a)(),n=Object(ye.h)();return Object(c.jsx)(Le,{...e,history:n,viewer:t})}var Fe=n("/5qN"),Ue=n("rxSY"),He=n("pLLR");function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ye extends i.Component{constructor(e){super(e),ze(this,"handleInviteAction",()=>{this.props.handleShowCollabAndPermissionsModal()}),ze(this,"toggleFlyout",()=>this.setState(e=>({isFlyoutOpen:!e.isFlyoutOpen}))),ze(this,"toggleSettingsModal",()=>this.setState(e=>({isSettingsModalOpen:!e.isSettingsModalOpen})));const{pathname:t=""}=e.location;/\/.*\/.*\/invite\/?$/.test(t)&&this.handleInviteAction(),this.state={isFlyoutOpen:!1,isSettingsModalOpen:!1}}render(){const{anchor:e,board:{id:t},children:n,isViewerOwner:r}=this.props,{isFlyoutOpen:o,isSettingsModalOpen:a}=this.state;return Object(c.jsxs)(i.Fragment,{children:[n?n(this.handleInviteAction):Object(c.jsx)(s.f,{inline:!0,onClick:this.handleInviteAction,text:v.a._("Invite","Invite collaborators button","Invite collaborators button")}),o?Object(c.jsx)(s.y,{children:Object(c.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},position:"absolute",top:!0,children:Object(c.jsx)(s.I,{anchor:e,idealDirection:"down",onDismiss:this.toggleFlyout,positionRelativeToAnchor:!1,size:"xl",children:Object(c.jsxs)(s.e,{width:"100%",minWidth:360,children:[Object(c.jsxs)(s.e,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:64,paddingX:4,paddingY:4,children:[Object(c.jsx)(s.e,{children:Object(c.jsx)(s.Y,{size:"lg",weight:"bold",children:v.a._("Invite collaborators","boardInviteSheet.header.label","Invite collaborators heading")})}),Object(c.jsx)(s.e,{right:!0,top:!0,position:"absolute",marginTop:2,marginEnd:2,children:Object(c.jsx)(s.v,{accessibilityLabel:v.a._("Settings","Group board invite settings","Group board invite settings"),icon:"cog",size:"lg",iconColor:"darkGray",onClick:this.toggleSettingsModal})})]}),Object(c.jsx)(s.e,{width:"100%",children:Object(c.jsx)(Fe.a,{boardId:t})}),Object(c.jsx)(s.e,{children:Object(c.jsx)(Ue.a,{boardId:t})})]})})})}):null,a?Object(c.jsx)(Me,{boardId:t,onDismiss:this.toggleSettingsModal,isViewerOwner:r}):null]})}}function qe(e){var t;const n=Object(F.a)();return Object(c.jsx)(Ye,{...e,isViewerOwner:n.isAuth&&n.username===(null===(t=e.board.owner)||void 0===t?void 0:t.username),location:Object(ye.i)(),requestContext:Object(He.d)()})}var Ge=n("TPPM"),We=n("8A+h"),Ve=n("YGxj"),Ke=n("8Mj5"),Xe=n("88U9"),$e=n("zpFB");function Ze({board:e,collaborators:t,handleShowCollabAndPermissionsModal:n}){const[r,o]=Object(i.useState)(!1),a=Object(F.a)(),d=Object(i.useRef)(),l=Object(i.useRef)(),u=t.length>1,h=Object(We.a)(a,e),b=h||e.collaborator_invites_enabled&&e.collaborated_by_me,p=h||e.collaborated_by_me;let f=u?()=>o(!r):()=>{var e;return Object(Ge.a)(null!==(e=t[0].href)&&void 0!==e?e:"/")};p&&(f=n);const g=[501003];h&&e.is_collaborative&&g.push(502335);const m="number"==typeof e.collaborator_count&&e.collaborator_count>Xe.a?e.collaborator_count-Xe.a+1:null;return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsxs)(s.e,{alignItems:"center",display:"flex",children:[Object(c.jsx)(qe,{anchor:l.current,board:e,handleShowCollabAndPermissionsModal:n,children:e=>Object(c.jsx)(Ke.a,{addButtonRef:l,additionalCount:m,faces:t,faceSize:"lg",onAddClick:e,oneClickTargetFacepile:p,onClick:f,overlap:$e.a,pileRef:d,showAddButton:b,showLargeNumbers:!0})}),Object(c.jsx)(te.a,{anchors:{3002:l.current},placementId:18,positionRelativeToAnchor:!1}),Object(c.jsx)(Ve.a,{anchor:l.current,experienceIds:g,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,customWrapper:({children:e})=>Object(c.jsx)(s.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:2}},children:e})})]}),r&&Object(c.jsx)(Ne,{anchor:d.current,board:e,onDismiss:()=>{o(!1),d.current&&d.current.focus()}})]})}function Qe(e){const{color:t,size:n}=e;return Object(c.jsx)(s.u,{accessibilityLabel:v.a._("secret board","accessible label for secret board icon","accessible label for secret board icon"),color:t,icon:"lock",size:n})}function Je({color:e,paddingX:t}){return Object(c.jsx)(s.e,{display:"inlineBlock",paddingX:t,children:Object(c.jsx)(s.Y,{color:e,size:"md",weight:"bold",inline:!0,children:"·"})})}function et({archived:e,secret:t}){return Object(c.jsxs)(s.e,{alignItems:"center",display:"flex",children:[t&&Object(c.jsx)(Qe,{color:"gray",size:16}),t&&Object(c.jsx)(s.e,{"data-test-id":"secret-board",inline:!0,paddingX:1,children:Object(c.jsx)(s.Y,{color:"gray",inline:!0,size:"lg",children:v.a._("Secret board","LegoBoardPageHeader.BoardStatus.secret","Label for a secret board")})}),t&&e&&Object(c.jsx)(Je,{color:"gray",paddingX:1}),e&&Object(c.jsx)(s.e,{inline:!0,paddingX:1,children:Object(c.jsx)(s.Y,{color:"gray",inline:!0,size:"lg",children:v.a._("Archived board","LegoBoardPageHeader.BoardStatus.archived","Label for a secret board")})})]})}var tt=n("d7JY"),nt=n("qyXF");function it({board:e,collaborators:t,overflowNumber:n}){const r=Object(i.useRef)(),[o,a]=Object(i.useState)(!1),d=t.map(e=>e.isDim?null:Object(c.jsx)(se.a,{to:e.href,children:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:e.name})},e.name)).filter(Boolean);return n&&d.push(Object(c.jsx)(s.e,{display:"inlineBlock",ref:r,children:Object(c.jsx)(s.X,{onTap:()=>a(!0),children:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:Object(C.b)(v.a.ngettext("{{ overflowNumber }} other","{{ overflowNumber }} others",n,"LegoBoardPageHeader.CollaboratorNames.others","number of additional collaborators not listed"),{overflowNumber:n})})})},"overflowText")),Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(s.Y,{inline:!0,truncate:!0,children:Object(nt.a)(d)}),o&&Object(c.jsx)(Ne,{anchor:r.current,board:e,onDismiss:()=>a(!1)})]})}var rt=n("Oz7m"),ot=n("qUzp");function at(e){return e?v.a._("Join","BoardPage.BoardJoinButton.join","[Button] Request to join a group board as a collaborator"):v.a._("Request to join","[Button] Request to join a group board as a collaborator","[Button] Request to join a group board as a collaborator")}function st(e){return e?v.a._("Cancel","BoardPage.BoardJoinButton.cancel","[Button] Cancel request to join a group board as a collaborator"):v.a._("Cancel request","[Button] Cancel request to join a group board as a collaborator","[Button] Cancel request to join a group board as a collaborator")}function ct(e){const{onClick:t,requested:n,size:i,useAlternateText:r}=e;return Object(c.jsx)(s.f,{onClick:t,size:i||"md",text:(n?st:at)(r)})}function dt(e){const{boardImage:t,boardName:n,boardUrl:i,onHide:r}=e,o=Object(c.jsx)(s.Y,{children:Object(C.b)(v.a._("You've cancelled the request to collaborate on {{ boardName }}","Board.JoinButton.CancelToast","Toast text stating that a user has cancelled a request to join a board"),{boardName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:n})})});return Object(c.jsx)(pe.a,{duration:3e3,href:i,imageUrl:t,onHide:r,text:o})}function lt(e){const{boardImage:t,boardName:n,boardUrl:i,onHide:r}=e,o=Object(c.jsx)(s.Y,{children:Object(C.b)(v.a._("You've requested to join {{ boardName }}","Board.JoinButton.RequestToast","Toast text stating that a user has requested to join a board"),{boardName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:n})})});return Object(c.jsx)(pe.a,{href:i,imageUrl:t,onHide:r,text:o})}var ut=n("dMCU");function ht(e,t){return be.a.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:t})}function bt(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}var pt=Object(ut.a)((function(e){const{authAction:t,boardId:n,boardImage:i,boardName:o,boardUrl:a,isBoardLandingPage:d,isRequestedByMe:l,showPulsar:u,size:h,variant:p}=e,f=Object(r.useDispatch)(),g=Object(F.a)(),m=Object(me.b)(),j=g.isAuth&&g.id||"";function v(){f(function(e,t){const n="cancel-group-board-request-to-join";return i=>{ht(e,t).callDelete({showError:!1}).then(()=>{ue.a.trackEvent(n,"success")}).catch(()=>{ue.a.trackEvent(n,"error"),i(bt(e,!0))}),i(bt(e,!1))}}(n,j)),m.showOneToast(({onHide:e})=>Object(c.jsx)(dt,{boardImage:i,boardName:o,boardUrl:a,onHide:e}))}function O(){f(function(e,t){const n="group-board-request-to-join";return i=>{ht(e,t).callCreate().then(()=>{ue.a.trackEvent(n,"success")}).catch(()=>{ue.a.trackEvent(n,"error"),i(bt(e,!1))}),i(bt(e,!0))}}(n,j)),m.showOneToast(({onHide:e})=>Object(c.jsx)(lt,{boardImage:i,boardName:o,boardUrl:a,onHide:e}))}const y=({event:e})=>{e.preventDefault(),e.stopPropagation();const i=l?"cancel_group_board_request_to_join":"group_board_request_to_join";t(l?v:O)(),function(e){const{action:t,id:n,isBoardLandingPage:i,url:r}=e,o="request"===t?7499:7547,a=i?5:4;Object(b.b)(101,{component:1,element:o,objectId:n,view:a,current_page_url:r})}({action:l?"request":"cancel",id:n,isBoardLandingPage:!!d,url:a}),ue.a.trackEvent(i,"click")};return j?Object(c.jsxs)(s.e,{position:"relative",display:"flex",children:[Object(c.jsx)(ct,{onClick:y,requested:l,useAlternateText:"lego"===p,size:h}),u&&Object(c.jsx)(s.X,{onTap:e=>{y(e)},children:Object(c.jsx)(s.e,{wrap:!1,position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:Object(c.jsx)(s.J,{paused:l})})})]}):null})),ft=n("3oMh"),gt=n("Sp3T");function mt({board:e,handleCreatePincode:t}){const n=Object(gt.a)();return Object(c.jsx)(ft.a,{board:e,onCreatePincode:t,onOpen:()=>n(()=>$()),children:({onClick:e})=>Object(c.jsx)(s.f,{color:"gray",onClick:e,size:"lg",text:v.a._("Share","BoardHeader.SendBoardButton","Text on button to share board")})})}var jt=n("0NP8");function vt(e){const{board:t,collaborators:n,handleCreatePincode:i,handleShowCollabAndPermissionsModal:r,hideFollowers:o,isToolsBoard:a,onFollowersClick:d,overFlowActionsButton:l,showPulsar:u,userBlocked:h}=e,{access:b,archived_by_me_at:p,collaborator_requests_enabled:f,description:g,follower_count:m,id:j,image_cover_url:v,name:O,privacy:y,url:x,viewer_collaborator_join_requested:_}=t,{limitedCollaborators:w,overflowNumber:S}=Object(Xe.b)(n.length,n),C=Object(F.a)(),I=b&&b.includes("write"),E=Object(ot.a)({viewer:C,board:t}),T=!!p,P=y===Pe.a.BoardPrivacy.PROTECTED,D=y===Pe.a.BoardPrivacy.SECRET,k=!I&&!h,B=k&&f,M=k&&!!i,R=!(!m||o||T||D||P),A=!E||g;return Object(c.jsx)(s.e,{direction:"column",display:"flex",justifyContent:"center",marginBottom:a?4:7,paddingX:8,width:"100%",children:Object(c.jsx)(s.e,{display:"flex",justifyContent:"center",children:Object(c.jsxs)(s.e,{"data-test-id":"LegoBoardHeader__main",direction:"column",display:"flex",maxWidth:488,children:[Object(c.jsx)(s.e,{display:"flex",justifyContent:"center",children:Object(c.jsx)(s.e,{maxWidth:800,children:Object(c.jsx)(we,{board:t})})}),Object(c.jsx)(s.e,{display:"flex",alignItems:"center",justifyContent:"center",marginStart:10,marginTop:4,children:Object(c.jsxs)(s.t,{align:"center",children:[O,Object(c.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{display:"inline-flex"}},paddingX:2,children:l})]})}),Object(c.jsx)(tt.a,{children:Object(c.jsx)(s.e,{marginTop:2,children:Object(c.jsx)(Ze,{board:t,collaborators:w,handleShowCollabAndPermissionsModal:r})})}),A&&Object(c.jsx)(tt.a,{children:Object(c.jsx)(s.e,{marginTop:2,dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:Object(c.jsx)(rt.a,{inline:!0,items:[E?null:Object(c.jsx)(it,{board:t,collaborators:w,overflowNumber:S},"collaborators"),g?Object(c.jsx)(s.Y,{inline:!0,children:g}):null]})})}),Object(c.jsx)(tt.a,{children:Object(c.jsx)(s.e,{marginTop:2,children:(T||D)&&Object(c.jsx)(et,{archived:T,secret:D})})}),Object(c.jsx)(tt.a,{children:R&&Object(c.jsx)(jt.a,{bold:!0,count:null!=m?m:0,onClick:d,shortform:!0,size:"lg"})}),Object(c.jsx)(tt.a,{children:(B||M)&&Object(c.jsxs)(s.e,{direction:"row",display:"flex",justifyContent:"center",marginTop:5,width:"100%",children:[B&&Object(c.jsx)(s.e,{paddingX:1,children:Object(c.jsx)(pt,{boardId:j,boardImage:null!=v?v:"",boardName:O,boardUrl:x,isRequestedByMe:Boolean(_),showPulsar:u,size:"lg",variant:"lego"})}),M&&!!i&&Object(c.jsx)(s.e,{paddingX:1,children:Object(c.jsx)(mt,{board:t,handleCreatePincode:i})})]})})]})})})}var Ot=n("0yL5"),yt=n("QIf8"),xt=n("+qOO");function _t(e){const{bgColor:t,board:n,canCreatePincode:o,canEdit:a,handleCreatePincode:s,handleOpenSendBoardFlyout:d,onEditClick:l,showFollow:u,showShare:h,size:b}=e,{id:p,name:f,url:g,image_cover_url:m}=n,[j,O]=Object(i.useState)(n.followed_by_me),{showOneToast:_}=Object(me.b)(),w=Object(r.useDispatch)(),S=()=>{j?(w(Object(xt.b)(p)),O(!1)):(w(Object(xt.a)(p)),O(!0),_(({onHide:e})=>Object(c.jsx)(yt.a,{boardImage:null!=m?m:"",boardName:f,boardUrl:g,onHide:e})))};return Object(c.jsx)(Ot.a,{bgColor:t,icon:"ellipsis",label:v.a._("Other actions","profileHeader.actionBar.overflow","Accessibility label for button to open other options flyout"),size:b,children:()=>Object(c.jsxs)(y.a,{label:v.a._("Board options","profileHeader.actionBar.overflow.header","Accessibility label header for board options flyout"),children:[a&&l&&Object(c.jsx)(x.a,{onClick:()=>{l()},children:v.a._("Edit","BoardPage.ActionBar.PartnerEdit","Clickable text to enter board editing mode")}),a&&o&&s&&Object(c.jsx)(x.a,{onClick:()=>{s()},children:v.a._("Create Pincode","BoardPage.ActionBar.PartnerPincode","Clickable text to trigger Pincode modal")}),h&&d&&Object(c.jsx)(ft.a,{board:n,onCreatePincode:s,onOpen:d,children:({onClick:e})=>Object(c.jsx)(x.a,{onClick:e,children:v.a._("Share","BoardPage.ActionBar.EllipsisButton","Button caption to share board")})}),u&&Object(c.jsx)(i.Fragment,{children:j?Object(c.jsx)(x.a,{onClick:S,children:v.a._("Unfollow","BoardPage.ActionBar.EllipsisButton","Button caption to unfollow board")}):Object(c.jsx)(x.a,{onClick:S,children:v.a._("Follow","BoardPage.ActionBar.EllipsisButton","Button caption to follow board")})})]})})}var wt=n("7pfs");const St=Object(i.forwardRef)((e,t)=>{const{boardName:n,boardUrl:i,children:r,overFlowActionsButton:o,sectionName:a}=e;return Object(c.jsxs)(s.e,{display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,ref:t,width:"100%",children:[Object(c.jsxs)(s.e,{display:"flex",direction:"column",maxWidth:488,children:[Object(c.jsx)(tt.a,{children:Object(c.jsx)(s.e,{marginTop:4,children:Object(c.jsx)(se.a,{to:null!=i?i:"",children:Object(c.jsx)(wt.a,{children:({active:e,focused:t,hovered:i,onBlur:r,onFocus:o,onMouseEnter:a,onMouseLeave:d})=>Object(c.jsx)(s.e,{onFocus:o,onBlur:r,onMouseEnter:a,onMouseLeave:d,children:Object(c.jsx)(s.t,{align:"center",color:e||t||i?"darkGray":"gray",children:n})})})})})}),Object(c.jsx)(tt.a,{children:Object(c.jsxs)(s.e,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,children:[Object(c.jsx)(s.t,{align:"center",children:a}),!!o&&Object(c.jsx)(s.e,{paddingX:1,children:o})]})})]}),r&&Object(c.jsx)(s.e,{marginTop:8,children:r})]})});St.displayName="SectionHeader";var Ct=St;function It({board:e,handleBoardEditClick:t,handleFollowersClick:n,handleSectionEditClick:i,handleShowBoardArchiveConfirmation:r,handleShowBoardUnarchiveConfirmation:o,handleShowCollabAndPermissionsModal:a,handleShowCreatePincodeModal:d,handleShowMergeModal:l,section:u,showPulsar:h}){const{name:b,sensitivity:p,url:f}=e,{access:g}=e,m=Object(F.a)(),j=g&&g.includes("write")?K.a:V,v=Object(xe.d)(p),O=Object(We.a)(m,e),y=Object(ot.a)({viewer:m,board:e});let x=null;x=y?Object(c.jsx)(re,{board:e,onArchiveClick:r,onCreatePincode:d,onEditBoardClick:t,onEditSectionClick:i,onMergeClick:l,onUnarchiveClick:o,showCreatePinCodeOption:m.isAuth&&m.isPartner,surface:u?"section":"board"}):Object(c.jsx)(_t,{bgColor:"lightGray",board:e,showFollow:!0,size:"sm"});const _=v&&Object(xe.c)(p);return u?Object(c.jsx)(Ct,{boardName:b,boardUrl:f,overFlowActionsButton:x,sectionName:u.title,children:_&&Object(c.jsx)(tt.a,{children:Object(c.jsx)(s.e,{maxWidth:800,paddingY:10,children:p&&Object(c.jsx)(ve.a,{notices:p.notices,viewType:5,sensitivity:p})})})}):Object(c.jsx)(s.e,{"data-test-id":"board-header",children:Object(c.jsx)(j,{board:e,children:t=>{var i;return Object(c.jsx)(vt,{board:e,collaborators:t,handleCreatePincode:d,handleShowCollabAndPermissionsModal:a,hideFollowers:O,isToolsBoard:!0,onFollowersClick:n,overFlowActionsButton:x,showPulsar:h,userBlocked:!(null===(i=e.owner)||void 0===i||!i.blocked_by_me)})}})})}var Et=n("fNcP");function Tt({boardTool:{icon:e,link:t,text:n},forwardedRef:r}){const[o,a]=Object(i.useState)(!1),{isRTL:d}=Object(He.d)();return Object(c.jsx)(s.X,{accessibilityLabel:n,onFocus:()=>a(!0),onBlur:()=>a(!1),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),rounding:6,children:Object(c.jsx)(se.a,{tabIndex:"-1",to:t,children:Object(c.jsxs)(s.e,{display:"flex",direction:"column",justifyContent:"center",ref:r,dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},children:[Object(c.jsx)(s.e,{alignItems:"center",color:o?"lightWash":"lightGray",display:"flex",height:72,justifyContent:"center",rounding:6,width:72,children:Object(c.jsx)(s.u,{accessibilityLabel:n,color:"darkGray",icon:"text-align-left"===e&&d?"text-align-right":e,size:24})}),Object(c.jsx)(s.e,{paddingY:1,width:72,children:Object(c.jsx)(s.Y,{align:"center",size:"sm",weight:"bold",children:n})})]})})})}function Pt({boardId:e,sectionId:t}){const n=Object(i.useRef)(),r=Object(i.useRef)(),o=Object(i.useRef)(),a=Object(i.useRef)(),d=!!t,l=d?{sectionId:t}:{boardId:e},{data:u,isLoaded:h}=Object(W.a)({name:d?"SectionToolsFeedResource":"BoardToolsFeedResource",options:l});if(h&&(!u||!u.length))return null;const b=[n,r,o,a],p=null==u?void 0:u.map(({id:e})=>{const t=e.split("-");return t&&t.length>1?Number(t[1]):-1});return h&&null!=u&&u.length?Object(c.jsx)(s.r,{alignItems:"center",justifyContent:"center",width:"100%",children:Object(c.jsxs)(s.e,{display:"flex",children:[u.map((e,t)=>{const n=p?p[t]:-1;return Object(c.jsx)(s.e,{padding:1,children:Object(c.jsx)(Tt,{boardTool:e,forwardedRef:b[n]})},e.id)}),Object(c.jsx)(te.a,{anchors:{3003:n.current,3004:r.current,3005:o.current,3007:a.current},placementId:18,positionRelativeToAnchor:!1})]})}):null}var Dt=n("Bn+j"),kt=n("1YNZ"),Bt=n("J/d7");function Mt(){Object(b.b)(101,{element:10776,component:13216,view:5,viewParameter:3069})}function Rt({handleAddBoardNote:e,handleAddSection:t,handleCreatePin:n,handleCreateStoryPin:r,surface:o}){const a=Object(i.useRef)();return Object(c.jsx)(s.e,{bottom:!0,marginBottom:4,position:"fixed",rounding:"circle",width:56,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",right:"50%",transform:"translate(-50%)"}},children:Object(c.jsx)(Bt.a,{idealDirection:"up",onAddBoardNote:e,onAddSection:t,onCreatePin:n,onCreateStoryPin:r,onOpen:Mt,surface:o,children:({active:e,openFlyout:t})=>Object(c.jsxs)(s.e,{color:"white",display:"inlineBlock",rounding:"circle",children:[Object(c.jsx)(s.v,{accessibilityLabel:v.a._("Create a Pin or add a Section","BoardPage.ActionBar.AddPinOrSection","button triggering a flyout to create a pin or add a section"),bgColor:"white",icon:"add",iconColor:"darkGray",onClick:t,ref:a,selected:e,size:"xl"}),Object(c.jsx)(te.a,{anchors:{3006:a.current},idealDirection:"up",placementId:18})]})})})}function At(e){const{boardUrl:t="",onHide:n,slug:i}=e;return Object(c.jsx)(pe.a,{duration:2e3,href:`${t}${i}`,onHide:n,text:v.a._("Section added!","Toast for successfully creating a new board section","Toast for successfully creating a new board section")})}var Lt=n("q8wg");var Nt=n("1inl"),Ft=n("i6L0");var Ut=n("eGqM"),Ht=n("i97C"),zt=n("zpPL"),Yt=n("t3tn");function qt(){const e=Object(F.a)(),t=Object(W.a)({name:"UserMetadataResource",options:{user:e}});Object(i.useEffect)(()=>function(e){const t=zt.a.instance;if(t&&""===t.getState().ui.views.boardPinView&&e&&e.data){const{profile_pin_rep_view_type:n}=e.data;n?t.dispatch(Object(Yt.a)(n)):t.dispatch(Object(Yt.a)("regular"))}}(t))}var Gt=n("6b3J"),Wt=n("ANjH"),Vt=n("NrS9"),Kt=n("sxkF"),Xt=n("mHb8");const $t=()=>{};t.a=Object(Wt.compose)(ye.l,Object(S.a)(18,e=>{var t;return{board_id:e.board.id,pin_count:null!==(t=e.board.sectionless_pin_count)&&void 0!==t?t:0,chrome_push_subscription:Object(Vt.b)()}}))((function({board:e,experience:t,initialModalType:n,match:{params:{slug:o}},refreshBoardData:a=$t,refreshSectionData:d=$t,setPlacementExtraContext:l,section:u,showPulsar:h}){const p=Object(r.useDispatch)(),g=Object(gt.a)(),{hasScrolledToBottom:m,isScrolledToThreshold:j}=Object(Ut.a)(),O=Object(F.a)(),{anyEnabled:y}=Object(z.d)("web_board_notes");Object(i.useEffect)(()=>{let t="other";Object(Xt.c)(O,e)?t="own":Object(Xt.b)(O,e)&&(t="collaborator"),l({board_ownership:t})},[t]);const{showOneToast:x}=Object(me.b)(),_=Object(ye.h)(),w=Object(r.useSelector)(({history:e})=>0===e.previous.length);qt();const{handleShowMergeSectionsConfirmationModal:S,mergeConfirmationModalProps:C,onConfirm:I}=Object(Ht.a)({board:e}),E=function(){const e=Object(r.useDispatch)(),{showBlockingActionToast:t}=Object(Ft.a)();return({board:n,targetBoard:i})=>{Object(b.b)(7172,{objectId:n.id,merge_flow:"menu"}),e(Object(De.j)(n.id,i.id)).then(()=>{t({actionType:"merge",board:i})}).catch(e=>{Nt.a.showError(e.message||v.a._("Failed to merge boards","Error message when failed to merge boards","Error message when failed to merge boards"))})}}(),[T,P]=Object(i.useState)(null),[D,B]=Object(i.useState)(n||null),[M,R]=Object(i.useState)(null),[A,L]=Object(i.useState)(e&&Object(Kt.b)(O,e)||"custom"),[N,U]=Object(i.useState)(!1),H=()=>B(Y.a.boardArchiveConfirmation),q=()=>{const e=O.isAuth?"/"+O.username:"/";_.replace(e)},W=e=>g(()=>{B(Y.a.editSection),P(e)}),V=()=>B(Y.a.collaboratorsAndPermissions),K="custom"!==A,X=Object(We.a)(O,e),$=Object(ot.a)({board:e,viewer:O});return Object(c.jsx)(Lt.a,{view:5,viewParameter:Object(k.a)({board:e,viewer:O}),objectId:e.id,children:Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(It,{board:e,handleBoardEditClick:()=>{Object(b.b)(101,{element:10845,component:13216,view:5,viewParameter:3069}),B(Y.a.boardEdit)},handleFollowersClick:()=>{B(Y.a.followers)},handleSectionEditClick:()=>W(),handleShowBoardArchiveConfirmation:H,handleShowBoardUnarchiveConfirmation:()=>B(Y.a.boardUnarchiveConfirmation),handleShowCollabAndPermissionsModal:V,handleShowCreatePincodeModal:()=>g(()=>{Object(b.b)(101,{element:10781,component:13217,view:5,viewParameter:3069}),B(Y.a.pincode)}),handleShowMergeModal:()=>g(()=>{B(Y.a.mergeBoard)}),section:u,showPulsar:h}),$&&Object(c.jsx)(s.e,{marginBottom:6,children:Object(c.jsx)(Pt,{boardId:e.id,sectionId:null==u?void 0:u.id})}),D!==Y.a.jumpstartBoard&&Object(c.jsx)(G,{board:e,currentView:A,handleContentViewChange:e=>L(e),handleSetCurrentModal:B,handleShowEditSectionModal:W,handleShowMergeSectionsConfirmationModal:S,isOwnBoard:X,isOwnerOrCollaborator:$,isPinGridSorted:K,refreshBoardData:a,refreshSectionData:d,section:u}),Object(c.jsx)(f,{boardId:e.id,handleShowArchiveConfirmation:H,handleShowGroupPinsModal:(e,t)=>{B(Y.a.groupPins),R({clusterId:e,suggestedSectionName:t})}}),$&&Object(c.jsx)(Rt,{handleAddBoardNote:y&&!u?()=>{(async()=>{var t;const n=null===(t=e.owner)||void 0===t?void 0:t.username;if(n){const t=(await be.a.create("BoardNoteResource",{slug:o,username:n}).callCreate()).resource_response.data;_.push(e.url?`${e.url}_tools/notes/${t.id}`:"")}})()}:null,handleAddSection:()=>g(()=>{Object(b.b)(101,{element:10779,component:13217,view:5,viewParameter:3069}),B(Y.a.simpleCreateSection)}),handleCreatePin:()=>g(()=>{Object(b.b)(101,{element:10780,component:13217,view:5,viewParameter:3069}),_.push({pathname:"/pin-builder/",state:{board:e,boardSection:u}})}),handleCreateStoryPin:()=>g(()=>{_.push({pathname:"/story-pin-builder/"})}),surface:u?"section":"board"}),D&&Object(c.jsx)(Et.a,{actions:{completeCreateSectionAction:t=>g(()=>{B(null),(t=>{x(({onHide:n})=>Object(c.jsx)(At,{boardUrl:e.url,onHide:n,slug:t.slug}))})(t)}),onBoardArchiveChange:()=>{a(),p(Object(De.i)())},onBoardDelete:q,onBoardLeave:e=>{p(Object(De.i)()),q()},onBoardMerge:t=>{E({board:e,targetBoard:t}),q()},onBoardSectionDelete:()=>{var t;(P(null),B(null),u)&&_.replace(null!==(t=e.url)&&void 0!==t?t:"")},onBoardSectionSave:({title:t,slug:n})=>{if(P(null),B(null),u){var i;const t=`${null!==(i=e.url)&&void 0!==i?i:""}${n}/`;_.replace(t)}},onCollaboratorInviteClick:V,onConfirmMergeSection:I},board:e,boardSection:u||T,currentModal:D,groupPinsData:M,mergeConfirmationModalProps:C,onClearModal:()=>B(null)}),w&&!Object(Xt.c)(O,e)&&!u&&(j||m)&&!N&&Object(c.jsx)(Gt.a,{onDismiss:()=>{U(!0)},boardId:e.id}),Object(c.jsx)(Dt.a,{placementId:18}),Object(c.jsx)(kt.a,{placementId:18})]})})}))},Q7uW:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o(e){const{htmlFor:t,errorMessage:n}=e;return Object(r.jsx)(i.x,{htmlFor:t,children:Object(r.jsx)(i.e,{marginTop:1,children:Object(r.jsx)(i.Y,{color:"red",size:"md",children:n})})})}},QAzJ:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var i=n("q1tI"),r=n("hlDC");function o(e){const t=Object(r.b)(),n=t.v2GetGroup(e)||"",o=function(e){return e.startsWith("enabled")||e.startsWith("employee")}(n),a=(e=>{const t=Object(i.useRef)(!1),n=Object(i.useRef)(!1);return Object(i.useEffect)(()=>{t.current=!0,n.current&&e()},[]),()=>{t.current?e():n.current=!0}})(()=>{t.v2ActivateExperiment(e)});return e=>(null!=e&&e.dangerouslySkipActivation||a(),{group:n,anyEnabled:o})}function a(e,t=!0){const n=o(e);return t?n():{group:"",anyEnabled:!1}}function s(e,t=!0){const n=o(e),{group:i,anyEnabled:r}=n({dangerouslySkipActivation:!0});return t?{group:i,anyEnabled:r}:{group:"",anyEnabled:!1}}function c(e,t=!0){const n=o(e),{group:i,anyEnabled:r}=n({dangerouslySkipActivation:!0});return t?{group:i,anyEnabled:r,customActivate:()=>{n()}}:{group:"",anyEnabled:!1,customActivate:()=>{}}}},QCnb:function(e,t,n){e.exports=n("+wdc")},QIf8:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("Ye/N"),r=n("M1Uz"),o=n("vvax"),a=n("n6mq"),s=n("nKUr");function c(e){const{boardImage:t,boardName:n,boardUrl:c,onHide:d}=e,l=Object(s.jsx)(a.Y,{children:Object(o.b)(i.a._("Now following {{ boardName }}","BoardFollowButton.FollowingToast.nowFollowing","Toast text displayed when a user follows a board"),{boardName:Object(s.jsx)(a.Y,{weight:"bold",children:n},"boardName")})});return Object(s.jsx)(r.a,{onHide:d,text:l,href:c,imageUrl:t})}},QIuh:function(e,t,n){function i(e,t){return{x:e.x+t.x,y:e.y+t.y}}function r(e,t){return{x:e.x-t.x,y:e.y-t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=i,t.subtract=r,t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,o=e.initialSourceClientOffset;return t&&n&&o?r(i(t,o),n):null},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?r(t,n):null}},QIyF:function(e,t,n){var i=n("Kz5y");e.exports=function(){return i.Date.now()}},QKYm:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return l}));const i=3,r={square:{width:236,height:236},wide:{width:300,height:200},xWide:{width:358,height:200},xxWide:{width:376,height:200}},o={square:{width:236,height:176},wide:{width:300,height:135},xWide:{width:358,height:200},xxWide:{width:376,height:200}},a={square:{width:236,height:157},wide:{width:320,height:213}};function s(e,t){return t?o[e].width:r[e].width}function c(e,t){return t?o[e].height:r[e].height}function d(e){return a["square"===e?"square":"wide"]}function l(e){return"list"===e?"100%":d(e).width+16}},QNmZ:function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("q1tI"),s=n("+k3R"),c=n("SFi7"),d=n("dJ9d"),l=n("QWfI"),u=n("qFZT"),h=n("2S0S"),b=n("Gytx");t.default=function(e,t){return void 0===t&&(t={}),s.default("DragLayer","collect[, options]",e,t),h("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),h(l.isPlainObject(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var i=n,s=t.arePropsEqual,l=void 0===s?b:s,p=i.displayName||i.name||"Component",f=function(t){function s(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurrentlyMounted=!1,e.ref=a.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();b(t,e.state)||e.setState(t)}},e}return r(s,t),s.prototype.getDecoratedComponentInstance=function(){return h(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},s.prototype.shouldComponentUpdate=function(e,t){return!l(e,this.props)||!b(t,this.state)},s.prototype.componentDidMount=function(){this.isCurrentlyMounted=!0,this.handleChange()},s.prototype.componentWillUnmount=function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)},s.prototype.render=function(){var e=this;return a.createElement(c.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?a.createElement(i,o({},e.props,e.state,{ref:d.isRefable(i)?e.ref:null})):null)}))},s.prototype.receiveDragDropManager=function(e){if(void 0===this.manager){this.manager=e,h("object"==typeof e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",p,p);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}},s.prototype.getCurrentState=function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)},s.displayName="DragLayer("+p+")",s.DecoratedComponent=n,s}(a.Component);return u(f,n)}}},QSJg:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},QWfI:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.noop=function(){},t.isPlainObject=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},QWk2:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),r=n("B/xd");function o(e){return function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!i.isValidElement(t)){var o=t;return e(o,n),o}var a=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}(a);var s=n?function(t){return e(t,n)}:e;return r.default(a,s)}}n("1IOU"),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var r=o(i);t[n]=function(){return r}}})),t}},R5Y4:function(e,t){var n=Math.ceil,i=Math.max;e.exports=function(e,t,r,o){for(var a=-1,s=i(n((t-e)/(r||1)),0),c=Array(s);s--;)c[o?s:++a]=e,e+=r;return c}},R6wO:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("n6mq"),o=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class c extends i.PureComponent{constructor(...e){super(...e),a(this,"state",{hovered:!1}),a(this,"handleMouseEnter",()=>this.setState({hovered:!0})),a(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:i,descriptionColor:a="darkGray",compact:c}=this.props,d=Array.isArray(n)?n.join(""):n;return Object(o.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(o.jsxs)(r.e,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:d,children:[!c&&t&&Object(o.jsx)(r.e,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?Object(o.jsx)(r.u,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):Object(o.jsx)(r.u,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),Object(o.jsxs)(r.e,{alignItems:c?"center":"start",direction:c?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[Object(o.jsx)(r.Y,{color:"darkGray",size:c?"sm":"md",weight:e?"bold":"normal",children:n}),Object(o.jsx)(r.e,{alignItems:"center",display:"flex",children:!c&&i&&Object(o.jsx)(r.e,{marginBottom:2,marginTop:1,children:Object(o.jsx)(r.Y,{color:a,overflow:"normal",size:"sm",children:i})})})]})]})})}}a(c,"defaultProps",{bold:!0})},Rfw2:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return l}));var i=n("T0g9");const r=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],o={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function a(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:t="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case o.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case o.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case o.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case o.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function c({queryStates:e}){return 0===e.length?"":"&"+Object(i.a)({term_meta:e.map(e=>s(e))})}function d(e){if(e){const t=e.trim().split(/\s+/);return t.find(e=>r.includes(e.toLowerCase()))?[e]:t}return[]}function l({type:e,query:t="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return d(t).map(t=>({index:n,term:t,type:e}));case o.AUTO_COMPLETE_RECENT_SEARCH:case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:case o.AUTO_COMPLETE_TRENDING:case o.AUTO_COMPLETE_DEFAULT:return d(t).map(t=>({term:t,type:e,index:n}));default:return[]}}},"S8b/":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("hUD8"),o=n("/Ecc"),a=n("yBr6"),s=n("lh2y"),c=n("QSJg"),d=function(){function e(e){var t=this;this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return a.getNodeClientOffset(t.sourceNodes.get(e))},this.endDragNativeItem=function(){t.isDraggingNativeItem()&&(t.actions.endDrag(),t.registry.removeSource(t.currentNativeHandle),t.currentNativeHandle=null,t.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!t.window&&t.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=t.currentDragSourceNode;t.isNodeInDocument(e)||t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragStartCapture=function(){t.clearCurrentDragSourceNode(),t.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var n=t.dragStartSourceIds;t.dragStartSourceIds=null;var i=a.getEventClientOffset(e);t.monitor.isDragging()&&t.actions.endDrag(),t.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:t.getSourceClientOffset,clientOffset:i});var r=e.dataTransfer,o=s.matchNativeItemType(r);if(t.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var c=t.monitor.getSourceId(),d=t.sourceNodes.get(c),l=t.sourcePreviewNodes.get(c)||d;if(l){var u=t.getCurrentSourcePreviewNodeOptions(),h={anchorX:u.anchorX,anchorY:u.anchorY},b={offsetX:u.offsetX,offsetY:u.offsetY},p=a.getDragPreviewOffset(d,l,i,h,b);r.setDragImage(l,p.x,p.y)}}try{r.setData("application/json",{})}catch(f){}t.setCurrentDragSourceNode(e.target),t.getCurrentSourcePreviewNodeOptions().captureDraggingState?t.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}),0)}else if(o)t.beginDragNativeItem(o);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(t.dragEnterTargetIds=[],t.enterLeaveCounter.enter(e.target)&&!t.monitor.isDragging()){var n=e.dataTransfer,i=s.matchNativeItemType(n);i&&t.beginDragNativeItem(i)}},this.handleTopDragEnter=function(e){var n=t.dragEnterTargetIds;(t.dragEnterTargetIds=[],t.monitor.isDragging())&&(t.altKeyPressed=e.altKey,o.isFirefox()||t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){t.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var n=t.dragOverTargetIds;if(t.dragOverTargetIds=[],!t.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));t.altKeyPressed=e.altKey,t.actions.hover(n||[],{clientOffset:a.getEventClientOffset(e)}),(n||[]).some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())):t.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){t.isDraggingNativeItem()&&e.preventDefault(),t.enterLeaveCounter.leave(e.target)&&t.isDraggingNativeItem()&&t.endDragNativeItem()},this.handleTopDropCapture=function(e){t.dropTargetIds=[],e.preventDefault(),t.isDraggingNativeItem()&&t.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var n=t.dropTargetIds;t.dropTargetIds=[],t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),t.actions.drop({dropEffect:t.getCurrentDropEffect()}),t.isDraggingNativeItem()?t.endDragNativeItem():t.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new r.default(this.isNodeInDocument)}return Object.defineProperty(e.prototype,"window",{get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0},enumerable:!0,configurable:!0}),e.prototype.setup=function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}},e.prototype.teardown=function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))},e.prototype.connectDragPreview=function(e,t,n){var i=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){i.sourcePreviewNodes.delete(e),i.sourcePreviewNodeOptions.delete(e)}},e.prototype.connectDragSource=function(e,t,n){var i=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var r=function(t){return i.handleDragStart(t,e)},o=function(e){return i.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",o),function(){i.sourceNodes.delete(e),i.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}},e.prototype.connectDropTarget=function(e,t){var n=this,i=function(t){return n.handleDragEnter(t,e)},r=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",i),t.addEventListener("dragover",r),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",i),t.removeEventListener("dragover",r),t.removeEventListener("drop",o)}},e.prototype.addEventListeners=function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.removeEventListeners=function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return i({dropEffect:this.altKeyPressed?"copy":"move"},t||{})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return i({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(c).some((function(t){return c[t]===e}))},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=s.createNativeDragSource(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.setCurrentDragSourceNode=function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)},e.prototype.clearCurrentDragSourceNode=function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleDragOver=function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e}();t.default=d},SFi7:function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n("q1tI"),c=n("yCO0"),d=n("+k3R"),l=n("dJ9d"),u=n("2S0S"),h=n("qFZT");function b(e,t,n){return{dragDropManager:c.createDragDropManager(e,t,n)}}t.context=s.createContext({dragDropManager:void 0}),t.Consumer=t.context.Consumer,t.Provider=t.context.Provider,t.createChildContext=b,t.DragDropContextProvider=function(e){var n=e.children,i=a(e,["children"]),r="manager"in i?{dragDropManager:i.manager}:b(i.backend,i.context,i.debugMode);return s.createElement(t.Provider,{value:r},n)},t.DragDropContext=function(e,n,i){d.default("DragDropContext","backend",e);var a=b(e,n,i);return function(e){var n=e,i=n.displayName||n.name||"Component",c=function(c){function d(){var e=null!==c&&c.apply(this,arguments)||this;return e.ref=s.createRef(),e.getManager=function(){return a.dragDropManager},e}return r(d,c),d.prototype.getDecoratedComponentInstance=function(){return u(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},d.prototype.render=function(){return s.createElement(t.Provider,{value:a},s.createElement(n,o({},this.props,{ref:l.isRefable(n)?this.ref:null})))},d.DecoratedComponent=e,d.displayName="DragDropContext("+i+")",d}(s.Component);return h(c,e)}}},SLVX:function(e,t,n){function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},SNfw:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr");function r({size:e,iconColor:t,backgroundColor:n,grayscale:r=!1}){const o=t||(r?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:o,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},Sbkd:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),r=n("mvLR");function o(){const e=Object(i.useRef)([]),t=Object(i.useRef)({});return Object(i.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(n,i){if(i){const e=t.current[i];e&&(e(),delete t.current[i])}const{cancel:o,promise:a}=Object(r.a)(n);return i?t.current[i]=o:e.current.push(o),a}}},Sihc:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n("Pqnw"),r=n("uVIr"),o=n("VqlB"),a=n("eOdZ"),s=n("oN2T"),c=n("KFEb"),d=n("Wer7");function l(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function u({boardId:e,name:t,nameSource:n,pinImport:u,initialPinIds:h=[]}){let b=0;"RECOMMENDATION"===n?b=1:"EDITED_RECOMMENDATION"===n&&(b=2);const p={board_id:e,initial_pins:u&&!u.all?u.pinIds:h,name:t,name_source:b};return t=>a.a.create("BoardSectionResource",p).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{t(l(e,n)),t(Object(r.a)({feedId:e,feedType:c.a.BOARD_SECTIONS,itemIds:[n.id],itemType:"board_section"})),t(Object(s.c)(e,"pin_count")),t(Object(d.f)("BoardSectionsRepinResource",{board_id:e}));const{all:a,pinIds:h}=u||{all:!1,pinIds:[]};return a?new Promise((i,r)=>t(Object(o.a)({inverseSelection:!0,selectedPinIds:h,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}})).then(()=>i(n)).catch(r)):(h.length>0&&t(Object(i.a)(c.a.BOARD_PINS,e)),n)})}},Sxd8:function(e,t,n){var i=n("ZCgT");e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},"T+9/":function(e,t,n){var i=n("q1tI"),r=n("i8i4"),o=n("/MKj"),a=n("ZbwW"),s=n("D2p8"),c=n("U4JR");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),d(this,"trackImpression",()=>{try{this.node=Object(r.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),d(this,"logImpression",e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:r,contextLogData:o,elementType:a,impressionAuxFields:s,impressionType:d,loggingId:u,objectIdStr:h,slotIndex:b,trackCarousel:p,viewData:f,viewParameter:g,viewType:m}=this.props,j=l[d],v=j.idType,O=e.forcedExit&&"removed"===e.forcedExit?0:void 0,y={endTime:e.endTime,[v]:u,slotIndex:b,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:O};if(p||Object(c.b)(j.eventType,{closeup_navigation_type:i,component:r,element:a,eventData:{[j.impressionType]:[y]},objectIdStr:h,view:m,viewData:f||{},viewParameter:g,...o}),t&&p){const{carousel_slots:e,index:n=0,id:i}=t;Object(c.b)(7352,{component:r,eventData:{pinCarouselSlotImpressions:[{...y,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},objectIdStr:h,view:m,viewData:f||{},viewParameter:g,...o})}}),this.impressionsFramework=e.impressionsFramework||s.c}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}t.a=Object(o.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:Object(a.a)(n)}}),()=>({}))(u)},TKJ6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("7nh8");t.setClientOffset=function(e,t){return{type:i.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},TO8r:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},TOwV:function(e,t,n){e.exports=n("qT12")},TPjH:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=n.getRegistry(),r=i.addTarget(e,t);return[r,function(){return i.removeTarget(r)}]}},TSYQ:function(e,t,n){var i;!function(){var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)&&i.length){var a=r.apply(null,i);a&&e.push(a)}else if("object"===o)for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},TT16:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isRef=function(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("current")}},TYy9:function(e,t,n){var i=n("XGnz");e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},Te9D:function(e,t,n){var i=n("/kAC"),r=n("dt0z"),o=/[&<>"']/g,a=RegExp(o.source);e.exports=function(e){return(e=r(e))&&a.test(e)?e.replace(o,i):e}},TgLd:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("D2p8"),o=n("LT60"),a=n("n6mq"),s=n("nKUr");const c=new a.q(1e3),d=Object(i.forwardRef)(({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:l,allowScroll:u,children:h,closeOnOutsideClick:b,footer:p,heading:f,onDismiss:g,role:m,size:j,subHeading:v},O)=>{Object(i.useEffect)(()=>(r.c.pause(),function(){r.c.resume()}),[]);return Object(s.jsx)(a.y,{zIndex:c,children:Object(s.jsx)(o.a,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:l,allowScroll:u,children:Object(s.jsx)(a.F,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:b,heading:f,footer:p,onDismiss:()=>{r.c.resume(),g()},ref:O,role:m,size:j,subHeading:v,children:h})})})});d.displayName="Modal",t.b=d},TvzZ:function(e,t,n){n.r(t);var i=n("0K1N"),r=n("eOdZ"),o=n("kmwA"),a=n("37no");let s=!1;const c=(e,t,n="en-US")=>{Object(a.c)(Object(i.a)(n),a.a.FACEBOOK).then(()=>{const n=window.FB;n&&(s||(n.init({appId:o.a.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{t()&&c(e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){r.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)}),s=!0,window.fb_init=2),e(n))}),window.fb_init=1};t.default=c},U4JR:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n("m2Wt"),r=n("h4v/"),o=n("ajUs"),a=n("zpPL");const s=()=>a.a.instance.getState(),c=()=>{const{advertiser:e,adminUser:t,viewer:n}=s(),i={};return e&&e.id&&(i.advertiser_id=e.id),t&&n&&n.username&&(i.sterling_on_steroids_ldap=t,i.viewed_user=n.username),i},d=(e,{element:t,eventData:n,component:r,objectId:a,view:d,viewParameter:l,viewData:u,durationNs:h,pairId:b,clientTrackingParams:p,...f})=>{const g=i.a.fromEventType(e);return g.setElement(t),g.updateEventData(n),g.setComponent(r),a&&g.setObjectIdStr(a),g.setDurationNs(h),g.updateAuxData({...f,...c()}),g.setViewType(d),g.setViewParameter(l),g.setViewData(u),g.setPairId(b),g.setClientTrackingParams(p||(e=>{const{pins:t,location:n}=s(),i=t&&e&&t[e];return i?Object(o.a)(i,n)||i.tracking_params+"~0":void 0})(a)),g};function l(e,t={}){r.a.getInstance().addEvent(d(e,t))}const u={flushContextEvents:()=>r.a.getInstance().flushEvents(!0),logContextEvent:({aux_data:e,clientTrackingParams:t,component:n,duration_ns:i,element:r,event_data:o,event_type:a,object_id_str:s,pair_id:c,view_data:d,view_parameter:u,view_type:h})=>{l(a,{...e,element:r,eventData:o,component:n,objectId:s,view:h,viewParameter:null!=u?u:void 0,viewData:d,durationNs:i,pairId:c,clientTrackingParams:t})}}},U4W0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(t.HandlerRole||(t.HandlerRole={}))},UJTY:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),r=n("/acK"),o=n("493B");t.useDragLayer=function(e){var t=r.useDragDropManager().getMonitor(),n=o.useCollector(t,e),a=n[0],s=n[1];return i.useEffect((function(){return t.subscribeToOffsetChange(s)})),i.useEffect((function(){return t.subscribeToStateChange(s)})),a}},V08O:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),r=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},V711:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("8cMa"),a=n("JW66"),s=n("Ye/N"),c=n("rrvb"),d=n("0BOE"),l=n("jdx6"),u=n("Wer7"),h=n("w70y"),b=n("n6mq"),p=n("ANjH"),f=n("oN2T"),g=n("nKUr");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j({board:e,hovered:t,searchQuery:n}){const i=e.privacy===a.a.BoardPrivacy.SECRET;return Object(g.jsxs)(b.e,{color:t?"lightGray":"white",display:"flex",padding:2,rounding:2,children:[Object(g.jsx)(b.e,{flex:"grow",children:Object(g.jsx)(b.Y,{weight:"bold",children:Object(l.b)(n,e.name)})}),Object(g.jsxs)(b.e,{direction:"row",display:"flex",flex:"none",children:[i&&Object(g.jsx)(o.a,{type:"secret"}),e.is_collaborative&&Object(g.jsx)(o.a,{type:"group"})]})]})}class v extends i.Component{constructor(e){super(e),m(this,"getSections",()=>{const{searchQuery:e}=this.state,{boardResource:{data:{all_boards:t}}}=this.props;return e.length>=2?[{items:Object(d.a)(t,e)}]:[{items:t}]}),m(this,"createBtnDisabled",()=>{const{boardResource:{data:{all_boards:e}}}=this.props,{searchQuery:t}=this.state;return e.some(e=>{var n;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===t.toLowerCase()})}),m(this,"handleBoardCreate",e=>()=>{const{searchQuery:e}=this.state;if(!e)return;const{createBoard:t,invalidateBoardPickerBoardsResource:n,onBoardCreate:i}=this.props;n(),i?i(e):t({name:e,privacy:"public"}).then(e=>{const{onBoardChosen:t}=this.props;t(e)})}),m(this,"handleBoardSelected",e=>{this.props.onBoardChosen(e),this.setState({selectedBoard:e})}),m(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),m(this,"renderRow",({item:e,hovered:t})=>{const{searchQuery:n}=this.state;return Object(g.jsx)(j,{board:e,hovered:t,searchQuery:n})}),this.state={searchQuery:"",selectedBoard:e.board}}render(){const{boardResource:e,board:t,isBoardlessPinsBoard:n,isStoryPin:i,viewer:r}=this.props,{searchQuery:o,selectedBoard:a}=this.state;let d=s.a._("Select a board","Label for selecting a board in Edit Pin Modal","Label for selecting a board in Edit Pin Modal");return t?d=n?s.a._("Profile","BoardPickerFlyout.displayBoarName.boardlessPins","Title indicating the pin is saved to profile"):t.name:a&&(d=a.name),Object(g.jsxs)(b.e,{children:[Object(g.jsx)(b.R,{accessibilityLabel:s.a._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!e.isLoaded}),e.data&&Object(g.jsx)(c.a,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:d,isStoryPin:i,onCreate:this.handleBoardCreate(r),onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleBoardSelected,renderRow:this.renderRow,searchQuery:o,sections:this.getSections()})]})}}t.a=Object(p.compose)(Object(r.connect)((function(e){const{advertiser:t,viewer:n}=e,i=n.isAuth&&t&&t.owner_user_id!==n.id;return{advertiser_id:i?t.id:null,username:i?t.owner_user_id:null,viewer:n}}),(function(e){return{invalidateBoardPickerBoardsResource:()=>{e(Object(u.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},createBoard:t=>e(Object(f.g)(t))}})),Object(h.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:e=>({pin_id:e.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:e.username,...e.advertiser_id&&e.username?{advertiser_id:e.advertiser_id,filter:"protected",username:e.username}:{}}),allowStale:!1}))(v)},VH7y:function(e,t,n){e.exports=n("bY5B")()},VOtZ:function(e,t,n){var i=n("juv8"),r=n("MvSz");e.exports=function(e,t){return i(e,r(e),t)}},VVkO:function(e,t,n){function i(e,t){const{url:n}=e,{slug:i}=t;return`${null!=n?n:""}${i}/`}n.d(t,"a",(function(){return i}))},ViqK:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("FDmi"),o=n("qD10"),a=n("n6mq"),s=n("nKUr");function c(e){const{imageUrl:t,name:n,title:c,subtitle:d,accessory:l,linkURL:u,isDim:h}=e,b={__style:{opacity:h?.5:1}};return Object(s.jsx)(i.Fragment,{children:n&&c&&Object(s.jsxs)(a.e,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4,children:[Object(s.jsx)(a.e,{marginEnd:2,dangerouslySetInlineStyle:b,children:Object(s.jsx)(o.a,{to:u||"",children:Object(s.jsx)(r.a,{outline:!0,size:"md",name:n,src:t})})}),Object(s.jsxs)(a.e,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:b,children:[Object(s.jsx)(o.a,{to:u||"",children:Object(s.jsx)(a.Y,{color:"darkGray",size:"lg",truncate:!0,weight:"bold",children:c})}),Object(s.jsx)(a.Y,{truncate:!0,size:"sm",color:"gray",children:d})]}),l&&Object(s.jsx)(a.e,{marginStart:4,children:l})]})})}},VqlB:function(e,t,n){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var i=n("3z7j"),r=n("Pqnw"),o=n("uVIr"),a=n("MhBu"),s=n("eOdZ"),c=n("oN2T"),d=n("KFEb"),l=n("1inl"),u=n("Ye/N");function h(e){l.a.showError(function(e){switch(e.api_error_code){case 2171:case 2172:case 2173:return u.a._("Please wait until the previous board action finishes.");default:return e.message}}(e))}const b=e=>Object(r.a)(e.sectionId?d.a.SECTION_PINS:d.a.BOARD_PINS,e.sectionId||e.boardId);function p(e,t){const{source:n,target:r}=e;r.boardId!==n.boardId?(t(Object(c.c)(n.boardId,"pin_count")),t(Object(c.c)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t(Object(c.c)(r.boardId,"pin_count")),n.sectionId&&t(Object(i.a)(n.sectionId)),r.sectionId&&t(Object(i.a)(r.sectionId))}function f(e){return t=>{const{selectedPinIds:n,source:i,target:r}=e;t(Object(a.a)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?d.a.SECTION_PINS:d.a.BOARD_PINS,itemIds:n,itemType:"pin"})),t(Object(o.a)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?d.a.SECTION_PINS:d.a.BOARD_PINS,itemIds:n,itemType:"pin"})),p(e,t)}}function g(e){return t=>function(e,t){const{inverseSelection:n,selectedPinIds:i,source:r,target:c}=e;if(r.boardId===c.boardId&&(r.sectionId||null)===(c.sectionId||null))return Promise.reject();if(n){const e={board_id:r.boardId,new_board_id:c.boardId,old_section_id:r.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:i};return s.a.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(b(r)),t(b(c))])).catch(h)}{const e=(e,n)=>{t(Object(a.a)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?d.a.SECTION_PINS:d.a.BOARD_PINS,itemIds:i,itemType:"pin"})),t(Object(o.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?d.a.SECTION_PINS:d.a.BOARD_PINS,itemIds:i,itemType:"pin"}))};e(r,c);const n=()=>e(c,r);if(c.boardId===r.boardId){if(c.sectionId){const e={section_id:c.sectionId,pins:i};return s.a.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),h(e)})}{const e={section_id:r.sectionId,pins:i};return s.a.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{n(),h(e)})}}{const e={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:i};return s.a.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),h(e)})}}}(e,t).then(()=>p(e,t))}},Vzit:function(e,t,n){function i(e){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0,targeting:e}}}function r(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function o(){return{type:"EXPERIENCE_FETCH_ALL_MULTI",payload:{isFetchingAllMulti:!0}}}function a(e){return{type:"EXPERIENCE_FETCH_ALL_MULTI_COMPLETE",payload:{experiencesMulti:e}}}function s(e,t={},n){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,targeting:n}}}function c(e,t,n={}){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t}}}function d(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function l(e,t,n=!1,i){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:i}}}function u(e,t,n=!1,i=!1,r={},o=!1,a){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,extraContext:r,completeOnUnmount:o,targeting:a}}}function h(e,t,n=!1,i=!1,r){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,targeting:r}}}function b(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function p(e,t={},n){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,targeting:n}}}function f(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}function g(e){return{type:"SAVE_TARGETING",payload:{targeting:e}}}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"i",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return g}))},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("yLpj"))},WM6B:function(e,t,n){var i=n("q1tI"),r=n("nKUr");class o extends i.Component{constructor(e){var t,n,r;super(e),r={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.ref=Object(i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const r=void 0===i.textContent?"innerText":"textContent",o=i[r];("boolean"!=typeof t.spaces||t.spaces?o.split(" "):o).length<2?this.setState({manualTruncate:!0}):n.e("ShaveLibrary").then(n.bind(null,"eh6K")).then(({default:n})=>{n(i,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,o={maxWidth:e,maxHeight:t},a=n?{display:"inline",...o}:{...o};return i?Object(r.jsx)("div",{ref:this.ref,style:{...a,overflow:"hidden"},children:this.props.children}):Object(r.jsx)("div",{ref:this.ref,style:a,children:this.props.children})}}t.a=o},Wer7:function(e,t,n){function i(e,t={}){return{type:"RESOURCE_INVALIDATE",payload:{name:e,options:t}}}function r(e,t={},n={}){return{type:"RESOURCE_FETCH",payload:{name:e,options:t,headers:n}}}function o(e,t={},n={},i={}){return{type:"RESOURCE_PREFETCH",payload:{name:e,options:t,headers:i}}}function a(e,t={}){return{type:"RESOURCE_PREFETCH_READ",payload:{name:e,options:t}}}function s(e,t={},n={}){return{type:"RESOURCE_FETCH_MORE",payload:{name:e,options:t,headers:n}}}function c(e,t={}){return{type:"RESOURCE_FETCH_CREATE",payload:{name:e,options:t}}}function d(e,t={},n,i,r,o,a=!1){return{type:"RESOURCE_FETCH_COMPLETE",payload:{auxData:i,data:n,isPrefetch:a,name:e,nextBookmark:o,options:t},error:r}}function l(e,t={},n,i,r,o){return{type:"RESOURCE_FETCH_MORE_COMPLETE",payload:{auxData:i,data:n,name:e,nextBookmark:o,options:t},error:r}}n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return l}))},WgLT:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},WjpJ:function(e,t,n){var i=n("HLqC")();e.exports=i},Wrea:function(e,t,n){n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("Wer7");const r=(e,t)=>n=>n(Object(i.a)("BoardResource",{board_id:e,field_set_key:t})),o=e=>r(e,"pin_count"),a=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),s=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),c=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),d=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},WwFo:function(e,t,n){var i=n("juv8"),r=n("7GkX");e.exports=function(e,t){return e&&i(t,r(t),e)}},X6C7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("QWfI"),r=function(){function e(e){this.isDisposed=!1,this.action=i.isFunction(e)?e:i.noop}return e.isDisposable=function(e){return e&&i.isFunction(e.dispose)},e._fixup=function(t){return e.isDisposable(t)?t:e.empty},e.create=function(t){return new e(t)},e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)},e.empty={dispose:i.noop},e}();t.Disposable=r},XGnz:function(e,t,n){var i=n("CH3K"),r=n("BiGR");e.exports=function e(t,n,o,a,s){var c=-1,d=t.length;for(o||(o=r),s||(s=[]);++c<d;){var l=t[c];n>0&&o(l)?n>1?e(l,n-1,o,a,s):i(s,l):a||(s[s.length]=l)}return s}},XRfM:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return h})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return p}));var i=n("Ye/N");const r=function(e,t){const n=t||0,i=Math.pow(10,n),r=+(n?e*i:e).toFixed(8),o=Math.floor(r),a=r-o,s=a>.5-1e-8&&a<.5+1e-8?o%2==0?o:o+1:Math.round(r);return n?s/i:s},o={USD:"$",GBP:"£",CAD:"$",EUR:"€",AUD:"A$",NZD:"NZ$",SEK:"kr",NOK:"kr",DKK:"kr"},a=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(e,t,n,i,r,o,s){const c=function(e,t,n,i,r="symbol"){const o={maximumFractionDigits:e,minimumFractionDigits:t};return n&&(o.style=n,"currency"===n&&(o.currency=i,o.currencyDisplay=r)),o}(n,i,r,o,s);return t.toLocaleString([a(e)?e:"en-US"],c)}function c(e,t,n){let o,a;const c=n&&n.style||void 0,d=n&&n.shortform||!1,l=n&&n.uplimit||void 0,u=n&&n.currency||void 0;if(l&&t>l)return l+"+";if("currency"===c?(o=void 0===n||void 0===n.maximum_fraction_digits?2:n.maximum_fraction_digits,a=void 0===n||void 0===n.minimum_fraction_digits?2:n.minimum_fraction_digits):(o=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,a=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits),d&&t>999&&(o=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,a=0),o<a)return String(t);let h=t,b="";const p=[{"100M":{value:1e8,localeKey:i.a._("億","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:i.a._("万","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],f=[{b:{value:1e9,localeKey:i.a._("b","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:i.a._("m","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:i.a._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],g=/^zh|ja|ko/.test(e);if(d&&t>999){const e=g?p:f;for(let n=0;n<e.length;n+=1){const i=Object.keys(e[n])[0],a=e[n][i].value;if(t>=a){h=r(t/a*Math.pow(10,o))/Math.pow(10,o),b=e[n][i].localeKey;break}}}return s(e,h,o,a,c,u||void 0)+b}const d={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour"},l=function(e,t,n,i=!0){const r=function(e){switch(e){case d.YEAR:return{year:"numeric"};case d.LONG:return{year:"numeric",month:"long",day:"numeric"};case d.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case d.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case d.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case d.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case d.MONTH_DAY:return{month:"long",day:"numeric"};case d.SHORT_MONTH:return{month:"short"};case d.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case d.DAY:return{day:"numeric"};case d.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case d.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case d.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case d.TIME:return{hour:"numeric",minute:"2-digit"};case d.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case d.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(n);i&&(r.timeZone="UTC");return new Intl.DateTimeFormat(e,r).format(t)},u=function(e){return 1.1.toLocaleString(e).substring(1,2)},h=function(e,t){return","===u(t)&&e&&e.length>0&&!isNaN(e)?e.replace(".",","):e},b=function(e,t){return","===u(t)&&e?e.replace(",","."):e},p=function(e){switch(e){case"zh":return i.a._("Chinese","locale.languageName","Language name");case"cs":return i.a._("Czech","locale.languageName","Language name");case"da":return i.a._("Danish","locale.languageName","Language name");case"nl":return i.a._("Dutch","locale.languageName","Language name");case"en":return i.a._("English","locale.languageName","Language name");case"fi":return i.a._("Finnish","locale.languageName","Language name");case"fr":return i.a._("French","locale.languageName","Language name");case"de":return i.a._("German","locale.languageName","Language name");case"el":return i.a._("Greek","locale.languageName","Language name");case"hu":return i.a._("Hungarian","locale.languageName","Language name");case"id":return i.a._("Indonesian","locale.languageName","Language name");case"it":return i.a._("Italian","locale.languageName","Language name");case"ja":return i.a._("Japanese","locale.languageName","Language name");case"ko":return i.a._("Korean","locale.languageName","Language name");case"nb":return i.a._("Norwegian","locale.languageName","Language name");case"pl":return i.a._("Polish","locale.languageName","Language name");case"pt":return i.a._("Portuguese","locale.languageName","Language name");case"ro":return i.a._("Romanian","locale.languageName","Language name");case"ru":return i.a._("Russian","locale.languageName","Language name");case"sk":return i.a._("Slovak","locale.languageName","Language name");case"es":return i.a._("Spanish","locale.languageName","Language name");case"sv":return i.a._("Swedish","locale.languageName","Language name");case"tr":return i.a._("Turkish","locale.languageName","Language name");case"uk":return i.a._("Ukrainian","locale.languageName","Language name");default:return e}},f={DateFormatType:d,formatDate:l,ngettext:function(e,t,n,r){const o=+function(e){return i.a.getPluralFunction(e)}(e)(r);let a;return a="en-US"===e&&1===o?n:t,i.a._(a,"",o)},prettyNumberFormat:c,numberFormat:s,currencySymbols:o,localizeCurrencyValue:h,unlocalizeCurrencyValue:b};t.c=f},XYm9:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},"Xnm/":function(e,t,n){},Y8Sn:function(e,t,n){n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f}));var i=n("BcL7");const r=e=>!!e&&!!e.video_list,o=({story_pin_data_id:e})=>!!e,a=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},s=e=>!!e.promoter&&!e.is_downstream_promotion,c=e=>!!e.video_status&&5!==e.video_status,d=e=>!!e.creator_class,l=()=>["employees","enabled"].includes(i.a.getInstance().v2ActivateExperiment("unification_web_pin_click")),u=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};return!!r[e]&&!r[e].paused},h=e=>["email","messages","deep_linking"].includes(e),b=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};for(const o in r){const{paused:t}=r[o];if(o!==e&&!t)return!1}return!0},p=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};return r[e]&&r[e].currentTime},f=()=>{let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},YGxj:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),r=n("c4Fo"),o=n("BcvT"),a=n("n6mq"),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{constructor(...e){super(...e),c(this,"onScroll",()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),c(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,r=n.slice(-3);return Object(s.jsx)(a.I,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:Object(s.jsxs)(a.e,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[Object(s.jsx)(a.e,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:Object(s.jsx)(a.Y,{color:"darkGray",weight:"bold",children:t})}),Object(s.jsx)(a.e,{display:"flex",marginEnd:-2,paddingX:2,children:r.map(e=>Object(s.jsx)(a.e,{height:60,width:50,paddingX:1,children:Object(s.jsx)(a.B,{rounding:2,height:60,children:Object(s.jsx)(a.w,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),l(this,"state",{paused:!1}),l(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:c,flyoutSize:l,fontSize:u,idealDirection:h,useMasonryFlyout:b,noClickToDismiss:p,onClickComplete:f,onClickDismiss:g,placementId:m,positionRelativeToAnchor:j,shouldTimeoutDismiss:v,showCaret:O,textAlign:y,textOverflow:x,textOverrideFn:_,textWeight:w,customizedComplete:S,pulsarZIndex:C}=this.props,I=t||(({children:e})=>b?Object(s.jsx)(a.y,{children:e}):e),E="blue";return Object(s.jsx)(r.a,{experienceIds:n,placementId:m,type:8,children:({complete:t,dismiss:n,display_data:r})=>(this.setDefaultPulsarTooltip(r),r.has_pulsar||r.has_tooltip?(v&&r.disappearTime&&r.disappearTime>0&&(this.timer=setTimeout(()=>(n(),null),r.disappearTime)),Object(s.jsxs)(i.Fragment,{children:[r.has_pulsar&&Object(s.jsx)(o.a,{anchor:e,onTouch:()=>this.handlePulsarClick(r.has_tooltip,t),paused:this.state.paused,zIndex:C&&C.index()}),r.has_tooltip&&(!r.has_pulsar||this.state.paused)&&(r.thumbnail_urls?Object(s.jsx)(d,{anchor:e,dismiss:n,idealDirection:h||"down",text:r.text,thumbnails:r.thumbnail_urls}):Object(s.jsx)(I,{children:Object(s.jsx)(a.I,{anchor:e,color:E,idealDirection:h||"down",onDismiss:p?()=>{}:n,positionRelativeToAnchor:!b&&j,shouldFocus:!1,showCaret:O,size:l,children:Object(s.jsxs)(a.e,{column:12,padding:3,children:[Object(s.jsx)(a.Y,{align:y,color:"white",overflow:x,size:u,weight:w||"bold",children:this.getText(r,c,_)}),r.sub_text&&Object(s.jsx)(a.e,{paddingY:2,children:Object(s.jsx)(a.Y,{color:"white",size:u,children:r.sub_text})}),(r.dismiss_button_text||r.complete_button_text)&&Object(s.jsxs)(a.e,{display:"flex",alignItems:"center",marginTop:2,children:[r.dismiss_button_text&&Object(s.jsx)(a.e,{marginEnd:1,column:6,children:Object(s.jsx)(a.f,{color:E,onClick:()=>{g&&g(),n()},size:"md",text:r.dismiss_button_text})}),r.complete_button_text&&Object(s.jsx)(a.e,{column:r.dismiss_button_text?6:12,children:S?Object(s.jsx)(a.X,{fullHeight:!0,onTap:()=>{t(),f&&f()},rounding:2,children:Object(s.jsx)(a.e,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:Object(s.jsx)(a.Y,{color:"blue",weight:"bold",children:r.complete_button_text})})}):Object(s.jsx)(a.f,{color:"white",size:"md",text:r.complete_button_text,onClick:()=>{t(),f&&f()}})})]})]})})}))]})):(t(),null))})}}l(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},YYM5:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("+NLT");function r(){const e=i.a.instance;return`${e.is_mobile_agent?"mobile":"desktop"}.${e.country}.${e.user_agent_platform}.${e.browser_name}`.replace(/ /g,"_")}},"Ye/N":function(e,t,n){Error;const i={_:e=>(process&&process.env,e),set(e){Object.assign(this,e)}};t.a=i},Yo6N:function(e,t,n){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var i=n("q1tI"),r=n("qD10"),o=n("n6mq"),a=n("nKUr");function s({action:e,alignCenter:t}){const{title:n,description:i,button:s}=e,c=n&&n.text,d=i&&i.text,l=s&&s.text||"",u=s&&s.link||"",h=s&&s.link?s.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"";return s&&l&&u.startsWith("http")?Object(a.jsxs)(o.e,{children:[Object(a.jsx)(o.e,{marginBottom:1,children:Object(a.jsx)(o.Y,{align:t?"center":"left",weight:"bold",children:""!==l?l:"Visit"})}),Object(a.jsx)(o.e,{marginBottom:1,children:Object(a.jsx)(r.a,{className:"underlineLink",to:u,children:Object(a.jsx)("span",{style:{textDecoration:"underline"},children:Object(a.jsx)(o.Y,{align:t?"center":"left",truncate:!0,children:h})})})})]}):Object(a.jsxs)(o.e,{children:[!!c&&Object(a.jsx)(o.e,{marginBottom:1,children:Object(a.jsx)(o.Y,{align:t?"center":"left",weight:"bold",children:c})}),!!d&&Object(a.jsx)(o.e,{marginBottom:1,children:Object(a.jsx)(o.Y,{align:t?"center":"left",children:d})})]})}const c={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},d={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function l({inModal:e,notice:t}){const{title:n,description:i,actions:r=[]}=t,l=i&&i.text||"",u=i&&i.text_tags||[],h=1===r.length,b=f(l,u);return Object(a.jsxs)(o.e,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:e?d:c},children:[!!n&&!e&&Object(a.jsx)(o.e,{marginBottom:2,display:"flex",children:Object(a.jsx)(o.t,{size:"md",children:n})}),!!l&&Object(a.jsx)(o.e,{marginBottom:4,children:Object(a.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:Object(a.jsx)(o.Y,{overflow:"normal",align:e?"center":"left",children:b})})}),!!r.length&&Object(a.jsx)(o.e,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:e?"column":"row",children:r.map(t=>Object(a.jsx)(o.e,{column:e||h?12:6,paddingY:1,paddingX:2,children:Object(a.jsx)(s,{action:t,alignCenter:e||h})},JSON.stringify(t)))})]})}var u=n("EC51");function h({notice:e}){const{actions:t=[],description:n,footer:i}=e,r=f(n&&n.text||"",n&&n.text_tags||[]),s={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return Object(a.jsxs)(o.e,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3,children:[Object(a.jsx)(o.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:656,rounding:8,children:Object(a.jsxs)(o.e,{height:"100%",width:"100%",padding:10,children:[Object(a.jsx)("span",{style:s,children:r}),Object(a.jsx)(o.e,{marginTop:6,children:t.map(e=>{var t;const n=null===(t=e.button)||void 0===t?void 0:t.link;var i,r,c;return n&&n.startsWith("tel")?Object(a.jsxs)(o.e,{children:[Object(a.jsx)("span",{style:{fontWeight:"600",...s},children:null===(i=e.title)||void 0===i?void 0:i.text}),Object(a.jsx)("span",{style:s,children:null===(r=e.description)||void 0===r?void 0:r.text})]}):Object(a.jsx)(u.a,{href:n||"",children:Object(a.jsx)(o.e,{display:"inlineBlock",children:Object(a.jsx)(o.e,{alignItems:"center",color:"navy",display:"flex",justifyContent:"center",height:44,rounding:"pill",width:117,children:Object(a.jsx)(o.Y,{color:"white",weight:"bold",children:(null===(c=e.button)||void 0===c?void 0:c.text)||""})})})})})})]})}),!!i&&Object(a.jsx)(o.e,{paddingY:2,width:540,children:Object(a.jsx)(u.a,{inline:!0,target:"blank",href:i.link,children:Object(a.jsx)(o.Y,{align:"center",color:"gray",size:"sm",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:i.text}})})},i.link)})]})}var b=n("hZxF"),p=n("U4JR");function f(e,t){const n=[];let i=0;for(let r=0;r<t.length;r+=1){const s=t[r];if(5===s.tag_type&&s.link){const t=e.substring(s.offset,s.offset+s.length),r=Object(a.jsx)(o.Y,{inline:!0,weight:"bold",children:Object(a.jsx)(u.a,{inline:!0,target:"blank",href:s.link,children:t},t)});n.push(Object(a.jsx)("span",{children:e.substring(i,s.offset)})),n.push(r),i=s.offset+s.length}}return i>0&&n.push(Object(a.jsx)("span",{children:e.substring(i)})),0===n.length?[Object(a.jsx)("span",{children:e})]:n}function g({inModal:e,notices:t,viewType:n,query:r,sensitivity:o}){return Object(b.a)(()=>{n&&Object(p.b)(120,{component:13367,view:n,entered_query:r,advisory_details:null==o?void 0:o.advisory_details,advisory_level:null==o?void 0:o.advisory,severity_level:null==o?void 0:o.severity})}),Object(a.jsx)(i.Fragment,{children:t.map(t=>2===t.style?Object(a.jsx)(h,{notice:t}):Object(a.jsx)(l,{notice:t,inModal:e}))})}},YuQ1:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("LTlA");t.NONE=[],t.ALL=[],t.NONE.__IS_NONE__=!0,t.ALL.__IS_ALL__=!0,t.areDirty=function(e,n){return e!==t.NONE&&(e===t.ALL||void 0===n||i.intersection(n,e).length>0)}},ZCgT:function(e,t,n){var i=n("tLB3"),r=1/0;e.exports=function(e){return e?(e=i(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},ZCpW:function(e,t,n){var i=n("lm/5"),r=n("O7RO"),o=n("IOzZ");e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},ZE2w:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("4dcN"),r=n("eOdZ");const o="collaborator_approve_invite";function a(e,t){return r.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return r.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function c(e,t){return n=>r.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then(()=>{i.a.trackEvent(o,"success")}).catch(()=>i.a.trackEvent(o,"error"))}function d(e,t,n){return t=>{const{invited_user:i,status:o,board:{id:a}}=e;return r.a.create("accepted"===o?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:a,field_set_key:"boardEdit",invited_user_id:i.id}).callDelete({showError:!1})}}},ZVOf:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l}));var i=n("eOdZ"),r=n("/X16");function o(e,t){return i.a.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function a(e,t){return{type:r.a.USER_FOLLOW,payload:{id:e,value:t}}}function s(e,t=null){return n=>{o(e,t).callCreate().catch(()=>n(a(e,!1))),n(a(e,!0))}}function c(e,t=null){return async n=>{n(a(e,!0)),await o(e,t).callCreate().catch(t=>{throw n(a(e,!1)),t})}}function d(e,t=null){return n=>{o(e,t).callDelete().catch(()=>n(a(e,!0))),n(a(e,!1))}}function l(e,t=null){return async n=>{n(a(e,!1)),await o(e,t).callDelete().catch(t=>{throw n(a(e,!0)),t})}}},ZWtO:function(e,t,n){var i=n("4uTw"),r=n("9Nap");e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},ZbwW:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("EDqd");function r(e){const t=(((e||{}).rich_metadata||{}).products||[])[0]||{};return t&&t.additional_images&&t.additional_images.length>0?Object(i.a)(e.images,t,e.carousel_data&&e.carousel_data.index):e&&e.carousel_data}},ZdHo:function(e,t,n){n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return u}));var i=n("eOdZ");function r(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function o(e,t=!1,n=""){return{type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}}}function a(e,t="",n=!1){return{type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}}}function s(e){return{type:"CONVERSATION_CREATE",payload:e}}function c(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}const d=(()=>{let e=0;return()=>e++})();function l(e,t,n){let r;const o=new Promise((a,c)=>{r=(r,o)=>{const{text:l,pinId:u,boardId:h,userId:b,didItId:p}=t,f=o();function g(){const t=i.a.create("ConversationMessagesResource",{conversation_id:e,text:l,pin:u,board:h,user:b,user_did_it_data:p,source:n}),o=""+d();r(function(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}(e,{text:l,sender:f.viewer,created_at:(new Date).toString(),created_ms:Date.now(),id:o,board:null,event_type:null,pin:u?f.pins[u]:null,type:"message",user_did_it_data:null,user:null})),t.callCreate().then(t=>{var n,i,s;r((n=e,i=o,s=t.resource_response.data.id,{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:n,messageId:i,newMessageId:s}})),a()}).catch(c)}f.conversations.data[e]?g():i.a.create("ConversationResource",{conversation_id:e}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data;r(s(t)),g()})},r.getPromise=()=>o});return r}const u=(e,t,n)=>r=>i.a.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{const t=e&&e.resource_response.data;r(o(t.id))}).catch(e=>{const t=e.message_detail||e.message||"";n(t)})},ZdPf:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));const i={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},r={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function o(e){return null!=e&&(!!e.notice||!!e.notices&&e.notices.length>0)}function a(e){return!!e&&e.severity===r.ABUSIVE}},ZtJp:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr");function r({size:e,iconColor:t,backgroundColor:n,grayscale:r=!1}){const o=t||(r?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:Object(i.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{fill:a,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:o,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},Zxas:function(e,t,n){n.d(t,"a",(function(){return i}));function i(e,t=80,n="…",i=false){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)r=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),r+n}},Zygf:function(e,t,n){function i(e){return Boolean(e.promoted_is_removable)}n.d(t,"a",(function(){return i}))},a9a9:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("zpPL");const r=e=>i.a.instance.dispatch(function(e){return{type:"SPAMMY_CLICKTHROUGH_WARNING_SHOW",payload:e}}(e)),o=()=>i.a.instance.dispatch({type:"SPAMMY_CLICKTHROUGH_WARNING_DISMISS"})},"aK+E":function(e,t,n){n.d(t,"a",(function(){return o}));const i=new Set(["bookmarks","client_tracking_params","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),r=e=>!i.has(e)&&!e.startsWith("__track__"),o=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(r).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},aOj9:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("1dBE");const o=Object(i.createContext)(null),a=()=>Object(i.useContext)(o),s=o.Provider,{Provider:c,useHook:d}=Object(r.c)("DesktopCoreLogin"),l=()=>{const{loginForMore:e}=d();return()=>{e&&e.setVisible(!0)}}},aS9Y:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("Jld5");t.createDragDropManager=function(e,t,n){return new i.default(e,t,n)}},aUfZ:function(e,t,n){var i=n("P9b8"),r=n("sZWH"),o=n.n(r);t.a=Object(i.DragDropContext)(o.a)},alwl:function(e,t,n){var i=n("eUgh"),r=n("ZWtO"),o=n("ut/Y"),a=n("l9OW"),s=n("1LK5"),c=n("sEf8"),d=n("IWTy"),l=n("zZ0H"),u=n("Z0cm");e.exports=function(e,t,n){t=t.length?i(t,(function(e){return u(e)?function(t){return r(t,1===e.length?e[0]:e)}:e})):[l];var h=-1;t=i(t,c(o));var b=a(e,(function(e,n,r){return{criteria:i(t,(function(t){return t(e)})),index:++h,value:e}}));return s(b,(function(e,t){return d(e,t,n)}))}},"b/K5":function(e,t,n){n.d(t,"a",(function(){return m}));var i=n("q1tI"),r=n("n6mq"),o=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],c=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),d=e=>e*(Math.PI/180);class l extends i.PureComponent{constructor(...e){super(...e),a(this,"animationTimer",null),a(this,"canvasRemovalTimer",null),a(this,"containerRef",Object(i.createRef)()),a(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;const{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),n=2.5*e,i=document.createElement("canvas");return i.style.position="absolute",i.style.left=0-(n-t)/2+"px",i.style.top=0-(n-e)/2+"px",i.style.pointerEvents="none",i.style.width=n+"px",i.style.height=n+"px",i.style.overflow="visible",i.width=n,i.height=n,i}),a(this,"explode",()=>{const e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;const n=e.getContext("2d");t.prepend(e);const i=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(c(10,30)),color:s[Math.floor(Math.random()*s.length)],degree:Number(c(0,360).toFixed(1)),speed:Math.round(c(0,25)),friction:.9,opacity:Number(c(0,.5).toFixed(1)),yVel:0,gravity:.04})),r=(e,t,n,i)=>{window.requestAnimationFrame(()=>r(e,t,n,i)),t.clearRect(0,0,n,i),e.forEach((e,n)=>{e.x+=e.speed*Math.cos(d(e.degree)),e.y+=e.speed*Math.sin(d(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};r(i,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},(this.props.delay||0)+800)})}componentDidUpdate(e){const{delay:t,startAnimation:n}=this.props,{startAnimation:i}=e;n&&i!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return Object(o.jsx)(r.e,{ref:this.containerRef,position:"relative",children:this.props.children})}}a(l,"defaultProps",{delay:0});var u=l,h=n("Ye/N"),b=n("vvax");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=e=>({opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),g=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class m extends i.PureComponent{constructor(...e){super(...e),p(this,"state",{isInitialized:!1}),p(this,"containerRef",Object(i.createRef)()),p(this,"pinDestinationRef",Object(i.createRef)())}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(e,t){const{isInitialized:n}=this.state,{onDismiss:i}=this.props;n&&i&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(i,2600))}render(){const{firstRepin:e,pin:t,pinImageRef:n,selectedBoardName:a}=this.props,{description:s="",images:c}=t,{height:d=0,width:l=0,url:p=""}=(null==c?void 0:c["236x"])||{},{isInitialized:m}=this.state,{mask:j,imageContainer:v}=((e,t,n,i)=>{var r,o,a;let s,c,d={};const l=null===(r=n.current)||void 0===r?void 0:r.getBoundingClientRect(),u=null===(o=t.current)||void 0===o?void 0:o.getBoundingClientRect(),h=null===(a=i.current)||void 0===a?void 0:a.getBoundingClientRect();if(u&&l&&h){d={left:l.left-u.left,top:l.top-u.top};const e={x:h.left-l.left,y:h.top-l.top},t={x:(h.width-l.width)/2,y:(h.height-l.height)/2};s=`translate(${e.x}px, ${e.y}px)`,c=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:d.left,top:d.top,width:e?null==h?void 0:h.width:null==l?void 0:l.width,height:e?null==h?void 0:h.height:null==l?void 0:l.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?s:"none",transform:e?s:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==l?void 0:l.width,height:null==l?void 0:l.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?c:"none",transform:e?c:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}})(m,this.containerRef,n,this.pinDestinationRef);return Object(o.jsx)(i.Fragment,{children:Object(o.jsxs)(r.e,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef,children:[Object(o.jsx)(r.e,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:j},children:Object(o.jsx)(r.e,{dangerouslySetInlineStyle:{__style:v},children:Object(o.jsx)(r.w,{alt:null!=s?s:"",src:p||"",naturalHeight:d||1,naturalWidth:l||1})})}),Object(o.jsx)(r.e,{color:"white",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:(O=m,{pointerEvents:"none",opacity:O?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1})},children:Object(o.jsxs)(r.e,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:f(m)},children:[Object(o.jsx)(u,{delay:1250,startAnimation:m,children:Object(o.jsx)(r.B,{rounding:2,width:270,height:180,children:Object(o.jsxs)(r.e,{display:"flex",height:"100%",width:"100%",children:[Object(o.jsx)(r.e,{ref:this.pinDestinationRef,color:"transparent",marginEnd:1,flex:"grow",height:"100%"}),Object(o.jsxs)(r.e,{display:"flex",width:80,direction:"column",children:[Object(o.jsx)(r.e,{color:"lightGray",flex:"grow",marginBottom:1}),Object(o.jsx)(r.e,{color:"lightGray",flex:"grow"})]})]})})}),Object(o.jsx)(r.e,{paddingX:2,dangerouslySetInlineStyle:{__style:g(m)},children:Object(o.jsx)(r.t,{align:"center",children:e?Object(b.b)(h.a._("You saved your first Pin to {{ selectedBoardName }}!","First board create confirmation message","First board create confirmation message"),{selectedBoardName:null!=a?a:""}):Object(b.b)(h.a._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message","Board create confirmation message"),{selectedBoardName:null!=a?a:""})})})]})})]})});var O}}p(m,"defaultProps",{firstRepin:!1})},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},bCCX:function(e,t,n){(function(e,i){var r,o=n("SLVX");r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var a=Object(o.a)(r);t.a=a}).call(this,n("yLpj"),n("3UD+")(e))},bVL4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("TKJ6"),r=n("LTlA"),o=n("QLaP"),a=n("7nh8"),s={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};t.default=function(e){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={publishSource:!0});var c=n.publishSource,d=void 0===c||c,l=n.clientOffset,u=n.getSourceClientOffset,h=e.getMonitor(),b=e.getRegistry();e.dispatch(i.setClientOffset(l)),function(e,t,n){o(!t.isDragging(),"Cannot call beginDrag while dragging.");for(var i=0,r=e;i<r.length;i++){var a=r[i];o(n.getSource(a),"Expected sourceIds to be registered.")}}(t,h,b);var p=function(e,t){for(var n=null,i=e.length-1;i>=0;i--)if(t.canDragSource(e[i])){n=e[i];break}return n}(t,h);if(null!==p){var f=null;l&&(!function(e){o("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(u),f=u(p)),e.dispatch(i.setClientOffset(l,f));var g=b.getSource(p).beginDrag(h,p);!function(e){o(r.isObject(e),"Item must be an object.")}(g),b.pinSource(p);var m=b.getSourceType(p);return{type:a.BEGIN_DRAG,payload:{itemType:m,item:g,sourceId:p,clientOffset:l||null,sourceClientOffset:f||null,isSourcePublic:!!d}}}e.dispatch(s)}}},bVT4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.union=function(e,t){var n=new Set,i=function(e){return n.add(e)};e.forEach(i),t.forEach(i);var r=[];return n.forEach((function(e){return r.push(e)})),r}},"bY+3":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("2S0S"),r=!1,o=function(){function e(e){this.targetId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.getHandlerId=function(){return this.targetId},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.canDrop=function(){if(!this.targetId)return!1;i(!r,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return r=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{r=!1}},e.prototype.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=o},bY5B:function(e,t,n){var i=n("WgLT");function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},bxss:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("vZlu"),a=n("n6mq"),s=n("nKUr");class c extends i.Component{componentDidMount(){this.props.setFlyoutOpen(!0)}componentWillUnmount(){this.props.setFlyoutOpen(!1)}render(){return Object(s.jsx)(a.e,{dangerouslySetInlineStyle:{__style:{zIndex:1e3}},children:Object(s.jsx)(a.I,{anchor:this.props.anchor,color:this.props.color,idealDirection:this.props.idealDirection,onDismiss:this.props.onDismiss,positionRelativeToAnchor:this.props.positionRelativeToAnchor,showCaret:this.props.showCaret,shouldFocus:this.props.shouldFocus,size:this.props.size,children:this.props.children})})}}t.a=Object(r.connect)(void 0,(e,t)=>({setFlyoutOpen:t=>e(Object(o.b)(!t))}))(c)},c4Fo:function(e,t,n){var i=n("q1tI"),r=n("clxp"),o=n("zXAL"),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>null;class d extends i.Component{constructor(...e){super(...e),s(this,"view",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,targeting:r}=this.props;r?i.viewExperience(t,n,!1,r):i.viewExperience(t,n)}),s(this,"complete",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:r,targeting:o}=this.props;o?i.completeExperience(t,n,r,!1,{},!1,o):r?i.completeExperience(t,n,r):i.completeExperience(t,n)}),s(this,"dismiss",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:r,targeting:o}=this.props;o?i.dismissExperience(t,n,r,!1,o):r?i.dismissExperience(t,n,r):i.dismissExperience(t,n)})}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:i,experience_id:o}=n;return Object(a.jsx)(r.a,{name:`Experience(${i}:${o})`,children:"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:{}}):e})}return Object(a.jsx)(c,{})}}t.a=Object(o.a)(d)},c50B:function(e,t,n){n.d(t,"o",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"m",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"n",(function(){return d})),n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"q",(function(){return h})),n.d(t,"j",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return j})),n.d(t,"s",(function(){return v})),n.d(t,"p",(function(){return O})),n.d(t,"k",(function(){return y})),n.d(t,"r",(function(){return x})),n.d(t,"t",(function(){return _}));const i=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach((e,i)=>{const r=t[e];r&&(n[i]=r)}),n.join("")};function r(e){return function(t,n){const i=[];t&&/\S/.test(t)||i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}const o=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function a(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(o)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function s(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function c(e){return function(t,n){const r=i(t.trim()),o=[];r&&""!==r&&r.length<2&&o.push(e.ageTooShortString);const a=Math.floor(parseInt(r,10));""===r||/^\d+$/.test(r)&&a>0&&a<300||o.push(e.invalidAgeString);const s={errors:o,warnings:[]};return n&&n(s),s}}function d(e){return function(t,n){const i=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),r=[],o=!1!==e.checkLength&&i.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!o||r.push(e.message);const a={errors:r,warnings:[]};return n&&n(a),a}}function l(e){return function(t,n){const r=/^\d+$/,o=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(r)&&o.push(e.message));const a={errors:o,warnings:[]};return n&&n(a),a}}function u(e){return function(t,n){const r=/^[\d\ -]+$/,o=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(r)&&o.push(e.message));const a={errors:o,warnings:[]};return n&&n(a),a}}function h(e){return function(t,n){const i=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function b(e){return function(t,n){const i=[];(e.should_trim||!1)&&(t=t&&t.trim());const r=t.length;e.min&&r<e.min?i.push(e.minErrorString):e.max&&r>e.max&&i.push(e.maxErrorString);const o={errors:i,warnings:[]};return n&&n(o),o}}function p(e){return function(t,n){const i=[];t!==(e&&e.targetValue)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function f(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<=e.value&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function g(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<e.value&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function m(e){return function(t,n){const i=[];/^[\040-\176]*$/.test(t)||i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function j(e){return function(t,n){const i=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,r=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),r.push(e.message));const o={errors:r,warnings:[]};return n&&n(o),o}}function v(e){return function(t,n){t=t&&t.trim();const i=[],r=new Date(t);t&&!r.getTime()&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function O(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function y(e){return function(t,n){const i=[];e.pattern.test(t)||i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function x(e,t){const n=e.map(e=>e(t).errors);return[].concat(...n)}function _(e,t){let n="";return t.some(t=>{const i=t(e);return i.errors.length>0&&(n=i.errors[0],!0)}),n}},d2Eh:function(e,t,n){t.a={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},d7JY:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o({children:e}){return Object(r.jsx)(i.e,{display:"flex",justifyContent:"center",children:e})}},d90F:function(e,t,n){var i=n("ESls");n.d(t,"a",(function(){return i.a}))},dH2W:function(e,t,n){n.r(t),n.d(t,"default",(function(){return l}));var i=n("q1tI"),r=n("Ye/N"),o=n("HoRl"),a=n("E8d4"),s=n("pLLR"),c=n("n6mq"),d=n("nKUr");function l({height:e,onCtaDidLoad:t,width:l}){const[u,h]=Object(i.useState)(null),{locale:b}=Object(s.d)(),p=Object(o.default)(b);Object(i.useEffect)(()=>{p&&"none"!==p&&(e=>{const t=Object(i.lazy)(()=>n("JBUN")("./"+e));h(t)})(p)},[p]),Object(i.useEffect)(()=>{u&&t()},[u]);const f=r.a._("Open Pinterest and tap the camera icon for ideas","PincodeCTA.title","Text informing users how to use Pincodes — may be displayed or used as accessibility label for an image"),g=Object(d.jsx)(c.Y,{align:"center",children:f});return"none"===p?g:u?Object(d.jsx)(a.a,{fallback:g,children:Object(d.jsx)(u,{height:e,title:f,width:l})}):Object(d.jsx)(c.R,{accessibilityLabel:r.a._("Loading Pincode Call to Action","PincodeCTA.loading","Accessibility label for loading spinner for the Pincode call-to-action"),show:!0})}},dJ9d:function(e,t,n){function i(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.isRefForwardingComponent=i,t.isRefable=function(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||i(e);var t}},dMCU:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),r=n("v/Q4"),o=n("aOj9"),a=n("nKUr");function s(e){const t=t=>{const n=Object(i.useDispatch)(),{isAuth:s,isLimitedLogin:c}=Object(r.a)(),d=Object(o.e)(),l=!s||c?e=>e=>{e&&e.stopPropagation(),d()}:e=>e;return Object(a.jsx)(e,{authAction:l,dispatch:n,isAuth:s,isLimitedLogin:c,...t})};return t.displayName=`WithAuthenticatedAction(${String(e.displayName||e.name)})`,t}},dt0z:function(e,t,n){var i=n("zoYe");e.exports=function(e){return null==e?"":i(e)}},dtqy:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("5S2N"),a=n("Sp3T"),s=n("ANjH"),c=n("U4JR"),d=n("nKUr");t.a=Object(s.compose)(Object(r.connect)(({pins:e},{pinId:t,carouselSlotCurrentIndex:n})=>{const{carousel_data:i}=e&&t&&e[t]||{},{index:r}=i||{};return void 0!==n?{carouselSlotCurrentIndex:r||n||0}:{}}),(function(e){return function(t){const[n,r]=Object(i.useState)(!1),s=Object(a.a)(),{pinId:l,onDelete:u,onSubmit:h,carouselSlotCurrentIndex:b}=t;return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(e,{...t,handlePinEditButtonClick:e=>s(()=>{e&&e.stopPropagation();const{component:n,onToggleModal:i}=t;i&&i(!0),Object(c.b)(101,{element:3,...n?{component:n}:{}}),r(!0)})}),n&&Object(d.jsx)(o.a,{carouselSlotCurrentIndex:b,onDelete:u,onHide:()=>{r(!1),t.onToggleModal&&t.onToggleModal(!1)},onSubmit:h,pinId:l})]})}}))},e0nq:function(e,t,n){function i(e){return{type:"PIN_BETTER_SAVE",payload:e}}function r(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function a(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}))},eBDd:function(e,t,n){var i=n("yaUg"),r=n("NBXZ");t.a=(e,t)=>{const n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?Object(r.a)(t[e].toString()):""}),Object(i.a)(e,n)}},eGqM:function(e,t,n){var i=n("q1tI"),r=n("DzJC"),o=n.n(r);t.a=function(e=1400){const[t,n]=Object(i.useState)(!1),[r,a]=Object(i.useState)(!1),s=o()(()=>{if(window&&window.scrollY){const i=window.scrollY>=e;if(i&&!t?n(!0):!i&&t&&n(!1),document&&document.body){window.innerHeight+window.scrollY+1>=document.body.offsetHeight&&a(!0)}}},50);return Object(i.useEffect)(()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}),[s]),{hasScrolledToBottom:r,isScrolledToThreshold:t}}},eIuQ:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n("Ye/N");function r(e){return e?i.a._("Title too long. Make sure all cards' titles have less than 100 characters","Title entered is too long while editing a carousel pin and/or one of its pins","Title entered is too long while editing a carousel pin and/or one of its pins"):i.a._("Title too long. Make sure title has less than 100 characters","Title entered is too long while editing a pin","Title entered is too long while editing a pin")}function o(e){return e?i.a._("Description too long. Make sure all cards' descriptions have less than 500 characters","Description entered is too long while editing a carousel pin and/or one of its pins","Description entered is too long while editing a carousel pin and/or one of its pins"):i.a._("Description too long. Make sure description has less than 500 characters","Description entered is too long while editing a pin","Description entered is too long while editing a pin")}function a(e){return i.a._("Too many mentions. Make sure you have at most 5.","editPinModal.errorMessages.userMentionOverLimit","Too many mentions used in the description")}function s(e){return e?i.a._("Need to provide a valid URL. Make sure all cards' links are valid","Invalid URL/link provided while editing a carousel pin and/or one of its pins","Invalid URL/link provided while editing a carousel pin and/or one of its pins"):i.a._("Need to provide a valid URL. Make sure the link is valid","Invalid URL/link provided while editing a pin","Invalid URL/link provided while editing a pin")}},eUgh:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},eiom:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDisposed=!1,this.disposables=e}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t},e.prototype.clear=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e}();t.CompositeDisposable=i},fJfT:function(e,t,n){n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return j}));var i=n("TPPM"),r=n("ajUs"),o=n("eOdZ"),a=n("gxu6"),s=n("T0g9");var c={open(e,t,n,r,o){const c=Math.round(1e3*Math.random())+"",d=Math.round(1e3*Math.random())+"";a.b("offsite_"+c,d);const l={token:c+"-"+d,url:e,csr:void 0,pin:void 0,client_tracking_params:r,aux_data:o?JSON.stringify(o):void 0};t?l.pin=t:n&&(l.csr=n),Object(i.a)("/offsite/?"+Object(s.a)(l),!0)}};var d=n("zwad"),l=n("a9a9"),u=n("Y8Sn"),h=n("078/");const b=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},p=({isExternalLink:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),f=({location:e,pin:t,surface:n})=>!Object(u.g)(t)&&(({location:e,pinId:t,surface:n})=>{const i=Boolean(n),r=h.a.includes(n),o=e.pathname.includes(t);return i&&!r||o})({location:e,pinId:t.id,surface:n}),g=async({isMounted:e,pin:t,location:n,spamCheckCallback:i,href:a})=>{const s=o.a.create("OffsiteLinkResource",{check_only:!0,client_tracking_params:Object(r.a)(t,n),pin_id:null==t?void 0:t.id,url:a}),c=await s.callGet({showError:!1});if(!c.resource_response.error&&e){const e=c.resource_response.data||{},{message:t,redirect_status:n,url:r}=e;i({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:r})}},m=({event:e,onHistoryChange:t,href:n,history:r,target:o})=>{const a=d.a.getUrlClass(n);a===d.a.UrlClass.TRUSTED_DIFFERENT_ORIGIN||"blank"===o?Object(i.a)(n,"blank"===o):r&&a===d.a.UrlClass.SAME_ORIGIN&&(r.push(d.a.normalizeUrl(n)),t&&t({event:e}))},j=({href:e,pinId:t,pin:n,location:i,auxData:a,spamCheck:s})=>{"undefined"!=typeof window&&window.Windows?function({url:e,pinId:t,pin:n,location:i,auxData:a}){const s={check_only:!0,client_tracking_params:n?Object(r.a)(n,i):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(a)};o.a.create("OffsiteLinkResource",s).callGet().then(o=>{if(o&&o.resource_response&&!o.resource_response.error){const{resource_response:e}=o,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){const o=Object(r.a)(n,i);c.open(e,t,null,o,a)}else c.open(e,t)})}({url:e,pinId:t,pin:n,location:i,auxData:a}):n?(({spamCheck:e,auxData:t,location:n,pin:i,pinId:o,href:a})=>{null!=e&&e.blocked?Object(l.b)(e):c.open(a,o,null,Object(r.a)(i,n),t)})({spamCheck:s,auxData:a,location:i,pin:n,pinId:t,href:e}):c.open(e,t)}},fNcP:function(e,t,n){n.d(t,"a",(function(){return Ue}));var i=n("/MKj"),r=n("0rqM"),o=n("Ye/N"),a=n("M1Uz"),s=n("vvax"),c=n("n6mq"),d=n("nGHF"),l=n("oN2T"),u=n("nKUr");function h({shouldArchive:e,board:t,onClose:n,onConfirm:h}){const b=Object(i.useDispatch)(),{showOneToast:p}=Object(d.b)();return Object(u.jsx)(r.a,{confirmButtonLabel:e?o.a._("Archive","BoardPage.ModalContents.BoardModalManager","button label on confirming board archive"):o.a._("Unarchive","BoardUnarchiveConfirmation.BoardEditConfirmation.buttonLabel","button label on confirming board unarchive"),heading:e?o.a._("Archive this board?","BoardPage.ModalContents.BoardModalManager","modal heading for board archive confirmation"):o.a._("Unarchive this board?","BoardUnarchiveConfirmation.BoardEditConfirmation.heading","modal heading for board unarchive confirmation"),message:Object(s.b)(e?o.a._("If you archive {{ boardName }}, you won’t be able to save Pins to it. We’ll hide it from your profile and stop using it for recommendations. (Don’t worry: You can unarchive your board to undo this!)","BoardPage.ModalContents.BoardModalManager","Confirmation message when archiving a board"):o.a._("If you unarchive {{ boardName }}, it will show up on your profile and you’ll be able to save new Pins to it.","BoardUnarchiveConfirmation.BoardEditConfirmation.message","Confirmation message when unarchiving a board"),{boardName:Object(u.jsx)(c.Y,{inline:!0,weight:"bold",children:t.name},t.name)}),onCancel:n,onConfirm:()=>{b(e?Object(l.a)(t.id):Object(l.l)(t.id)),h(),n(),p(({onHide:n})=>{var i;return Object(u.jsx)(a.a,{imageUrl:null!==(i=t.image_cover_url)&&void 0!==i?i:"",onHide:n,text:e?Object(s.b)(o.a._("Archived {{ boardName }}","board.BoardPage.ModalContents.BoardArchiveConfirmation","Toast text on complete archiving board"),{boardName:t.name}).join(""):Object(s.b)(o.a._("Unarchived {{ boardName }}","BoardUnarchiveConfirmation.handleConfirmUnarchive.message","Toast text on completing unarchiving board"),{boardName:t.name}).join("")})})}})}var b=n("OQKm"),p=n("qdVQ"),f=n("q1tI"),g=n("TgLd"),m=n("/MAO");function j({fetchMore:e,followers:t,followersCount:n,isFetching:i,onDismiss:r}){return Object(u.jsx)(g.b,{accessibilityModalLabel:o.a._("Board Followers","boardFollowersList.modal.accessibilityLabelForModal","Accessibility label for modal"),heading:Object(u.jsx)(c.e,{display:"flex",justifyContent:"center",padding:8,children:Object(u.jsx)(c.t,{size:"md",accessibilityLevel:1,children:Object(s.b)(o.a.ngettext("{{ followersCount }} Follower","{{ followersCount }} Followers",n,"Label for the number of people following a board","Label for the number of people following a board"),{followersCount:n.toLocaleString()})})}),onDismiss:r,size:"sm",children:Object(u.jsx)(c.e,{maxHeight:600,paddingX:6,overflow:"auto",children:t&&t.length>0?Object(u.jsxs)(f.Fragment,{children:[t.map(e=>Object(u.jsx)(m.a,{showFollow:!0,showName:!0,size:"medium",subtitle:"",user:e},e.id)),n-t.length>0?Object(u.jsx)(c.e,{display:"flex",justifyContent:"center",padding:5,marginBottom:2,children:Object(u.jsx)(c.f,{disabled:i,inline:!0,onClick:e,size:"lg",text:o.a._("See more","BoardFollowerList.SeeMore","Button to load more items in the board follower list")})}):null]}):Object(u.jsx)(c.e,{marginBottom:8,children:Object(u.jsx)(c.R,{accessibilityLabel:o.a._("Loading board followers","BoardModalManager.Spinner","Spinner which shows when loading board followers"),show:!0})})})})}var v=n("JW66"),O=n("w70y");function y({boardId:e,followersCount:t,onDismiss:n}){const{data:i=[],fetchMore:r,isFetching:o}=Object(O.a)({name:"BoardFollowersResource",options:{board_id:e,page_size:v.a.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE}});return Object(u.jsx)(j,{fetchMore:r,followers:i,followersCount:t,isFetching:o,onDismiss:n})}var x=n("weYu"),_=n("fhMV");const w="236x",S="474x",C="736x",I=e=>t=>t.replace(/pinimg\.com\/\d+x\d*\//,`pinimg.com/${e}/`),E=e=>[w,S,C].map((t,n)=>`${I(t)(e)} ${n+1}x`).join(", ");function T({boardId:e,customizable:t}){const n=Object(O.a)({name:"BoardFeedResource",options:{board_id:e,field_set_key:"images_only_item",filter_section_pins:!1,page_size:t?60:4}}),i=!n.isLoaded,r=(n.data||[]).filter(({type:e})=>"pin"===e).map(({images:e})=>e["236x"]);return Object(u.jsx)(_.a,{getDownloadImageURL:I("1200x"),getMainImageURL:I(S),getThumbnailImageSrcSet:E,id:e,images:r,isLoadingImages:i,customizable:t})}function P({onCompleteBulkDelete:e,onClearModal:t,pinCountToDelete:n}){const i=1===n?o.a._("Delete this Pin"):o.a._("Delete these Pins"),r=1===n?o.a._("Are you sure you want to permanently delete this Pin?"):o.a._("Are you sure you want to permanently delete these Pins?");return Object(u.jsx)(g.b,{accessibilityModalLabel:o.a._("delete Pins","accessibility label for bulk delete modal","accessibility label for bulk delete modal"),footer:Object(u.jsxs)(c.e,{children:[Object(u.jsx)(c.e,{marginBottom:2,children:Object(u.jsx)(c.f,{text:o.a._("Cancel"),onClick:t})}),Object(u.jsx)(c.f,{text:o.a._("Delete"),color:"red",onClick:()=>{e(),t()}})]}),heading:i,onDismiss:t,children:Object(u.jsx)(c.e,{paddingX:8,children:Object(u.jsx)(c.Y,{children:r})})})}var D=n("V711");function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class B extends f.Component{constructor(...e){super(...e),k(this,"state",{chosenBoardId:null}),k(this,"filterCurrentBoard",e=>{const{currentBoardId:t}=this.props;return e.filter(e=>e.id!==t)}),k(this,"handleChosenBoardChange",e=>{this.setState({chosenBoardId:e.id})}),k(this,"handleConfirm",()=>{const{onCopyToBoard:e,onClearModal:t}=this.props,{chosenBoardId:n}=this.state;n&&(e(n),t())})}render(){const{onClearModal:e,pinCountToCopy:t}=this.props,{chosenBoardId:n}=this.state,i=1===t?o.a._("Pick another board for this Pin"):o.a._("Pick another board for these Pins");return Object(u.jsx)(g.b,{accessibilityModalLabel:o.a._("Copy your pins to a different board","BoardPage.ModalContents.BulkEditBoardPicker.accessibilityModalLabel","Accessiblilty modal label"),heading:i,onDismiss:e,footer:Object(u.jsxs)(c.e,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:[Object(u.jsx)(c.e,{paddingX:1,children:Object(u.jsx)(c.f,{onClick:e,text:o.a._("Cancel")})}),Object(u.jsx)(c.e,{paddingX:1,children:Object(u.jsx)(c.f,{disabled:!n,onClick:this.handleConfirm,text:o.a._("Copy"),color:"red"})})]}),children:Object(u.jsx)(c.e,{padding:8,minHeight:400,children:Object(u.jsx)(D.a,{filterAllBoards:this.filterCurrentBoard,onBoardChosen:this.handleChosenBoardChange})})})}}n("Xnm/");var M=n("y9Ij"),R=n("4+TC"),A=n("yjg8");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const N=()=>{},F={__style:{zIndex:1}};class U extends f.PureComponent{constructor(...e){super(...e),L(this,"state",{isHovered:!1}),L(this,"hover",()=>this.setState({isHovered:!0})),L(this,"unhover",()=>this.setState({isHovered:!1})),L(this,"handlePinClick",({event:e})=>{const{save:t,unsave:n,saved:i}=this.props;e.preventDefault(),e.stopPropagation(),i?n():t()})}render(){const{children:e,boardName:t,saved:n}=this.props,{isHovered:i}=this.state;return Object(u.jsxs)(c.e,{position:"relative",children:[Object(u.jsx)(c.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:Object(u.jsx)(c.X,{accessibilityLabel:o.a._("Save this Pin","jumpstartBoardPinWrapper.tapArea.accessibilityLabel","Accessibility label describing purpose of tap area"),fullHeight:!0,fullWidth:!0,onMouseEnter:this.hover,onMouseLeave:this.unhover,onTap:this.handlePinClick,children:(i||n)&&Object(u.jsx)(c.e,{position:"absolute",top:!0,paddingX:4,paddingY:4,width:A.e,dangerouslySetInlineStyle:F,children:n?Object(u.jsxs)(c.e,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(u.jsx)(c.e,{flex:"grow",children:Object(u.jsx)(R.a,{isNewlySaved:!0,url:null,name:t})}),Object(u.jsx)("div",{className:"jumpstart-undo-icon",children:Object(u.jsx)(c.v,{accessibilityLabel:o.a._("Undo","Undo saving a pin to a board","Undo saving a pin to a board"),bgColor:"transparentDarkGray",icon:"refresh",iconColor:"white",onClick:N})})]}):Object(u.jsx)(c.e,{display:"flex",justifyContent:"end",children:Object(u.jsx)(c.e,{children:Object(u.jsx)(M.b,{onClick:N,saved:n,variant:"lego"})})})})})}),Object(u.jsx)("div",{style:{pointerEvents:"none"},children:e})]})}}var H=n("5Ai/"),z=n("82UD"),Y=n("U4JR");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G extends f.PureComponent{constructor(...e){super(...e),q(this,"scollRef",Object(f.createRef)()),q(this,"clickLogging",e=>{const{board:t}=this.props;Object(Y.b)(101,{component:13380,element:10599,reason:e,board_id:t.id})}),q(this,"handleSave",()=>{this.clickLogging("save")}),q(this,"handleDelete",()=>{this.clickLogging("delete")}),q(this,"renderPin",({data:e,itemIdx:t})=>{const{board:n}=this.props;return Object(u.jsx)(H.a,{pin:e,target:{board:n},onSave:this.handleSave,onDelete:this.handleDelete,eventContext:{viewType:5,viewParameter:3173,element:10599},children:({save:i,unsave:r,saved:o})=>{var a;return Object(u.jsx)(U,{save:i,unsave:r,saved:o,boardName:null!==(a=n.name)&&void 0!==a?a:"",children:Object(u.jsx)(z.a,{attributionOption:"hide",blockClickEvents:!0,pin:e,pinId:e.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},surface:"JumpstartBoard",trackingParameters:{slotIndex:t,viewParameter:3173,viewType:5}})})}})})}render(){const{resource:e}=this.props;return Object(u.jsxs)(c.e,{maxHeight:600,maxWidth:K,overflow:"auto",ref:this.scollRef,padding:4,children:[e.isLoaded&&e.data&&Object(u.jsx)(c.C,{comp:this.renderPin,columnWidth:A.e,gutterWidth:24,items:e.data,scrollContainer:()=>this.scollRef.current,loadItems:e.fetchMore}),Object(u.jsx)(c.R,{accessibilityLabel:o.a._("Loading pins","Loading indicator","Loading indicator"),show:e.isFetching})]})}}function W({board:e}){const t=Object(O.a)({name:"BoardContentRecommendationResource",options:{type:"board",id:e.id,__track__referrer:21}});return Object(u.jsx)(G,{board:e,resource:t})}var V=n("EC67");const K=1112;function X({board:e,onDismiss:t}){const n=Object(V.h)(),i=Object(V.i)(),r=()=>{const e={...i&&i.state||{}};e.newBoard&&(delete e.newBoard,n.replace({...i,state:e})),t()};return Object(u.jsx)(g.b,{accessibilityModalLabel:o.a._("add pins to empty board modal","accessibility label for modal","accessibility label for modal"),allowScroll:!0,heading:o.a._("Save some Pins to your new board","jumpstartBoardModal.heading","heading for modal to add Pins to an empty board"),onDismiss:r,size:K,footer:Object(u.jsx)(c.e,{display:"flex",justifyContent:"end",children:Object(u.jsx)(c.f,{color:"red",onClick:r,text:o.a._("Done","done adding pins to empty board","done adding pins to empty board"),accessibilityLabel:o.a._("Done","done adding pins to empty board","done adding pins to empty board"),inline:!0})}),children:Object(u.jsx)(W,{board:e})})}var $=n("9WJf"),Z=n("6A0I"),Q=n("VqlB"),J=n("qyR9"),ee=n("ANjH"),te=n("0BOE");function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ie extends f.Component{constructor(...e){super(...e),ne(this,"getSections",e=>{const{board:t,boardsResource:{data:{all_boards:n}},canMoveToOtherBoards:i,sectionsResource:{data:r}}=this.props,a=n.filter(e=>e.id!==t.id);return e.length>=2?[r.length?{items:Object(te.a)([t],e),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},{items:Object(te.a)(r,e,"title"),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}},i?{items:Object(te.a)(a,e)}:{items:[]}]:[r.length?{title:o.a._("Current board","title in move pins flow","title in move pins flow"),items:[t,...r],customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},i?{title:o.a._("Other boards","heading text for a list of a user's other boards in the move pins flow","heading text for a list of a user's other boards in the move pins flow"),items:a}:{items:[]}]}),ne(this,"isDisabled",e=>e.id===this.props.selectedRowId)}render(){const{board:e,boardsResource:{error:t,isLoaded:n},boardSavedTo:i,onRowSelected:r,onSectionCreate:a,pinId:s,sectionsResource:{error:c,isLoaded:d},selectedRowId:l}=this.props;return Object(u.jsx)(J.a,{boardSavedTo:i,createButtonLabel:o.a._("Add section","Button for creating a board section","Button for creating a board section"),disabledRowId:l,hasLoadError:!!t||!!c,isLoaded:n&&d,getSections:this.getSections,onCreate:a,onSelected:r,pinId:s},e.id)}}var re=Object(ee.compose)(Object(O.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})}),Object(O.b)({name:"BoardPickerBoardsResource",key:"boardsResource",options:{field_set_key:"board_picker",onlyFetchBoards:!0}}))(ie);function oe({board:e,boardSavedTo:t,onMove:n,onSectionedBoardSelect:i,onSectionCreate:r,selectedRowId:a,showOtherBoards:s}){const d=s&&!e.section_count?o.a._("Choose board"):o.a._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section");return Object(u.jsxs)(c.e,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:"absolute",rounding:2,width:330,dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[Object(u.jsx)(c.e,{paddingY:3,paddingX:3,children:Object(u.jsx)(c.t,{size:"sm",children:d})}),Object(u.jsx)(re,{board:e,boardSavedTo:t,canMoveToOtherBoards:s,onRowSelected:t=>{if("board_section"===t.type){n(e,t)}else if("board"===t.type){const r=t;r&&r.id!==e.id&&(r.section_count||0)>0?i(r):n(r,null)}},onSectionCreate:r,selectedRowId:a})]})}var ae=n("8BbR"),se=n("WjpJ"),ce=n.n(se);function de({previewPin:e,extraPinCount:t,showFullImage:n}){if(!e)return Object(u.jsx)(ae.a,{height:214,pin:null,rounded:!0,width:142});const{description:i,images:r={},dominant_color:o}=e,a=r["474x"],s=Math.min(217*a.height/a.width,450),c=n?s:214,d=n?217:142;return Object(u.jsx)(ae.a,{additionalPinCount:t,height:c,pin:{description:i,dominantColor:o,imageUrl:a.url},rounded:!0,width:d})}function le({pins:e}){const t=e.length>0&&e.length<=2?e.length:4,n=ce()(0,t).map(n=>Object(u.jsx)("div",{style:{padding:3,display:"inline-block"},children:Object(u.jsx)(de,{previewPin:e[n],extraPinCount:3===n?Math.max(e.length-t,0):0,showFullImage:1===e.length})},n));return Object(u.jsx)(c.e,{display:0===e.length||e.length>2?"inlineBlock":"flex",alignItems:"center",justifyContent:"center",width:296,height:440,children:n})}var ue=n("6SCp"),he=n("B6Tf"),be=n("Wer7");function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fe extends f.Component{constructor(e){var t;super(e),pe(this,"showSuccessToast",()=>{const{movedBoard:e,movedSection:t}=this.state,{board:n,inSelectAll:i,toastManagerContext:r}=this.props;if(i)r.showOneToast(({onHide:e})=>Object(u.jsx)(a.a,{duration:he.a,onHide:e,text:o.a._("Got it! Hang tight while we move all those Pins...","Toast message for bulk pins move.","Toast message for bulk pins move.")}));else if(e){var c;const i=t?Object(s.b)(o.a._("Moved to {{sectionName}} in {{boardName}}","Toast for successfully moving pins to a section within a board","Toast for successfully moving pins to a section within a board"),{sectionName:t.title,boardName:e.name}).join(""):Object(s.b)(o.a._("Moved to {{boardName}}","Toast for successfully moving pins to a different board","Toast for successfully moving pins to a different board"),{boardName:e.name}).join(""),d=t?`${null!==(c=e.url)&&void 0!==c?c:""}${t.slug}`:e.url;r.showOneToast(({onHide:e})=>{var t;return Object(u.jsx)(a.a,{duration:he.a,href:d,imageUrl:null!==(t=n.image_cover_url)&&void 0!==t?t:"",onHide:e,text:i})})}}),pe(this,"handleMove",(e,t)=>{const{board:n,boardSection:i,inSelectAll:r,onCompleteMove:o,movePins:a,selectedPinIds:s}=this.props,c={boardId:n.id,sectionId:i&&i.id||null},d={boardId:e.id,sectionId:t&&t.id||null};if(c.boardId===d.boardId&&c.sectionId===d.sectionId)return;const l=d.sectionId||d.boardId;this._setBoardSavedTo(l,he.b.LOADING),a({inverseSelection:r,selectedPinIds:s,source:c,target:d}).then(()=>{this._setBoardSavedTo(l,he.b.SUCCESS),this.setState({movedBoard:e,movedSection:t}),o()})}),pe(this,"handleSectionedBoardSelect",e=>{this.setState({initialBoardName:"",selectedBoard:e})}),pe(this,"handleSectionCreateComplete",e=>{const{onCompleteMove:t,toastManagerContext:n}=this.props;t();const i=Object(s.b)(o.a._("Moved to {{sectionName}} in {{boardName}}","moveSectionModal.handleSectionCreate.toast","Toast for successfully moving pins to a section within a board"),{sectionName:e.title,boardName:e.board.name});n.showOneToast(({onHide:t})=>{var n;return Object(u.jsx)(a.a,{duration:he.a,href:`${null!==(n=e.board.url)&&void 0!==n?n:""}${e.slug}`,imageUrl:" ",onHide:t,text:i.join("")})})}),pe(this,"handleShowCreate",e=>{this.setState({initialBoardName:e,showCreate:!0})}),pe(this,"handleHideCreate",()=>{const{onClearModal:e,sectionCount:t}=this.props;0===t?e():this.setState({initialBoardName:"",showCreate:!1})});const{board:n,viewer:i,showCreateOnly:r}=e;this.state={boardSavedTo:null,initialBoardName:"",movedBoard:null,movedSection:null,selectedBoard:e.board,showCreate:r||(null===(t=n.owner)||void 0===t?void 0:t.id)!==i.id&&0===n.section_count}}componentWillUnmount(){const{invalidateResource:e,viewer:t}=this.props,{movedBoard:n,movedSection:i}=this.state;n&&(i||e("BoardFeedResource",Object(ue.a)(n,t)),this.showSuccessToast())}_setBoardSavedTo(e,t){this.setState({boardSavedTo:{board:e,state:t}})}render(){const{board:e,boardSection:t,inSelectAll:n,onClearModal:i,selectedPinIds:r,selectedPins:a,shouldShowOtherBoards:s}=this.props,{boardSavedTo:d,initialBoardName:l,selectedBoard:h,showCreate:b}=this.state,p=n?330:660;return Object(u.jsx)(g.b,{accessibilityModalLabel:o.a._("Choose the section or board you want to move pins to","moveSectionModal.modal.accessibilityLabelForModal","Accessibility label for modal"),onDismiss:i,size:p,children:Object(u.jsxs)(c.e,{color:"white",display:"flex",height:540,rounding:2,width:p,children:[!n&&Object(u.jsx)(c.e,{dangerouslySetInlineStyle:{__style:{marginTop:60}},marginBottom:6,paddingX:2,children:Object(u.jsx)(le,{pins:a})}),b?Object(u.jsx)(Z.a,{board:h,completeCreateSectionAction:this.handleSectionCreateComplete,initialName:l,onClearModal:this.handleHideCreate,pinImport:{all:n,pinIds:r},showTitle:!0}):Object(u.jsx)(oe,{board:h,boardSavedTo:d,onMove:this.handleMove,onSectionCreate:this.handleShowCreate,onSectionedBoardSelect:this.handleSectionedBoardSelect,selectedRowId:t&&t.id||e&&e.id,showOtherBoards:s})]})})}}var ge=Object(ee.compose)(Object(i.connect)((e,t)=>{var n;return{selectedPins:t.selectedPinIds.reduce((t,n)=>{const i=e.pins[n];return i?t.concat([i]):t},[]),shouldShowOtherBoards:Object($.a)({action:2,board:t.board})||!t.selectedPinIds.some(t=>{const{pins:n,viewer:i}=e,r=i,o=n[t];return o&&o.pinner&&o.pinner.id&&o.pinner.id!==r.id}),sectionCount:null!==(n=(e.boards.content[t.board.id]||{}).section_count)&&void 0!==n?n:0,viewer:e.viewer}},(e,t)=>({invalidateResource:Object(ee.bindActionCreators)(be.f,e),movePins:Object(ee.bindActionCreators)(Q.a,e)})),d.c)(fe),me=n("A6Hx"),je=n("t9Ac"),ve=n("Pv/+"),Oe=n("zpPL");function ye(e){const{viewer:t}=Oe.a.instance&&Oe.a.instance.getState()||{};return(null==t?void 0:t.isAuth)&&(e||{}).id===t.id}var xe=n("1inl"),_e=n("4TDQ"),we=n("NXrh");function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ce extends f.Component{constructor(...e){super(...e),Se(this,"state",{section:null}),Se(this,"handleSectionChange",e=>{this.setState({section:e})}),Se(this,"handleSubmit",()=>{const{onSubmit:e}=this.props,{section:t}=this.state;t&&e(t)})}render(){const{board:e,boardSection:t,onCancel:n}=this.props,{section:i}=this.state;return Object(u.jsx)(g.b,{size:"md",accessibilityModalLabel:o.a._("Move Pins","BoardPage.ModalContents.SectionMergeModal","accessibility label for merging modal"),onDismiss:()=>{n()},heading:i?o.a._("Move Pins and delete section?","title for board section merging modal","title for board section merging modal"):o.a._("Move all Pins to...","title for board section merging modal","title for board section merging modal"),footer:Object(u.jsx)(c.e,{display:"flex",justifyContent:"end",children:Object(u.jsxs)(c.g,{children:[Object(u.jsx)(c.f,{inline:!0,onClick:n,text:o.a._("Cancel"),size:"lg"}),Object(u.jsx)(c.f,{color:"red",disabled:!i,inline:!0,onClick:this.handleSubmit,text:o.a._("Move Pins and delete section","button for merging a board section","button for merging a board section"),size:"lg"})]})}),children:Object(u.jsx)(c.e,{padding:8,minHeight:400,children:Object(u.jsx)(we.b,{board:e,mergingFromSectionId:t.id,onSectionChange:this.handleSectionChange,selectedSectionId:i?i.id:null})})})}}var Ie=n("uVIr"),Ee=n("MhBu"),Te=n("eOdZ"),Pe=n("KFEb"),De=n("Sihc");function ke(e,t,n){return i=>Te.a.create("BoardSectionEditResource",{section_id:t,title:n}).callCreate({showError:!1}).then(t=>{const n=t.resource_response.data;return i(function(e,t){return n=>{const i=t.board;i&&i.id!==e?(n(Object(ve.b)(e,t.id)),n(Object(Ee.a)({feedId:e,feedType:Pe.a.BOARD_SECTIONS,itemIds:[t.id],itemType:"board_section"})),n(Object(l.c)(e,"pin_count")),n(Object(De.b)(i.id,t)),n(Object(Ie.a)({feedId:i.id,feedType:Pe.a.BOARD_SECTIONS,itemIds:[t.id],itemType:"board_section"})),n(Object(l.c)(e,"pin_count"))):n({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}}(e,n)),i(Object(be.f)("BoardSectionsRepinResource",{board_id:e})),n})}var Be=n("vVEi");function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Re extends f.Component{constructor(...e){super(...e),Me(this,"state",{deleting:!1,editMode:"main",title:this.props.boardSection.title}),Me(this,"handleSaveSection",e=>{if(e.preventDefault(),this.saveDisabled())return;const{board:t,boardSection:n,dispatch:i,onSaveSection:r}=this.props,{title:a}=this.state;i(ke(t.id,n.id,a.trim())).then(r).catch(e=>this.setState({titleErrorMessage:e.message||o.a._("Invalid section name","error message of section name input field","error message of section name input field")}))}),Me(this,"saveDisabled",()=>this.state.title===this.props.boardSection.title||""===this.state.title.trim()),Me(this,"handleChangeTitle",({value:e})=>{this.setState({title:e,titleErrorMessage:void 0})}),Me(this,"handleDeleteSectionButtonClick",()=>{this.setState({editMode:"confirmDelete"})}),Me(this,"handleMergeButtonClick",()=>{this.setState({editMode:"merge"})}),Me(this,"handleBackToMainMenu",()=>{this.setState({editMode:"main"})}),Me(this,"handleDeleteSection",()=>{const{board:e,boardSection:t,dispatch:n,onDeleteSection:i,toastManagerContext:r}=this.props;if(this.state.deleting)return;const{id:s}=t;this.setState({deleting:!0}),n(Object(ve.a)(e.id,s)).then(()=>{i(),r.showToast(({onHide:e})=>Object(u.jsx)(a.a,{onHide:e,text:o.a._("Section deleted!","Toast for successfully deleting a board section","Toast for successfully deleting a board section")}))}).catch(e=>xe.a.showError(e.message||o.a._("Failed to delete the section","error message for failed to delete section","error message for failed to delete section")))}),Me(this,"handleMergeSection",e=>{var t;const{board:n,boardSection:i,dispatch:r,showBlockingActionToast:a,onDeleteSection:s}=this.props;this.state.deleting||(this.setState({deleting:!0}),Object(Y.b)(7173,{objectId:i.id,merge_flow:"menu"}),r(Object(_e.a)(n.id,i.id,null!==(t=e.id)&&void 0!==t?t:"")).then(s).then(()=>{a({actionType:"merge",board:n,section:e})}).catch(e=>xe.a.showError(e.message||o.a._("Failed to merge the section","error message for failed to merge section","error message for failed to merge section"))))})}componentDidMount(){window.requestAnimationFrame(()=>{const e=this._textField;e&&(e.focus(),e.select())})}render(){const{board:e,boardSection:t,onClearModal:n}=this.props,{title:i,titleErrorMessage:a,editMode:s}=this.state,d=ye(t.user)||Object($.a)({action:10,board:e}),l=e.section_count>1&&(ye(t.user)||Object($.a)({action:13,board:e}));return"confirmDelete"===s?Object(u.jsx)(r.a,{confirmButtonLabel:o.a._("Delete section","button for deleting a board section","button for deleting a board section"),onCancel:this.handleBackToMainMenu,onConfirm:this.handleDeleteSection,message:o.a._("Once you delete a section and all its Pins, you can't undo it!")}):"merge"===s?Object(u.jsx)(Ce,{board:e,boardSection:t,onCancel:this.handleBackToMainMenu,onSubmit:this.handleMergeSection}):Object(u.jsx)(g.b,{accessibilityModalLabel:o.a._("Edit your section"),size:"md",onDismiss:n,heading:o.a._("Edit your section"),footer:Object(u.jsxs)(c.e,{justifyContent:"between",display:"flex",children:[Object(u.jsx)(c.l,{span:6,children:(d||l)&&Object(u.jsxs)(c.e,{display:"flex",marginStart:-1,marginEnd:-1,children:[d&&Object(u.jsx)(c.e,{paddingX:1,children:Object(u.jsx)(c.f,{onClick:this.handleDeleteSectionButtonClick,inline:!0,text:o.a._("Delete","Delete button","Delete button")})}),l&&Object(u.jsx)(c.e,{paddingX:1,children:Object(u.jsx)(c.f,{inline:!0,onClick:this.handleMergeButtonClick,text:o.a._("Merge","button for merging a board section","button for merging a board section")})})]})}),Object(u.jsx)(c.l,{span:6,children:Object(u.jsxs)(c.e,{display:"flex",justifyContent:"end",children:[Object(u.jsx)(c.e,{marginEnd:3,children:Object(u.jsx)(c.f,{text:o.a._("Cancel"),onClick:n,inline:!0})}),Object(u.jsx)(c.f,{type:"submit",color:"red",text:o.a._("Save"),inline:!0,disabled:this.saveDisabled(),onClick:({event:e})=>{this.handleSaveSection(e)}})]})})]}),children:Object(u.jsx)("form",{onSubmit:this.handleSaveSection,children:Object(u.jsx)(c.e,{display:"flex",direction:"column",padding:8,children:Object(u.jsx)(c.ab,{errorMessage:a,id:"title",label:o.a._("Name"),onChange:this.handleChangeTitle,ref:e=>{this._textField=e},size:"lg",value:i})})})})}}var Ae=Object(ee.compose)(Object(i.connect)(),Be.d,d.c)(Re);function Le({source:e,target:t,onConfirm:n,onCancel:i}){return Object(u.jsx)(g.b,{accessibilityModalLabel:o.a._("Move Pins and delete section?","title for board section merging confirmation","title for board section merging confirmation"),heading:o.a._("Move Pins and delete section?","title for board section merging confirmation","title for board section merging confirmation"),onDismiss:i,footer:Object(u.jsx)(c.e,{display:"flex",justifyContent:"end",children:Object(u.jsxs)(c.g,{children:[Object(u.jsx)(c.f,{inline:!0,onClick:i,text:o.a._("Cancel")}),Object(u.jsx)(c.f,{color:"red",inline:!0,onClick:n,text:o.a._("Move Pins and delete section","button for merging a board section","button for merging a board section")})]})}),children:Object(u.jsx)(c.e,{padding:8,children:Object(u.jsx)(c.Y,{children:Object(s.b)(o.a._("You're about to move all Pins from your {{ sourceName }} section to your {{ targetName }} section.","helper text for section merge confirmation modal","helper text for section merge confirmation modal"),{sourceName:Object(u.jsx)(c.Y,{inline:!0,weight:"bold",children:e.title},"source"),targetName:Object(u.jsx)(c.Y,{inline:!0,weight:"bold",children:t.title},"target")})})})})}var Ne=n("pC0d"),Fe=n("juW8");function Ue({actions:e,board:t,boardSection:n,bulkEditSelectedPins:i,currentModal:r,groupPinsData:o,inSelectAll:a,onClearModal:s,mergeConfirmationModalProps:c}){var d,l;const{completeCreateSectionAction:f,completeMoveAction:g,onBoardArchiveChange:m,onBoardDelete:j,onBoardLeave:v,onBoardSectionDelete:O,onBoardSectionSave:_,onCollaboratorInviteClick:w,onConfirmMergeSection:S,onCopyPinsToBoard:C,onDeletePins:I,onBoardMerge:E}=e;switch(r){case Fe.a.boardArchiveConfirmation:return m?Object(u.jsx)(h,{shouldArchive:!0,board:t,onClose:s,onConfirm:m}):null;case Fe.a.boardUnarchiveConfirmation:return m?Object(u.jsx)(h,{shouldArchive:!1,board:t,onClose:s,onConfirm:m}):null;case Fe.a.boardEdit:return Object(u.jsx)(p.a,{boardId:t.id,onBoardArchiveChange:m,onBoardDelete:j,onBoardLeave:v,onClose:s,onCollaboratorInviteClick:w});case Fe.a.bulkDelete:return I?Object(u.jsx)(P,{pinCountToDelete:i&&i.length||0,onCompleteBulkDelete:I,onClearModal:s}):null;case Fe.a.bulkCopy:return C?Object(u.jsx)(B,{currentBoardId:t.id,onCopyToBoard:C,onClearModal:s,pinCountToCopy:i&&i.length||0}):null;case Fe.a.collaboratorsAndPermissions:return Object(u.jsx)(b.a,{board:t,onDismiss:s});case Fe.a.editSection:return n?Object(u.jsx)(Ae,{board:t,boardSection:n,onClearModal:s,onDeleteSection:O,onSaveSection:_}):null;case Fe.a.mergeBoard:return E?Object(u.jsx)(x.a,{onCancel:s,onSubmit:E,sourceBoardId:t.id}):null;case Fe.a.createSection:case Fe.a.moveSection:return!!i&&!!g&&Object(u.jsx)(ge,{board:t,boardSection:n,inSelectAll:a,selectedPinIds:i,showCreateOnly:r===Fe.a.createSection,onClearModal:s,onCompleteMove:g});case Fe.a.sectionMergeConfirm:return c&&S?Object(u.jsx)(Le,{onCancel:s,onConfirm:S,source:c.source,target:c.target}):null;case Fe.a.followers:return Object(u.jsx)(y,{boardId:t.id,onDismiss:s,followersCount:null!==(d=t.follower_count)&&void 0!==d?d:0});case Fe.a.pincode:return Object(u.jsx)(me.a,{onHide:s,objectId:t.id,children:Object(u.jsx)(T,{boardId:t.id,customizable:!(null===(l=t.owner)||void 0===l||!l.is_partner)})});case Fe.a.jumpstartBoard:return Object(u.jsx)(X,{board:t,onDismiss:s});case Fe.a.simpleCreateSection:return f?Object(u.jsx)(je.a,{selectedBoard:t,onClose:s,onSectionCreate:f}):null;case Fe.a.groupPins:return Object(u.jsx)(Ne.a,{boardId:t.id,clusterId:null==o?void 0:o.clusterId,suggestedSectionTitle:(null==o?void 0:o.suggestedSectionName)||"",onDismiss:s});default:return null}}},fOPN:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_SOURCE="dnd-core/ADD_SOURCE",t.ADD_TARGET="dnd-core/ADD_TARGET",t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",t.REMOVE_TARGET="dnd-core/REMOVE_TARGET",t.addSource=function(e){return{type:t.ADD_SOURCE,payload:{sourceId:e}}},t.addTarget=function(e){return{type:t.ADD_TARGET,payload:{targetId:e}}},t.removeSource=function(e){return{type:t.REMOVE_SOURCE,payload:{sourceId:e}}},t.removeTarget=function(e){return{type:t.REMOVE_TARGET,payload:{targetId:e}}}},fZ0m:function(e,t,n){const i={get(e){const t="gplus";n.e("ScriptCommon").then(n.bind(null,"6tKR")).then(({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,()=>{e(window.gapi)})})}};t.a=i},fZG9:function(e,t,n){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j}));var i=n("bNC6"),r=n("HMdf"),o=n("+lzj"),a=n("SyXB"),s=n("nEAA");const c=(e,t)=>(e||[]).reduce((e,n)=>({...e,["experiment."+n]:Object(s.d)(t(n))}),{}),d=(e,t)=>"number"==typeof t?e(t):null,l=e=>e.reduce((e,t)=>e+t,0),u=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),h=e=>{if(!e.length)return{};const t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{const r=t||e;return{startTime:e,requestStart:r,responseStart:n||r,responseEnd:i}}),n=l(t.map(e=>e.requestStart-e.startTime)),i=l(t.map(e=>e.responseStart-e.requestStart)),r=l(t.map(e=>e.responseEnd-e.responseStart)),o=n+i+r,a=l(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:Object(s.b)((c=a,Number(Number(c/1024).toFixed(3)))),"duration.all":Object(s.b)(o),"duration.requestStartToResponseStart":Object(s.b)(i),"duration.responseStartToResponseEnd":Object(s.b)(r),"duration.startToRequestStart":Object(s.b)(n)};var c},b=e=>{const t=e.filter(e=>!!e.responseEnd);return{...e.length?{...h(t),"count.completed":Object(s.b)(t.length)}:{},"count.all":Object(s.b)(e.length)}},p=e=>{const t=e.reduce((e,t)=>(e[t.category]=(e[t.category]||[]).concat([t]),e),{}),n={script:t.script,script_deferred:e.filter(e=>e.isDeferred),external:e.filter(e=>e.isExternal),css:t.css,image:t.image,video:t.video,xmlhttprequest:t.xmlhttprequest,visually_complete:e.filter(e=>e.isVisuallyCompleteRequired)};return Object.keys(n).reduce((e,t)=>({...e,...u(`resource.${t}.`,b((n[t]||[]).map(e=>e.timing)))}),{})},f=(e,t)=>{const{devicePixelRatio:n,navigator:r,innerWidth:o,innerHeight:a}=window,{deviceMemory:c,hardwareConcurrency:d,platform:l,userAgent:u}=r,{appType:h,appVersion:b,browserName:p,browserVersion:f,deviceType:g,isAppShell:m,isAuthenticated:j,isBot:v,isSocialBot:O,locale:y,osName:x,stageName:_}=t,w="desktop"===g?h||5:h||6;let S;const{navigationType:C}=e;return S="initial_app_load"===C?1:4,{"app.type":Object(s.c)(w),"app.version":Object(s.d)(b),"browser.name":Object(s.d)(p),"browser.version":Object(s.d)(f),"cpu.speed":Object(s.c)(d),"device.memory":Object(s.c)(c),"device.type":Object(s.c)(0),"device.typeName":Object(s.d)(g),"device.version":Object(s.d)("unknown"),"pwt.cause":Object(s.c)(S),"pwt.result":Object(s.c)(1),"view.type":Object(s.b)(0),"viewport.height":Object(s.b)(a||0),"viewport.width":Object(s.b)(o||0),devicePixelRatio:Object(s.b)(n||0),isAppShell:Object(s.a)(m),isAuthenticated:Object(s.a)(j),isBot:Object(s.a)(v),isSocialBot:Object(s.a)(O),locale:Object(s.d)(y),osName:Object(s.d)(x),platform:Object(s.d)(l||null),profilerVersion:Object(s.d)("3"),pwtActionName:Object(s.c)(Object(i.a)(e)),stageName:Object(s.d)(_),userAgent:Object(s.d)(u)}},g=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:o=[]})=>{let a={};{const{connection:e,hardwareConcurrency:t,deviceMemory:n}=window.navigator;a={"net.effectiveType":Object(s.d)((null==e?void 0:e.effectiveType)||null),"net.rtt":Object(s.b)(d(e=>10*Math.round(e/10),null==e?void 0:e.rtt)),"net.speed":Object(s.b)(Object(r.b)(o,!1)),"cpu.threads":Object(s.c)(t),"memory.size":Object(s.b)(n)}}return{...c(e,n.getExperimentGroup),...f(t,n),...i,...a,stopwatchVersion:Object(s.c)(1)}},m=(e,t,n)=>{var i;const{navigator:c}=window,{connection:u,serviceWorker:h}=c,{surface:b,navigationType:p,isAuthenticated:f}=e,{cumulativeLayoutShiftScore:g,longTaskDurations:m}=Object(o.e)();return{...m.length?{"longTask.count":Object(s.b)(m.length),"longTask.maxDuration":Object(s.b)(Math.max(...m)),"longTask.totalDuration":Object(s.b)(l(m))}:{},cumulativeLayoutShiftScore:Object(s.b)(100*g),"masonry.paginationMarkCount":Object(s.b)(Object(a.e)(a.a,t)),"metricId.isAuthenticated":Object(s.a)(f),"metricId.navigationType":Object(s.d)(p),"metricId.surface":Object(s.d)(b),"net.effectiveType":Object(s.d)((null==u?void 0:u.effectiveType)||null),"net.rtt":Object(s.b)(d(e=>10*Math.round(e/10),null==u?void 0:u.rtt)),"net.speed":Object(s.b)(Object(r.b)(n)),resourceBufferClearedCount:Object(s.c)(Object(a.e)("resourceBufferCleared",t)),scrollDuringLayout:Object(s.a)(Object(a.f)("scrollDuringLayout",t)),serviceWorker:Object(s.a)(h?!!h.controller:null),serviceWorkerState:Object(s.d)((null==h||null===(i=h.controller)||void 0===i?void 0:i.state)||null)}},j=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:r,pwtEndTime:o,pwtStaticContext:a})=>({...t,...p(r),...c(e,a.getExperimentGroup),...f(i,a),...m(i,o,n)})},fZbY:function(e,t,n){const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.a=e=>i.test(e)},fc1g:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),r=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},fevN:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=n("Ye/N"),o=n("rYoy"),a=n("n6mq"),s=n("nKUr");const c=Object(i.lazy)(()=>Promise.all([n.e("f06f654e5273bcad57d5351db3b657784f5be618"),n.e("SendObjectWrapperCommon")]).then(n.bind(null,"geGc")));function d(e){return Object(s.jsx)(o.a,{fallback:Object(s.jsx)(a.e,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2,children:Object(s.jsx)(a.R,{accessibilityLabel:r.a._("Loading sharing","Accessibility label for loading sharing UI","Accessibility label for loading sharing UI"),show:!0})}),children:Object(s.jsx)(c,{...e})})}},fhMV:function(e,t,n){n.d(t,"a",(function(){return P}));var i=n("q1tI"),r=n("Ye/N"),o=n("dH2W"),a=n("nKUr");const s="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",c="#e60023",d="0 0 222 222";function l({size:e}){return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:d,children:Object(a.jsx)("path",{d:s,fill:c,fillRule:"evenodd"})})}var u=n("n6mq");function h({getThumbnailImageSrcSet:e,images:t,onTouch:n}){return Object(a.jsx)(u.e,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map((t,i)=>Object(a.jsx)(u.e,{padding:1,children:Object(a.jsx)(u.i,{children:Object(a.jsx)(u.X,{fullWidth:!1,onTap:()=>n("logo"===t?"logo":i-1),rounding:2,children:Object(a.jsx)(u.B,{rounding:"circle",width:85,height:85,children:"logo"===t?Object(a.jsx)(l,{size:85}):Object(a.jsx)(u.w,{alt:r.a._("Pincode Hero Image","accessibility label for the Pincode hero image","accessibility label for the Pincode hero image"),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:t.height,naturalWidth:t.width,src:t.url,srcSet:e&&e(t.url)})})})})},"logo"===t?t:t.url))})}var b=n("w70y");const p="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(`\n  <svg xmlns="http://www.w3.org/2000/svg" width="${f||222}" height="${f||222}" x="${g||0}" y="${g||0}" viewBox="0 0 222 222">\n    <path d="${s}" fill="#e60023" fill-rule="evenodd" />\n  </svg>`.trim());var f,g;const m=600;function j(e,t,n){return`\n    <image id="image"\n      x="${100+("right"===t?300:0)}"\n      y="${100+("bottom"===n?300:0)}"\n      width="${m/("row"===t?1:2)}"\n      height="${m/("column"===n?1:2)}"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="${e}"\n      preserveAspectRatio="xMidYMid slice"\n    />`}function v(e,t){const n=function(e){switch(e.length){case 0:case 1:return;case 2:return[j(e[0],"left","column"),j(e[1],"right","column")].join("");case 3:return[j(e[0],"left","column"),j(e[1],"right","top"),j(e[2],"right","bottom")].join("");default:return[j(e[0],"left","top"),j(e[1],"right","top"),j(e[2],"left","bottom"),j(e[3],"right","bottom")].join("")}}(t);return n?e.replace(/<image[^>]*>/,n):e}class O extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(n="handleFetchChange")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){const{className:e,imageUrls:t,size:n,pincodeImageResource:{data:i,isLoaded:o}}=this.props,s=n,c=n;return Object(a.jsxs)(u.e,{display:"flex",justifyContent:"center",alignItems:"center",width:s,height:c,children:[o&&!!i&&Object(a.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:v(i,t)},style:{width:s,height:c}}),Object(a.jsx)(u.R,{accessibilityLabel:r.a._("Loading Pincode Image","accessibility label for loading the Pincode image","accessibility label for loading the Pincode image"),show:!i})]})}}var y=Object(b.b)({name:"PincodeImageResource",key:"pincodeImageResource",options:({id:e,imageUrls:t})=>({object_id:e,hero_image_url:t[0]||p})})(O),x=n("U4JR");function _(e){return new Promise((t,n)=>{const i=new XMLHttpRequest;i.ontimeout=n,i.onreadystatechange=()=>{if(4!==i.readyState)return;if(200!==i.status)return void n();const e=new FileReader;e.onloadend=()=>{const i=e.result;"string"==typeof i?t(i.split(/,/)[1]):n()},e.readAsDataURL(i.response)},i.open("GET",e,!0),i.timeout=3e4,i.responseType="blob",i.send()})}function w(e,t){if(!(e instanceof Element))return Promise.resolve(e);if(e instanceof window.SVGImageElement)return function(e,t){const n=e.href.baseVal;if(n.startsWith("data:"))return Promise.resolve();const i=t?t(n):n;return Promise.resolve(i).then(_).then(e=>`data:${function(e){const t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(i)};base64,${e}`).then(t=>new Promise((n,i)=>{e.onerror=i,e.href.baseVal=t,window.requestAnimationFrame(n)}))}(e,t);const n=Array.from(e.childNodes);return Promise.all(n.map(e=>w(e,t)))}function S(e,t){return new Promise((n,i)=>{const r=document.createElement("div");r.innerHTML=e.innerHTML,w(r,t).then(()=>{const t=new Image;t.onload=()=>{window.requestAnimationFrame(()=>n(t))},t.onerror=i;const o=r&&r.querySelector("svg");o&&(/^[0-9]+$/.test(o.getAttribute("width")||"")||o.setAttribute("width",""+e.scrollWidth),/^[0-9]+$/.test(o.getAttribute("height")||"")||o.setAttribute("height",""+e.scrollHeight));const a=r.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a.trim())})})}function C(e,t){return new Promise((n,i)=>{(function(e){return new Promise((t,n)=>{if(e.toBlob)return void e.toBlob(t);let i="";try{i=e.toDataURL("image/png")}catch(s){n()}const r=window.atob(i.split(",")[1]),o=r.length,a=new Uint8Array(o);for(let e=0;e<o;e+=1)a[e]=r.charCodeAt(e);t(new window.Blob([a],{type:"image/png"}))})})(e).then(e=>window.URL.createObjectURL(e)).then(e=>{const i=document.createElement("a");i.download=t,i.href=e,i.style.display="none",window.document.body.appendChild(i),window.requestAnimationFrame(()=>{const t=()=>{window.requestAnimationFrame(()=>{window.URL.revokeObjectURL(e),i.removeAttribute("href"),i.removeEventListener("click",t),window.document.body.removeChild(i),n()})};i.addEventListener("click",t),i.click()})}).catch(i)})}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E="pincodeMain",T="pincodeCTA";class P extends i.PureComponent{constructor(...e){super(...e),I(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),I(this,"getCustomHeroImages",()=>{const{images:e,customizable:t}=this.props,{pickedImageIndex:n}=this.state;if(!t)return e;const i="logo"!==n&&e[n];return i?[i]:[]}),I(this,"normalizeUrl",e=>{const{getMainImageURL:t}=this.props;return(e=>e.replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/"))((t||(e=>e))(e))}),I(this,"handleFetchChange",e=>{this.setState({isFetchingPincodeImage:e})}),I(this,"handleCancelButtonClick",()=>this.setState({isPickingHeroImage:!1})),I(this,"handleEditButtonClick",()=>this.setState({isPickingHeroImage:!0})),I(this,"handleSelectImage",e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e})),I(this,"downloadPincodeImage",()=>{const e=this.previewNode,{ctaIsLoaded:t,isFetchingPincodeImage:n,isDownloading:i}=this.state;if(!e||!t||n||i)return;const r=e.querySelector(".pincodeMain"),o=e.querySelector(".pincodeCTA");if(!r||!o)return;const{getDownloadImageURL:a,id:s}=this.props;Object(x.b)(7078,{component:13141,objectId:s}),this.setState({isDownloading:!0}),Promise.all([S(r,a),S(o)]).then(e=>{const[t,n]=e;return((e,t)=>{const n=document.createElement("canvas");n.width=3544,n.height=3544;const i=Math.round(.1*n.width),r=Math.round(.05*n.width),o=n.width-2*i,a=n.width-2*r,s=n.height-o,[c,d]=t.width/t.height>a/s?[a,a/t.width*t.height]:[s/t.height*t.width,s],l=n.getContext("2d");return l.fillStyle="#fff",l.fillRect(0,0,n.width,n.height),l.drawImage(e,i,0,o,o),l.drawImage(t,(n.width-c)/2,o+(n.height-o-d)/2,c,d),n})(t,n)}).then(e=>C(e,`pincode_${this.props.id}.png`)).then(()=>{this.setState({isDownloading:!1})}).catch(()=>{this.setState({errorFlyoutIsOpen:!0})})})}render(){const{id:e,isLoadingImages:t,images:n,getThumbnailImageSrcSet:i,customizable:s}=this.props,{ctaIsLoaded:c,errorFlyoutIsOpen:d,isFetchingPincodeImage:l,isDownloading:b,isPickingHeroImage:p}=this.state;return p?Object(a.jsx)(u.e,{width:350,color:"white",rounding:2,padding:4,children:Object(a.jsxs)(u.e,{children:[Object(a.jsx)(u.e,{paddingY:1,children:Object(a.jsx)(u.t,{size:"md",truncate:!0,children:r.a._("Change Image","Title of the Pincode hero image picker modal","Title of the Pincode hero image picker modal")})}),Object(a.jsx)(u.o,{}),Object(a.jsx)(h,{images:n,getThumbnailImageSrcSet:i,onTouch:this.handleSelectImage}),Object(a.jsx)(u.e,{padding:1,children:Object(a.jsx)(u.f,{text:r.a._("Cancel","Button to dismiss Pincode hero image picker","Button to dismiss Pincode hero image picker"),onClick:this.handleCancelButtonClick})})]})}):Object(a.jsx)(u.e,{width:350,color:"white",rounding:2,marginBottom:4,paddingX:4,children:Object(a.jsxs)(u.e,{children:[Object(a.jsx)(u.e,{ref:e=>{this.previewNode=e},children:Object(a.jsxs)(u.e,{color:"white",display:"flex",direction:"column",alignItems:"center",justifyContent:"center",width:"100%",height:320,children:[t?Object(a.jsx)(u.e,{width:"100%",height:230,display:"flex",justifyContent:"center",alignItems:"center",children:Object(a.jsx)(u.R,{accessibilityLabel:r.a._("Loading","accessibility label for loading spinner","accessibility label for loading spinner"),show:!0})}):Object(a.jsx)(y,{className:E,id:e,imageUrls:this.getCustomHeroImages().map(e=>this.normalizeUrl(e.url)),onFetchingChange:this.handleFetchChange,size:230}),Object(a.jsx)(u.e,{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:7,marginTop:2,children:Object(a.jsx)("div",{className:T,children:Object(a.jsx)(o.default,{onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300,height:78})})})]})}),Object(a.jsxs)(u.e,{marginTop:2,padding:1,children:[s&&n.length>0&&Object(a.jsx)(u.e,{paddingY:1,children:Object(a.jsx)(u.f,{text:r.a._("Change Image","Button to pick Pincode hero image","Button to pick Pincode hero image"),onClick:this.handleEditButtonClick})}),Object(a.jsxs)(u.e,{paddingY:1,children:[Object(a.jsx)(u.e,{ref:e=>{this.downloadButton=e},children:Object(a.jsx)(u.f,{text:r.a._("Download Pincode","Button to download the Pincode image","Button to download the Pincode image"),color:"red",onClick:this.downloadPincodeImage,disabled:t||!c||l||b})}),d&&Object(a.jsx)(u.I,{anchor:this.downloadButton,color:"red",idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),size:"sm",shouldFocus:!1,children:Object(a.jsx)(u.e,{padding:3,children:Object(a.jsx)(u.Y,{color:"white",weight:"bold",children:Object(a.jsx)("span",{children:r.a._("Oops! Your browser does not support downloading Pincodes.","Error message shown when user attempts to download Pincode on a browser not supported","Error message shown when user attempts to download Pincode on a browser not supported")})})})})]})]})]})})}}},fhk9:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}));const i={type:"OPEN_CONVERSATIONS_DROPDOWN"},r={type:"CLOSE_CONVERSATIONS_DROPDOWN"},o=e=>({updateBadgeCount:t=>{e({type:"UPDATE_BADGE_COUNT",payload:t})}}),a=e=>({openConversationsDropdown:()=>e(i),closeConversationsDropdown:()=>e(r)})},flQA:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=-1;function r(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},fpRd:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI").memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var i=new Image;i.src=n,i.onload=function(){return t(i)}}return null}));i.displayName="DragPreviewImage",t.default=i},"g/XF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("JW66"),r=n("zwad"),o=n("n6mq"),a=n("nKUr");function s({url:e,description:t,color:n}){return n=n||i.a.DEFAULT_IMAGELESS_PIN_COLOR,Object(a.jsx)(o.e,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:n}},children:Object(a.jsxs)(o.e,{maxHeight:200,padding:4,overflow:"hidden",children:[e&&Object(a.jsx)(o.e,{marginBottom:2,children:Object(a.jsx)(o.Y,{color:"white",size:"sm",children:r.a.parse(e).hostname||e})}),Object(a.jsx)(o.e,{maxHeight:144,children:Object(a.jsx)(o.Y,{color:"white",overflow:"normal",weight:"bold",children:t})})]})})}},gC5q:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("YO3V"),r=n.n(i);function o(e,t=!1){return n=>{if(!r()(n))return t&&Array.isArray(n)?n.map(o(e,t)):n;const i={};return Object.keys(n).forEach(a=>{const s=e(n[a],a);r()(n[a])||t&&Array.isArray(n[a])?i[s]=o(e,t)(n[a]):i[s]=n[a]}),i}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>o(n,t)(e)}function s(e={},t=[]){return Object.keys(e).reduce((n,i)=>t.includes(i)?n:{...n,[i]:e[i]},{})}},gONw:function(e,t,n){var i=n("q1tI"),r=n("n6mq"),o=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{isHovering:!1}),a(this,"onHover",()=>{this.setState({isHovering:!0})}),a(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:i}=this.props;return i?Object(o.jsxs)(r.e,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover,children:[Object(o.jsx)(r.e,{children:Object(o.jsx)(r.B,{height:40,width:40,rounding:2,children:this.state.isHovering&&n?Object(o.jsx)(r.w,{alt:"",color:"",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):Object(o.jsx)(r.e,{color:"lightGray",height:40,width:40})})}),Object(o.jsx)(r.e,{padding:2,children:Object(o.jsx)(r.t,{size:"sm",children:e})})]}):Object(o.jsxs)(r.e,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[Object(o.jsx)(r.e,{children:Object(o.jsx)(r.u,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})}),Object(o.jsx)(r.e,{marginStart:3,children:Object(o.jsx)(r.Y,{color:t?"darkGray":"gray",weight:"bold",children:e})})]})}}var c=n("Ye/N"),d=n("w70y"),l=n("U4JR"),u=n("seP0");t.a=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:n,image:a,minHeight:h,onBoardSelected:b})=>{const[p,f]=Object(i.useState)(-1),g=Object(u.c)(),{data:m=[],error:j,isLoaded:v}=Object(d.a)({name:"BoardTitleSuggestionsResource",options:{pin_id:n}}),O=(y=m,Object(i.useMemo)(()=>y&&y.length?y.map(e=>e.title):[],[y]));var y;Object(i.useEffect)(()=>{v&&t&&g&&(j?g.error():g.stop())},[v]);const x=()=>{f(-1)},_=(t,n)=>{const i=p===n;return Object(o.jsx)("li",{children:Object(o.jsx)(r.X,{onMouseEnter:()=>(e=>{f(e)})(n),onMouseLeave:x,onTap:()=>(e=>{b(O[e],!1),Object(l.b)(101,{component:13025,element:23})})(n),children:Object(o.jsx)(s,{selected:i,name:t,inFlyoutExp:e,image:a})})},n)};return v?O&&O.length?e?Object(o.jsx)("div",{children:Object(o.jsx)("ul",{children:O.map(_)})}):t?Object(o.jsxs)(r.e,{children:[Object(o.jsx)(r.e,{marginTop:5,marginStart:6,marginBottom:3,children:Object(o.jsx)(r.Y,{children:c.a._("Suggested board names","text above suggested board names list","text above suggested board names list")})}),Object(o.jsx)("ul",{children:O.map(_)})]}):Object(o.jsxs)(r.e,{children:[Object(o.jsx)(r.e,{marginTop:2,paddingX:5,children:Object(o.jsx)(r.Y,{children:c.a._("Suggested board names")})}),Object(o.jsx)("ul",{children:O.map(_)})]}):null:Object(o.jsx)(r.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:h||"",children:Object(o.jsx)(r.R,{accessibilityLabel:c.a._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0})})}},gdcG:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("2WXK"),r=n("nKUr");function o(e){return function(t){const{isHovering:n,hoverHandlers:o}=Object(i.a)();return Object(r.jsx)(e,{...t,hoverHandlers:o,isHovering:n})}}},geGc:function(e,t,n){n.r(t),n.d(t,"default",(function(){return ve}));var i=n("q1tI"),r=n("/MKj"),o=n("Ye/N"),a=n("FDmi"),s=n("oVol"),c=n("n6mq"),d=n("nKUr");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),l(this,"state",{textValue:this.props.initialTextValue||""}),l(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),l(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,i=this.props.recipient||{},r="conversation_share_suggestion"===i.type,s=r?(i.users||[]).filter(e=>e.id!==n):[];return Object(d.jsxs)(c.e,{paddingX:4,width:360,children:[Object(d.jsxs)(c.e,{alignItems:"center",display:"flex",paddingY:4,children:[Object(d.jsx)(c.e,{height:48,paddingX:1,width:56,children:r?Object(d.jsx)(c.s,{collaborators:s.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):Object(d.jsx)(a.a,{name:i.full_name||i.email||" ",src:i.image_large_url})}),Object(d.jsxs)(c.e,{direction:"column",flex:"grow",marginStart:1,children:[Object(d.jsx)(c.Y,{weight:"bold",children:r?s.map(e=>e.first_name||e.full_name).join(", "):i.full_name||i.email}),Object(d.jsx)(c.Y,{color:"gray",size:"sm",children:r||i.username?i.username:o.a._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),e?Object(d.jsx)(c.v,{accessibilityLabel:o.a._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null]}),Object(d.jsxs)(c.e,{children:[Object(d.jsx)(c.e,{paddingX:1,children:Object(d.jsx)(c.Z,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),Object(d.jsx)(c.e,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:Object(d.jsx)(c.f,{color:"red",inline:!0,onClick:this.handleSendMessage,size:"lg",text:o.a._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}var h=Object(r.connect)((function({viewer:e}){return{viewerId:e.isAuth?e.id:""}}),()=>({}))(u),b=n("fZbY");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),p(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),p(this,"handleSendEmail",(e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}}),p(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),p(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return Object(d.jsxs)(c.e,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[Object(d.jsxs)(c.e,{display:"flex",alignItems:"center",paddingY:4,children:[Object(d.jsx)(c.e,{flex:"grow",children:Object(d.jsx)(c.Y,{weight:"bold",children:o.a._("Send to","shareSheet.SendToEmail.label","Send to label")})}),e?Object(d.jsx)(c.v,{accessibilityLabel:o.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null]}),Object(d.jsxs)(c.e,{display:"flex",direction:"column",children:[Object(d.jsx)(c.e,{paddingY:1,marginBottom:4,children:Object(d.jsx)(c.Z,{id:"email",onChange:this.handleEmailValueChange,placeholder:o.a._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),Object(d.jsx)(c.Z,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),Object(d.jsx)(c.e,{paddingY:4,display:"flex",justifyContent:"center",children:Object(d.jsx)(c.f,{inline:!0,size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:o.a._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(b.a)(this.state.emailValue)})})]})]})}}var g=n("vvax");function m({email:e,isValid:t,onClick:n,showSendEmailText:i}){const r=t?o.a._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):o.a._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),s=i?Object(g.b)(o.a._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(g.b)(o.a._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return Object(d.jsx)(c.e,{marginBottom:4,children:Object(d.jsx)(c.X,{onTap:()=>{t&&n()},children:Object(d.jsxs)(c.e,{display:"flex",children:[Object(d.jsx)(c.e,{height:48,width:48,children:Object(d.jsx)(a.a,{name:e})}),Object(d.jsxs)(c.e,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[Object(d.jsx)(c.Y,{weight:"bold",size:"lg",children:s}),Object(d.jsx)(c.Y,{size:"sm",color:"gray",children:r})]})]})})})}var j=n("iS6d"),v=n("w1Xl"),O=n("8vQR"),y=n("4cpq");function x(e){const{shouldShowViewChat:t,isSent:n,onClickSend:i,onViewConversation:r}=e;return Object(d.jsx)(c.e,{display:"flex",children:t?Object(d.jsx)(c.X,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),r()},children:Object(d.jsxs)(c.e,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[Object(d.jsx)(c.Y,{color:"darkGray",size:"md",truncate:!0,weight:"bold",children:o.a._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),Object(d.jsx)(c.e,{marginStart:1,children:Object(d.jsx)(c.u,{accessibilityLabel:o.a._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):Object(d.jsx)(y.a,{id:n?"sharesheet-viewchat-link":"sharesheet-send-button",children:Object(d.jsx)(c.f,{color:n?"gray":"red",disabled:n,inline:!0,onClick:i,size:"lg",text:n?o.a._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):o.a._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var _=n("U4JR");function w(e){var t,n,o;const{item:s,textFieldValue:l,onSendMessage:u,onShowSendDraft:h,onViewConversation:b,sentHistory:p}=e,[f,g]=Object(i.useState)(!1),[m,y]=Object(i.useState)(!1),[w,S]=Object(i.useState)(!1),C=s.id||"string"==typeof s.email&&s.email||"",I=C in p,E=""!==l,T=null!==(t=p[C])&&void 0!==t?t:"",P=Object(r.useSelector)(e=>e.viewer.id||""),D="conversation_share_suggestion"===s.type,k=D?(s.users||[]).filter(e=>e.id!==P):[],B=s.debug_reason&&s.debug_reason.readable_reason;let M="";"string"!=typeof s.full_name||s.full_name.match(/^\s*$/)?"string"!=typeof s.email||s.email.match(/^\s*$/)||(M=s.email):M=s.full_name;return f?Object(d.jsx)(c.e,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:Object(d.jsx)(v.a,{identifier:null!==(n=s.id)&&void 0!==n?n:s.email,onUndoHide:()=>g(!1),component:13029,element:11918,isGroupChat:k.length>1})}):Object(d.jsxs)(c.e,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[Object(d.jsx)(c.X,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),h(s)},children:Object(d.jsx)(c.i,{onMouseEnter:()=>{y(!(E||w&&I))},onMouseLeave:()=>y(!1),children:Object(d.jsxs)(c.e,{alignItems:"center",display:"flex",children:[Object(d.jsx)(c.e,{height:48,width:48,children:D?Object(d.jsx)(c.s,{collaborators:k.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):Object(d.jsx)(a.a,{accessibilityLabel:"",name:M,src:s.image_medium_url})}),Object(d.jsxs)(c.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"100%",children:[Object(d.jsxs)(c.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[Object(d.jsx)(c.e,{marginBottom:1,children:Object(d.jsx)(c.Y,{color:"darkGray",truncate:!0,weight:"bold",children:D?k.map(e=>e.first_name||e.full_name).join(", "):M})}),E&&B?Object(d.jsx)(c.Y,{color:"gray",size:"sm",children:B}):"string"==typeof s.username&&Object(d.jsx)(c.Y,{color:"gray",size:"sm",children:s.username})]}),Object(d.jsxs)(c.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:[m&&Object(d.jsx)(c.e,{display:"flex",marginEnd:2,children:Object(d.jsx)(O.a,{identifier:null!==(o=s.id)&&void 0!==o?o:s.email,onHide:()=>g(!0),component:13029,element:11917})}),Object(d.jsx)(x,{shouldShowViewChat:I,isSent:w,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,i=l?1044:1039;Object(_.b)(101,{component:13029,element:i,entered_query:l,result_index:n+1,rs:null===(t=s.debug_reason)||void 0===t?void 0:t.reason})})(),S(!0),u(s),y(!1)},onViewConversation:()=>b(T)})]})]})]})})}),Object(d.jsx)(j.a.Consumer,{children:e=>{var t;return e?Object(d.jsx)(c.e,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:Object(d.jsx)(c.t,{color:"blue",size:"sm",children:null===(t=s.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var S=n("ANjH"),C=n("ZdHo"),I=n("fhk9"),E=n("w70y");var T=Object(S.compose)(Object(E.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"},allowStale:!1}),Object(E.b)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||"default"}),allowStale:!1}))((function(e){const{onChange:t,onSendMessage:n,onShowSendDraft:a,onShowImportContacts:s,sentHistory:l,value:u,shareSuggestionsResource:{isLoaded:h},shareSuggestionsTypeaheadResource:{isLoaded:p},paddingX:f}=e,g=Object(r.useSelector)(e=>e.social.shareSuggestions[u]||[]);Object(i.useEffect)(()=>{if(!u&&h){const e=g.length>0?7511:7512;Object(_.b)(e,{component:56,view:70,viewParameter:256})}},[h]);const j=Object(r.useDispatch)(),v=t=>{const{isFlyout:n,onHide:i}=e;!n&&i&&i(),(e=>{j(Object(C.e)(e))})(t),j(I.a)},O=g.map((e,t)=>{const i=`${t}-${u?"search":"suggestion"}`,r={item:e,idx:t,onSendMessage:n,onShowSendDraft:a,onViewConversation:v,sentHistory:l,textFieldValue:u};return Object(d.jsx)(w,{...r},i)}),y=0===g.length&&(""===u&&!h||""!==u&&!p);return Object(d.jsxs)(c.e,{children:[Object(d.jsx)(c.e,{display:"flex",paddingX:f,position:"relative",children:Object(d.jsx)(c.e,{"data-test-id":"sharesheet-search-user",width:"100%",children:Object(d.jsx)(c.N,{accessibilityLabel:o.a._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:t,placeholder:o.a._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u})})}),Object(d.jsx)(c.e,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:185,marginBottom:4,marginTop:2,children:Object(d.jsxs)(c.e,{paddingX:f,children:[Object(d.jsx)(c.e,{paddingY:y?2:0,children:Object(d.jsx)(c.R,{accessibilityLabel:o.a._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:y})}),Object(d.jsxs)(c.e,{children:[O,u&&Object(d.jsxs)(c.e,{children:[Object(d.jsx)(c.i,{children:Object(d.jsx)(m,{email:u,isSend:!0,isValid:Object(b.a)(u),onClick:()=>a({email:u,full_name:u}),showSendEmailText:!1})}),!y&&Object(d.jsx)(c.e,{width:"100%",children:Object(d.jsx)(c.i,{children:Object(d.jsx)(c.X,{onTap:s,children:Object(d.jsxs)(c.e,{alignItems:"center",direction:"row",display:"flex",children:[Object(d.jsx)(c.e,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:Object(d.jsx)(c.u,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),Object(d.jsx)(c.e,{paddingX:3,children:Object(d.jsx)(c.Y,{weight:"bold",children:o.a._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})})),P=n("d7ng"),D=n("ZtJp"),k=n("WM6B");var B=({text:e})=>Object(d.jsx)(c.Y,{align:"center",size:"sm",children:Object(d.jsx)(k.a,{maxWidthPx:128,maxHeightPx:50,children:e})});var M=({iconSize:e,marginEnd:t,children:n})=>Object(d.jsx)(c.e,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24,children:n});const R=()=>n.e("clipboardLibrary").then(n.t.bind(null,"sxGJ",7));var A=({onClick:e,iconColor:t,iconSize:n,backgroundColor:r,invitePath:a})=>{const[s,l]=Object(i.useState)(!1),u=Object(i.useRef)(null);return Object(i.useEffect)(()=>{R().then(({default:e})=>{e.isSupported()&&(e=>{if(!u.current||!R)return;new e(u.current,{text:()=>a}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[a]),Object(d.jsx)(M,{iconSize:n,marginEnd:!1,children:Object(d.jsxs)(c.e,{ref:u,children:[Object(d.jsx)(c.X,{onTap:()=>{e(),l(!0),setTimeout(()=>{l(!1)},3e3)},children:Object(d.jsx)(c.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:Object(d.jsx)(D.a,{backgroundColor:r,iconColor:t,size:n})})}),Object(d.jsx)(B,{text:s?o.a._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):o.a._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})})},L=n("SNfw"),N=n("K316"),F=n("TvzZ");function U({size:e=48,iconColor:t,backgroundColor:n,grayscale:i=!1}){const r=t||(i?"#333333":"#8E8E8E"),o=n||"#EFEFEF";return Object(d.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[Object(d.jsx)("circle",{fill:o,cx:"24",cy:"24",r:"24",stroke:"none"}),Object(d.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:r,children:[Object(d.jsx)("circle",{cx:"10",cy:"10",r:"6"}),Object(d.jsx)("circle",{cx:"17",cy:"3",r:"2"}),Object(d.jsx)("circle",{cx:"17",cy:"17",r:"2"}),Object(d.jsx)("circle",{cx:"19",cy:"10",r:"1"}),Object(d.jsx)("circle",{cx:"10",cy:"19",r:"1"}),Object(d.jsx)("circle",{cx:"1",cy:"10",r:"1"}),Object(d.jsx)("circle",{cx:"10",cy:"1",r:"1"}),Object(d.jsx)("circle",{cx:"3",cy:"17",r:"2"}),Object(d.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}var H=n("v/Q4");function z({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:i,backgroundColor:r}){const a=Object(H.a)();return t&&[s.a.BOARD,s.a.PINNER,s.a.USER].includes(e.type)&&a.isAuth&&(e.id===a.id||a.isEmployee)?Object(d.jsxs)(M,{iconSize:i,marginEnd:!0,children:[Object(d.jsx)(c.X,{fullWidth:!1,onTap:t,children:Object(d.jsx)(U,{backgroundColor:r,iconColor:n,size:i})}),Object(d.jsx)(B,{text:o.a._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var Y=n("mBfy"),q=n("udob");const G="#EFEFEF",W="#333333";function V({size:e=48,grayscale:t=!1}){const n=t?W:"#FFFFFF",i=t?G:"#1877f2";return Object(d.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[Object(d.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),Object(d.jsxs)("g",{id:"surface1",children:[Object(d.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),Object(d.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function K({size:e=48,grayscale:t=!1}){const n=t?W:"#FFFFFF",i=t?G:"#0DC2FF";return Object(d.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsxs)("g",{id:"surface1",children:[Object(d.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(d.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function X({size:e=48,grayscale:t=!1}){const n=t?W:"#FFFFFF",i=t?G:"#25d366";return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:Object(d.jsxs)("g",{id:"surface1",children:[Object(d.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(d.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}var $=n("nGHF");function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Q=48,J="#111111",ee="#EFEFEF",te={backgroundColor:"#ffffff",border:"none",padding:0},ne=e=>{Object(F.default)(t=>{t&&(t.getUserID()?e():t.login(()=>{e()}))},N.a)};class ie extends i.Component{constructor(...e){super(...e),Z(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),Z(this,"mounted",!1),Z(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(q.a.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}),Z(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||q.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),Z(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===s.a.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case s.a.BOARD:return o.a._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case s.a.PIN:return o.a._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case s.a.PINNER:return o.a._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);q.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+Object(P.a)(this.props.sharedObject.url)})})}checkWritePermissions(){return!!Y.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e&&(this.openEmailDialog(),t=258),this.props.onExternalSend&&this.props.onExternalSend(),Object(_.b)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){ne(()=>{q.a.shareFacebookInvite(this.getShareOptions(5))})}openFbMessengerDialog(){ne(()=>{q.a.shareFbMessengerInvite(this.getShareOptions(6))})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(q.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){q.a.shareTwitterInvite(this.getShareOptions(9))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t}=this.props;return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsxs)(c.e,{display:"flex",justifyContent:"around",children:[Object(d.jsxs)(M,{iconSize:Q,marginEnd:!0,children:[Object(d.jsx)("button",{"aria-label":o.a._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:te,tabIndex:"-1",children:Object(d.jsx)("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank",children:Object(d.jsx)(X,{size:Q})})}),Object(d.jsx)(B,{text:o.a._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),Object(d.jsxs)(M,{iconSize:Q,marginEnd:!0,children:[Object(d.jsx)("button",{"aria-label":o.a._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:te,children:Object(d.jsx)(V,{size:Q})}),Object(d.jsx)(B,{text:o.a._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),Object(d.jsxs)(M,{iconSize:Q,marginEnd:!0,children:[Object(d.jsx)("button",{"aria-label":o.a._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:te,children:Object(d.jsx)(K,{size:Q})}),Object(d.jsx)(B,{text:o.a._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),Object(d.jsx)(M,{iconSize:Q,marginEnd:!1,children:this.renderEmail()})]}),Object(d.jsxs)(c.e,{display:"flex",paddingY:4,children:[Object(d.jsx)(z,{backgroundColor:ee,iconColor:J,iconSize:Q,onCreatePincodeClick:t,sharedObject:e}),Object(d.jsx)(A,{backgroundColor:ee,iconColor:J,iconSize:Q,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink")},"copylink")]})]})}renderEmail(){return Object(d.jsxs)(M,{iconSize:Q,marginEnd:!1,children:[Object(d.jsx)(c.e,{display:"inlineBlock",children:Object(d.jsx)("button",{"aria-label":o.a._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:te,children:Object(d.jsx)(L.a,{backgroundColor:ee,iconColor:J,size:Q})})}),Object(d.jsx)(B,{text:o.a._("Email","Share via email","Share via email")})]},"email")}render(){const{sharedObject:e,paddingX:t}=this.props;return Object(d.jsxs)(c.e,{paddingX:t,children:[Object(d.jsx)(c.e,{alignContent:"center",alignItems:"center",display:"flex",height:64,justifyContent:"center",children:Object(d.jsx)(c.Y,{size:"lg",weight:"bold",children:this.getSendDisplayText(e.type)})}),Object(d.jsx)(c.e,{paddingX:2,children:this.renderShareOptions()})]})}}var re=Object(S.compose)(Object(r.connect)(({viewer:e})=>({viewer:e}),()=>({})),$.c)(ie),oe=n("7w6Q"),ae=n("eOdZ"),se=n("M1Uz");function ce(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var de=n("ENhS");const le=(e,t)=>{const n={};return e.forEach(e=>{n[e]=t}),n};var ue=Object(r.connect)(null,e=>({createConversation:t=>e(Object(C.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,n]=Object(i.useState)(!1),[r,a]=Object(i.useState)(null),[l,u]=Object(i.useState)({}),[b,p]=Object(i.useState)(""),[g]=Object(i.useState)((e=>"today_article"===e?o.a._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType)),{showOneToast:m}=Object($.b)(),{surface:j}=Object(de.b)(),v=(t,i)=>{n(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:i}=e,r=i.id;oe.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(_.b)(180,{element:276,objectId:r,conversation_id:t,pin_id:n})})(t,i)},O=e=>{oe.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&m(({onHide:e})=>Object(d.jsx)(se.a,{color:"red",duration:5e3,onHide:e,text:t}))},y=async(t,n,i)=>{const{createConversation:r,sharedObject:o,sendType:a}=e,s=o.id,c={emails:n,user_ids:t,text:i,source:ce(j)};c[a]=s;const d=ae.a.create("ConversationsResource",c);try{const e=await d.callCreate(),i=e&&e.resource_response.data;r(i),v(i.id,"pin"===a?s:null),t.length>0?u({...l,...le(t,i.id)}):u({...l,...le(n,i.id)})}catch(h){O(h)}},x=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,i)=>{const{sendMessage:r,sharedObject:o,sendType:a}=e;let s;switch(a){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const c=s?Object(C.g)(t,{text:n,[s]:o.id,source:ce(j)}):void 0;c&&(r(c),c.getPromise().then(()=>{v(t,"pin"===a?o.id:null),u({...l,[t]:t})}).catch(e=>{O(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?y([],[t.email],n):y([t.id],[],n),Object(_.b)(101,{component:56,element:276})},w=(t,n)=>{e.sendType!==s.a.SEARCH||n?x(t,n):ae.a.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e)).then(e=>{const n=e.message;x(t,n)})},S=()=>{n(!1),a(null)},{onCreatePincodeClick:I,onShowImport:E,sendType:P,sharedObject:D,isFlyout:k,onHide:B,onExternalSend:M}=e,R="email"===r?Object(d.jsx)(f,{initialTextValue:g,isFlyout:k,objectId:D.id,objectType:P,onCancelDraft:S,onHide:B,onSendMessage:w}):Object(d.jsx)(h,{initialTextValue:g,isFlyout:k,objectId:D.id,objectType:P,onCancelDraft:S,onHide:B,onSendMessage:w,recipient:"object"==typeof r?r:void 0});return t?R:Object(d.jsxs)(c.e,{color:"white",children:[Object(d.jsx)(re,{onCreatePincodeClick:I,onEmailIconClick:()=>{n(!0),a("email")},onExternalSend:M,onHide:B,paddingX:4,sharedObject:D}),Object(d.jsx)(c.e,{children:Object(d.jsx)(T,{isFlyout:k,onChange:({value:e})=>{p(e),Object(_.b)(4113,{component:13029,element:1043})},onHide:B,onSendMessage:w,onShowImportContacts:E,onShowSendDraft:e=>{n(!0),a(e),p("")},paddingX:4,sentHistory:l,value:b})})]})})),he=n("TSYQ"),be=n.n(he),pe=n("+zF7");const fe=["facebook","google"];function ge(e){return"facebook"===e?o.a._("Facebook"):"twitter"===e?o.a._("Twitter"):"google"===e?o.a._("Google"):o.a._("Other")}function me(e){const t=be()("sendShare",e.network),n=(i=e.network,r=e.email,"facebook"===i?o.a._("Friends who are on Pinterest"):"google"===i&&r&&-1!==r.indexOf("@gmail")?r:null);var i,r;return Object(d.jsx)("a",{onClick:e.onClick,role:"button",children:Object(d.jsxs)("div",{className:t,children:[Object(d.jsx)("em",{className:"icon"}),Object(d.jsxs)("div",{className:"networkInfo",children:[Object(d.jsx)("h4",{className:"title",children:ge(e.network)}),n?Object(d.jsx)("div",{className:"subtitle",children:n}):null]})]})})}function je({onBack:e}){const t=Object(H.a)(),n=t.isAuth?t.email:null,i=fe.filter(e=>!t.isAuth||!1===t.socialNetwork[e].connected);return Object(d.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("div",{className:"backNav",children:Object(d.jsxs)("a",{onClick:e,role:"button",children:[Object(d.jsx)("span",{className:"icon"}),Object(d.jsx)("span",{className:"label",children:o.a._("Back")})]})}),Object(d.jsx)("div",{className:"prompt",children:o.a._("Upload contacts from...")})]}),Object(d.jsx)("ul",{className:"socialConnectOptions",children:i.map(e=>Object(d.jsx)("li",{style:{borderLeft:"none"},children:Object(d.jsx)(me,{email:n,network:e,onClick:()=>function(e){pe.a.instance().handleConnect(e,!0,{})}(e)})},e))})]})}function ve({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:r,onHide:o,sendType:a,sharedObject:s,viewType:l,viewParameter:u}){const[h,b]=Object(i.useState)(!1),[p,f]=Object(i.useState)(!1);Object(i.useEffect)(()=>(Object(_.b)(7120,{objectId:s.id,view:l,viewParameter:u}),()=>{Object(_.b)(7121,{objectId:s.id,view:l,viewParameter:u});const e=p?7493:7492;Object(_.b)(e,{view:l,viewParameter:u})}),[]);const g=()=>{b(!0)},m=()=>{b(!1)},j=()=>{f(!0)};return h?(()=>{const e=t?"Module SendObjectBase sendShare":"";return Object(d.jsx)("div",{className:e,children:Object(d.jsx)(je,{onBack:m})})})():Object(d.jsx)(c.e,{overflow:"hidden",children:Object(d.jsx)(ue,{isFlyout:t,onCreatePincodeClick:n,onHide:o,onShowImport:g,onMessageSent:j,onExternalSend:r,sendType:a,sharedObject:s})})}},gmhe:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("7pfs"),r=n("zwad"),o=n("gqRH"),a=n("fJfT"),s=n("n6mq"),c=n("nKUr");function d({children:e,onClick:t,rounding:n=2,url:d,target:l}){const u=r.a.isOffsiteUrl(d),h=Object(o.b)({href:d||"",onHistoryChange:u?void 0:a.e,target:l}),b=d?Object(c.jsx)(s.X,{href:d,onTap:({event:e,disableOnNavigation:n})=>{n(),null==t||t({event:e}),h({event:e})},rel:u?"nofollow":"none",role:"link",children:e}):Object(c.jsx)(s.X,{onTap:({event:e})=>null==t?void 0:t({event:e}),rounding:n,children:e});return Object(c.jsx)(i.a,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>Object(c.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:e?"rgba(0, 0, 0, 0.06)":void 0}},onMouseEnter:t,onMouseLeave:i,rounding:n,children:b})})}},gqRH:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("zwad"),o=n("fJfT"),a=n("EC67");function s(e){const{externalData:t,href:n,onHistoryChange:s,target:c}=e,[d,l]=Object(i.useState)(null),[u,h]=Object(i.useState)(!1),b=Object(a.h)(),p=Object(a.i)(),f=r.a.isOffsiteUrl(n);return Object(i.useEffect)(()=>(h(!0),()=>{h(!1)}),[]),Object(i.useEffect)(()=>{f&&null!=t&&t.pin&&null===d&&Object(o.f)({location:p,pin:t.pin,surface:t.surface})&&Object(o.a)({isMounted:u,pin:t.pin,location:p,spamCheckCallback:e=>l(e),href:n})},[t,n,f,u,p,d]),({event:e})=>{var i;Object(o.b)({isExternalLink:f,event:e})||(e.nativeEvent.preventDefault(),n&&(f?Object(o.c)({auxData:null==t?void 0:t.auxData,href:n,pinId:null==t||null===(i=t.pin)||void 0===i?void 0:i.id,pin:null==t?void 0:t.pin,location:p,spamCheck:d}):Object(o.d)({event:e,href:n,history:b,onHistoryChange:s,target:"blank"===c?"blank":null})))}}const c=({children:e,...t})=>e({handleClick:s(t)})},"gz6+":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));var i=n("pody"),r=n("+lzj");const o=e=>({...Object(i.a)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),a=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=Object(r.e)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},s=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),c=(e,t)=>Object.keys(e).reduce((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n,Object.freeze({}))},hUD8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("bVT4"),r=function(){function e(e){this.entered=[],this.isNodeInDocument=e}return e.prototype.enter=function(e){var t=this,n=this.entered.length;return this.entered=i.union(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=i.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t.default=r},hZxF:function(e,t,n){var i=n("q1tI");t.a=e=>{Object(i.useEffect)(e,[])}},hgQt:function(e,t,n){var i=n("Juji"),r=n("4sDh");e.exports=function(e,t){return null!=e&&r(e,t,i)}},hlDC:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a}=Object(i.c)("ExperimentContext")},"i/p3":function(e,t,n){var i=n("/MKj"),r=n("Ye/N"),o=n("qD10"),a=n("8BbR"),s=n("WjpJ"),c=n.n(s),d=n("ANjH"),l=n("U4JR"),u=n("gdcG"),h=n("n6mq"),b=n("nKUr");function p({pin:e}){var t,n,i,r,o;return Object(b.jsx)(h.B,{rounding:4,width:138,children:Object(b.jsx)(a.a,{height:207,pin:e&&{imageUrl:null!==(t=null===(n=e.images)||void 0===n||null===(i=n["474x"])||void 0===i?void 0:i.url)&&void 0!==t?t:"",dominantColor:null!==(r=e.dominant_color)&&void 0!==r?r:"",description:null!==(o=e.description)&&void 0!==o?o:""},width:138})})}t.a=Object(d.compose)(Object(i.connect)((e,t)=>{const n=e.stories[t.storyId];return n&&"board_ideas_preview_detailed"===n.story_type?{story:n}:{story:void 0}}),u.a)((function({collection:e,hoverHandlers:t,isHovering:n,story:i,url:a}){if(!i)return null;const s=i.objects.reduce((e,t)=>e.concat("pin"===t.type?[t]:[]),[]);return Object(b.jsx)("div",{className:"moreIdeasOnBoard",children:Object(b.jsx)(o.a,{to:`${a}?ideas_referrer=${i.referring_source}`,onClick:()=>Object(l.b)(101,{element:10600,view:"board_section"===e.type?164:5,objectId:e.id,viewParameter:3069}),children:Object(b.jsx)(h.X,{fullWidth:!1,onMouseEnter:t.onMouseOver,onMouseLeave:t.onMouseLeave,rounding:4,children:Object(b.jsxs)(h.e,{alignItems:"start",color:n?"lightGray":"white",direction:"column",display:"flex",justifyContent:"start",marginEnd:-3,paddingX:3,paddingY:2,rounding:4,width:"100%",children:[Object(b.jsx)(h.e,{padding:2,children:Object(b.jsx)(h.t,{size:"sm",truncate:!0,children:"board_section"===e.type?r.a._("Find some ideas for this section:","Call-to-action text that upsells more ideas tab for an empty section","Call-to-action text that upsells more ideas tab for an empty section"):r.a._("Find some ideas for this board:","Call-to-action text that upsells more ideas tab for an empty board","Call-to-action text that upsells more ideas tab for an empty board")})}),Object(b.jsx)(h.e,{display:"flex",justifyContent:"between",padding:2,width:"100%",children:c()(0,5).map(e=>{const t=s[e];return Object(b.jsx)(h.e,{children:Object(b.jsx)(p,{pin:t})},""+(t?t.id:e))})})]})})})})}))},i6L0:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),r=n("OWXb"),o=n("nGHF"),a=n("vVEi");function s(){const e=Object(i.useDispatch)(),{showToast:t}=Object(o.b)();return{showBlockingActionToast:({actionType:n,board:i,section:o})=>{t(Object(a.f)("inProgress",n,i,o)),Object(a.c)({check:()=>e(Object(r.a)(i.id)).then(e=>!Object(a.e)({blockingActions:e,actionType:n,boardId:i.id,sectionId:o&&o.id})),checkDelay:a.a,checkInterval:a.b,onComplete:()=>t(Object(a.f)("completed",n,i,o))})}}}},i97C:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),r=n("/MKj"),o=n("1inl"),a=n("Ye/N"),s=n("4TDQ"),c=n("Sp3T"),d=n("i6L0"),l=n("U4JR");function u({board:e}){const[t,n]=Object(i.useState)(null),u=Object(r.useDispatch)(),{showBlockingActionToast:h}=Object(d.a)(),b=Object(c.a)(),p=Object(i.useCallback)(()=>b(()=>{if(!t)return;const{source:i,target:r}=t;n(null),Object(l.b)(7173,{objectId:i.id,merge_flow:"dnd"}),u(Object(s.a)(e.id,i.id,r.id)).then(()=>{h({actionType:"merge",board:e,section:r})}).catch(e=>{o.a.showError(e.message||a.a._("Failed to merge sections","useSectionMergeAction.errorMessage","Error message when failed to merge sections"))})}),[null==t?void 0:t.source,null==t?void 0:t.target]);return{handleShowMergeSectionsConfirmationModal:(e,t)=>b(()=>{n({source:e,target:t})}),mergeConfirmationModalProps:t,onConfirm:p}}},iS6d:function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(!1)},idmN:function(e,t,n){var i=n("ZWtO"),r=n("FZoo"),o=n("4uTw");e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var d=t[a],l=i(e,d);n(l,d)&&r(c,o(d,e),l)}return c}},jHGc:function(e,t,n){n.r(t),n.d(t,"PinRepEditButton",(function(){return s}));var i=n("Ye/N"),r=n("dtqy"),o=n("n6mq"),a=n("nKUr");function s({handlePinEditButtonClick:e,style:t,useLegoStyles:n=!1,usePersistentOneClickSaveStyles:r,wrappingIconStyle:s,shouldUseLegoStyles:c,onDelete:d}){const l=Object(a.jsx)(o.v,{accessibilityLabel:i.a._("Edit","edit button on pin","edit button on pin"),bgColor:t&&t.bgColor||"white",icon:"edit",iconColor:t&&t.iconColor||"darkGray",onClick:({event:t})=>e(t),size:t&&t.size||"md"});return c?Object(a.jsx)(o.f,{size:"lg",color:"gray",text:i.a._("Saved","PinRepEditButton.SavedButton","saved button on pin"),onClick:d,accessibilityLabel:i.a._("Pin Saved Button","PinRepEditButton.SavedButtonLabel","saved button label on pin"),selected:!0}):n||r?Object(a.jsx)("div",{style:{...s||{}},children:l}):l}t.default=Object(r.a)(s)},jXQH:function(e,t,n){var i=n("TO8r"),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},jZXB:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("zir5");class r extends i.a{constructor(){super({},{},!1)}v2ActivateExperiment(e){return null}v2LogExperimentGroupOverride(e,t){}}},jaOL:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("fOPN");t.default=function(e,t){switch(void 0===e&&(e=0),t.type){case i.ADD_SOURCE:case i.ADD_TARGET:return e+1;case i.REMOVE_SOURCE:case i.REMOVE_TARGET:return e-1;default:return e}}},jdx6:function(e,t,n){n.d(t,"b",(function(){return c}));var i=n("8cMa"),r=n("JW66"),o=n("Ye/N"),a=n("n6mq"),s=n("nKUr");function c(e,t=""){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,i,r)=>{if(n.length>0&&e&&e.length){const o=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(Object(s.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(o,o+e.length)},r),i)}return[i]},[]):t}t.a=function(e){const{disabled:t,item:n,isSection:d,isSelectMode:l,isWithinSectionPicker:u,saveState:h,searchQuery:b,selected:p}=e,f=d?null:n,g=d?n:null,m=g&&g.title||f&&f.name||"";let j="",v=!1,O="",y=0;f&&({image_cover_url:j,is_collaborative:v,privacy:O,section_count:y=0}=f);const x=c(b,m),_=O===r.a.BoardPrivacy.SECRET,w=!t&&(p||!!h),S=!u&&"number"==typeof y&&y>0,C="number"==typeof y&&y>0?"boardWithSection":"boardWithoutSection",I=l?o.a._("Select","Board select button label","Board select button label"):o.a._("Save","Pin save button label","Pin save button label");return Object(s.jsxs)(a.e,{alignItems:"center",color:w?"lightGray":"white",display:"flex",paddingX:6,paddingY:2,"data-test-id":C,children:[f?Object(s.jsx)(a.e,{height:36,width:36,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:j?Object(s.jsx)(a.w,{src:j,alt:m,fit:"cover",naturalWidth:1,naturalHeight:1}):Object(s.jsx)("span",{})}):Object(s.jsx)(a.e,{height:36,paddingX:2}),Object(s.jsxs)(a.e,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow",children:[Object(s.jsx)(a.Y,{color:t?"gray":"darkGray",size:"md",truncate:!0,weight:"bold",children:x}),(S||!w)&&Object(s.jsxs)(a.e,{alignItems:"center",display:"flex",children:[_&&Object(s.jsx)(i.a,{type:"secret"}),v&&Object(s.jsx)(i.a,{type:"group"}),S&&Object(s.jsx)(i.a,{type:"sections"})]}),!S&&w&&!h&&Object(s.jsxs)(a.e,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:[!l&&Object(s.jsx)(a.e,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}},children:Object(s.jsx)(a.u,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})}),Object(s.jsx)(a.Y,{color:"white",overflow:"normal",size:"md",weight:"bold",children:I})]}),!S&&w&&"loading"===h&&Object(s.jsx)(a.e,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:Object(s.jsx)(a.R,{accessibilityLabel:o.a._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0})})]})]})}},jirY:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("/ZYE"),r=n("H3Jb"),o=n("q1tI"),a=n("2S0S");t.useDrag=function(e){var t=o.useRef(e);t.current=e,a(null!=e.item,"item must be defined"),a(null!=e.item.type,"item type must be defined");var n=r.useDragSourceMonitor(),s=n[0],c=n[1];r.useDragHandler(t,s,c);var d=i.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return c.reconnect()})),l=o.useMemo((function(){return c.hooks.dragSource()}),[c]),u=o.useMemo((function(){return c.hooks.dragPreview()}),[c]);return o.useEffect((function(){c.dragSourceOptions=t.current.options||null,c.reconnect()}),[c]),o.useEffect((function(){c.dragPreviewOptions=t.current.previewOptions||null,c.reconnect()}),[c]),[d,l,u]}},juW8:function(e,t,n){n.d(t,"a",(function(){return i}));const i={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",groupPins:"groupPins",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},jxrL:function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("X6C7")),i(n("1tpI")),i(n("eiom"))},"kT2/":function(e,t,n){var i=n("q1tI"),r=n("JW66"),o=n("Ye/N"),a=n("n6mq"),s=n("nKUr");const c=e=>{const t=e.split("\n");t.push("");const n=[];let i,r=[];return t.forEach(e=>{const t=e.indexOf("•");t>-1?(i||(i=""),r.push(e.substring(t+1).trim())):((i||r.length>0)&&n.push({heading:i,items:r}),i=e,r=[])}),n},d=e=>{let t="";return e.forEach((n,i)=>{const{heading:r,items:o}=n;r&&(t+=r),o&&o.length>0&&(t+="\n• "+o.join("\n• ")),i<e.length-1&&(t+="\n\n")}),t};t.a=function({header:e,helperText:t,listBlocks:n,onUpdate:l,placeholderListBlocks:u}){const h=d(u||[{heading:o.a._("What you'll need","storyboard.detailsList.placeholder","Placeholder text header for details list of story Pin"),items:[o.a._("Write a bullet list of tools, materials and anything else!","storyboard.detailsList.placeholder","Placeholder text instructions for details list of story Pin"),o.a._("Type it up or copy and paste.","storyboard.detailsList.placeholder","Placeholder text instructions for details list of story Pin")]}]),[b,p]=Object(i.useState)(n?d(n):"");return Object(s.jsx)(a.e,{children:Object(s.jsx)(a.Z,{id:"storyboard-details-list",helperText:t,label:e,onChange:({value:e})=>{p(e),l(c(e))},onBlur:()=>{""===b.trim()&&p("")},onKeyDown:({event:e,value:t})=>{const{keyCode:n,target:i,shiftKey:o}=e;if(i instanceof HTMLTextAreaElement){const{selectionStart:a,selectionEnd:s}=i;if(a===s){let s=0,d=0,u="";if(n===r.a.KeyCode.ENTER?"\n• "!==t.substring(a-3,a)||"\n"!==t.substring(a,a+1)&&a!==t.length?o||"\n"===t.substring(a-1,a)||(s=0,u="\n• "):(s=-3,u="\n"):n!==r.a.KeyCode.BACKSPACE&&n!==r.a.KeyCode.DELETE||("\n• "===t.substring(a-3,a)?s=-3:"\n•"===t.substring(a-2,a)?s=-2:"\n"===t.substring(a-1,a)&&"•"===t.substring(a,a+1)&&(s=-1,d=1)),0!==s||0!==d||""!==u){const n=t.substring(0,a+s)+u+t.substring(a+d);p(n);const r=a+s+u.length;setTimeout(()=>{i.selectionStart=r,i.selectionEnd=r},10),l(c(n)),e.preventDefault()}}}},placeholder:h,rows:7,value:b})})}},"ks/r":function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),r=n("LT60"),o=n("L2iP"),a=n("N/FO"),s=n("n6mq"),c=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),d(this,"state",{animation:null,visible:!1}),d(this,"setRef",e=>{this.element||(this.element=e,e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragleave",this.handleDragLeave))}),d(this,"handleDragOver",()=>{const{placement:e}=this.props;if(!this.state.animation){const t="top"===e?-1:1,n=Object(a.a)({window,duration:1/0,run:(e,n,i)=>{const r=n<500?.8:1.2000000000000002;window.scrollTo(0,window.scrollY+r*t*i)}});n.start(),this.setState({animation:n})}}),d(this,"handleDragLeave",()=>{const{animation:e}=this.state;e&&(e.cancel(),this.setState({animation:null}))}),d(this,"element",null),d(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){const e=this.element,{animation:t}=this.state;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),t&&t.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){const{height:e,placement:t}=this.props,{visible:n}=this.state;return Object(c.jsx)(s.e,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:n?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:Object(c.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){const t=e?0:o.a;return Object(c.jsx)(r.a,{children:Object(c.jsx)(s.y,{children:Object(c.jsxs)(s.e,{children:[Object(c.jsx)(l,{placement:"top",height:120+t}),Object(c.jsx)(l,{placement:"bottom",height:120})]})})})}},kugi:function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var i=n("zir5"),r=n("4xvr"),o=n("eOdZ");class a extends i.a{v2ActivateExperiment(e){return this._getGroupForExperiment(e,!0)}flush(){this._queuedResource&&this._queuedResource.flush()}v2LogExperimentGroupOverride(e,t){this._reportExperimentActivated(e,!1,t,t)}_getGroupForExperiment(e,t,n){void 0===t&&(t=!0);let i=this.active[e];return void 0===i&&t&&(i=this.triggerable[e],void 0!==i&&(this.active[e]=i,this._reportExperimentActivated(e,n,i))),i||null}_reportExperimentActivated(e,t,n,i){const a={add_to_experiment:!!t,experiment_name:e};if(i&&(a.override_group=i),n&&(a.experiment_group=n),this.useBatching)this._queuedResource||(this._queuedResource=new r.b("ActivateExperimentResource",e=>({experiments:e}))),this._queuedResource.enqueue(a);else{o.a.create("ActivateExperimentResource",a).callCreate({showError:!1})}}}},l9OW:function(e,t,n){var i=n("SKAX"),r=n("MMmD");e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return i(e,(function(e,i,r){o[++n]=t(e,i,r)})),o}},lSCD:function(e,t,n){var i=n("NykK"),r=n("GoyQ");e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},lXCh:function(e,t,n){},lh2y:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("Bfq7"),r=n("NFjV");t.createNativeDragSource=function(e){return new r.NativeDragSource(i.nativeTypesConfig[e])},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(i.nativeTypesConfig).filter((function(e){return i.nativeTypesConfig[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}},lihF:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e=0),e+1}},"lm/5":function(e,t,n){var i=n("fmRc"),r=n("wF/u");e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var d=n[a];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++a<s;){var l=(d=n[a])[0],u=e[l],h=d[1];if(c&&d[2]){if(void 0===u&&!(l in e))return!1}else{var b=new i;if(o)var p=o(u,h,l,e,t,b);if(!(void 0===p?r(h,u,3,o,b):p))return!1}}return!0}},lnQP:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("zUcL"),a=n("Ye/N"),s=n("Hz/G"),c=n("n6mq"),d=n("w70y"),l=n("nKUr");function u({label:e,path:t,selected:n}){return Object(l.jsx)(c.u,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:t},color:n?"darkGray":"gray",size:24})}function h({selected:e}){return Object(l.jsx)(u,{label:a.a._("Dense","Label for selecting the dense pin density view","Label for selecting the dense pin density view"),path:"M16.00,20.00 L20.00,20.00 L20.00,16.00 L16.00,16.00 L16.00,20.00 Z M10.00,8.00 L10.00,4.00 L14.00,4.00 L14.00,8.00 L10.00,8.00 Z M4.00,8.00 L4.00,4.00 L8.00,4.00 L8.00,8.00 L4.00,8.00 Z M16.00,8.00 L16.00,4.00 L20.00,4.00 L20.00,8.00 L16.00,8.00 Z M4.00,14.00 L4.00,10.00 L8.00,10.00 L8.00,14.00 L4.00,14.00 Z M10.00,14.00 L10.00,10.00 L14.00,10.00 L14.00,14.00 L10.00,14.00 Z M16.00,14.00 L16.00,10.00 L20.00,10.00 L20.00,14.00 L16.00,14.00 Z M4.00,20.00 L4.00,16.00 L8.00,16.00 L8.00,20.00 L4.00,20.00 Z M10.00,20.00 L10.00,16.00 L14.00,16.00 L14.00,20.00 L10.00,20.00 Z",selected:e})}function b({selected:e}){return Object(l.jsx)(u,{label:a.a._("Regular","Label for selecting the regular pin density view","Label for selecting the regular pin density view"),path:"M13.00,20.00 L13.00,13.00 L20.00,13.00 L20.00,20.00 L13.00,20.00 Z M4.00,11.00 L4.00,4.00 L11.00,4.00 L11.00,11.00 L4.00,11.00 Z M13.00,11.00 L13.00,4.00 L20.00,4.00 L20.00,11.00 L13.00,11.00 Z M4.00,20.00 L4.00,13.00 L11.00,13.00 L11.00,20.00 L4.00,20.00 Z",selected:e})}var p=n("t3tn"),f=n("ANjH");class g extends i.Component{constructor(...e){var t,n,i;super(...e),i=({activeIndex:e})=>{const{viewType:t,component:n,pinView:i}=this.props,r=0===e?"regular":"dense";Object(s.a)({boardDensity:r,component:n,surface:i,viewType:t})},(n="handleItemChange")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(){const{dispatch:e,metadata:t,pinView:n,updatedBoardPinDensity:i}=this.props;if(t&&t.data&&""===i){const{profile_pin_rep_view_type:i,board_pin_rep_view_type:r}=t.data;"board"===n&&e(i?Object(p.a)(i):Object(p.a)("regular")),"profile"===n&&e(r?Object(p.d)(r):Object(p.d)("regular"))}}render(){const{metadata:e,updatedBoardPinDensity:t}=this.props;if(!e||!e.data)return null;const n="dense"===t?1:0;return Object(l.jsx)("div",{className:"OwnBoardSelector",children:Object(l.jsx)(c.O,{items:[Object(l.jsx)(b,{selected:"regular"===t}),Object(l.jsx)(h,{selected:"dense"===t})],onChange:this.handleItemChange,selectedItemIndex:n,responsive:!0})})}}var m=Object(f.compose)(Object(r.connect)((function({ui:e,viewer:t},{pinView:n}){return{updatedBoardPinDensity:e.views&&e.views[n+"PinView"],viewer:t}})),Object(d.b)({name:"UserMetadataResource",key:"metadata",options:e=>({user:{id:e.viewer.username}}),allowStale:!1}))(g),j=n("v/Q4"),v=n("sxkF");function O({board:e,currentView:t,inBoardOrganizationMode:n,onContentViewChange:r,onOrganizeClick:o,pinCount:s,showSortOptions:d}){const u=Object(j.a)();return Object(l.jsxs)(c.e,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,children:[Object(l.jsx)(c.e,{paddingX:1,flex:"grow",children:Object(l.jsx)(c.t,{children:a.a._("Pins","Heading for Pins outside of board sections on board page","Heading for Pins outside of board sections on board page")})}),d&&Object(v.c)(s)&&Object(l.jsx)(c.e,{paddingX:2,children:Object(l.jsx)(v.a,{currentView:t,onChange:r,board:e,viewer:u})}),s>=1&&Object(l.jsxs)(i.Fragment,{children:[s>=1&&Object(l.jsx)(m,{viewType:5,component:13183,pinView:"board"}),!n&&Object(l.jsx)(c.e,{paddingX:2,children:Object(l.jsx)(c.f,{text:a.a._("Organize","The board organization button","The board organization button"),onClick:o})})]})]})}var y=n("KFEb"),x=n("6SCp"),_=n("P2Et");const w=Object(f.compose)(Object(r.connect)((e,t)=>Object(_.b)(e.feeds[y.a.BOARD_PINS][t.board.id])),Object(d.b)({name:"BoardFeedResource",key:"resource",options:e=>Object(x.a)(e.board,e.viewer,e.currentView,e.currentFilter)}))(_.a);w.displayName="BoardSectionlessPinGrid";var S=w,C=n("qD10");var I=({children:e,shouldNavigate:t,to:n})=>t?Object(l.jsx)(C.a,{to:n,children:e}):e,E=n("eBDd");var T=e=>{const{numberOfSelectedPins:t}=e;return Object(l.jsx)(c.e,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:Object(l.jsx)(c.e,{color:"white",padding:3,rounding:"pill",children:Object(l.jsx)(c.Y,{weight:"bold",children:Object(E.a)(a.a.ngettext("Move {{ count }} Pin here","Move {{ count }} Pins here",t,"Call to action overlay on a section to move selected Pins","Call to action overlay on a section to move selected Pins"),{count:t})})})})},P=n("WjpJ"),D=n.n(P);const k=157,B=141,M=118,R=106;function A(e){return"dense"===e?2:3}function L(e){return(("dense"===e?M:R)+1)*A(e)-1}function N({isHovered:e,mode:t,pins:n}){const i=A(t),r="dense"===t,o=r?k:B,a=r?M:R,s=L(t);return Object(l.jsx)(c.B,{rounding:4,width:s,children:Object(l.jsxs)(c.e,{display:"flex",children:[Object(l.jsx)(c.e,{bottom:!0,dangerouslySetInlineStyle:{__style:e?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,top:!0}),D()(i).map(e=>{var t,r,s,d,u,h;const b=e===i-1,p=n[e];return Object(l.jsx)("div",{style:{paddingRight:!b&&1},children:Object(l.jsx)(c.B,{height:o,width:a,rounding:0,wash:!0,children:p&&Object(l.jsx)(c.w,{alt:null!==(t=p.description)&&void 0!==t?t:"",color:"transparent",fit:"cover",naturalHeight:null!==(r=null===(s=p.image_large_size_pixels)||void 0===s?void 0:s.height)&&void 0!==r?r:1,naturalWidth:null!==(d=null===(u=p.image_large_size_pixels)||void 0===u?void 0:u.width)&&void 0!==d?d:1,src:null!==(h=p.image_large_url)&&void 0!==h?h:""})})},e)})]})})}var F=n("0NP8");function U({children:e,mode:t}){return"dense"===t?Object(l.jsx)(c.Y,{weight:"bold",children:e}):Object(l.jsx)(c.t,{accessibilityLevel:2,size:"sm",truncate:!0,children:e})}function H({children:e,displayEditIcon:t,mode:n,mouseCursor:i,onEditClick:r,onTouch:o,pinCount:s,title:d}){const u=Object(l.jsxs)(c.e,{children:[Object(l.jsxs)(c.e,{position:"relative",children:[e,t&&Object(l.jsx)(c.e,{position:"absolute",bottom:!0,right:!0,children:Object(l.jsx)(c.e,{padding:2,children:Object(l.jsx)(c.v,{bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:r,accessibilityLabel:a.a._("Edit","BoardSectionCard.SectionRep.EditIcon","accessibility label for the board section name edit button"),accessibilityHaspopup:!0,size:"sm"})})})]}),Object(l.jsx)(c.e,{alignItems:"start",display:"flex",justifyContent:"between",width:L(n),children:Object(l.jsxs)(c.e,{padding:2,flex:"grow",children:[Object(l.jsx)(U,{mode:n,children:d}),Object(l.jsx)(c.e,{marginTop:1,children:Object(l.jsx)(F.b,{count:s,size:"sm"})})]})})]});return o?Object(l.jsx)(c.X,{fullWidth:!1,mouseCursor:i,onTap:o,rounding:4,children:u}):u}var z=e=>{var t;const{board:n,boardSection:o,canEdit:a,focused:s,hovered:d,inOrganizationMode:u,isDragging:h,isMergeTarget:b,onBlur:p,oneTapMovePinsHandler:f,onFocus:g,onMouseEnter:m,onMouseLeave:j,onShowEditSectionModal:v}=e,{slug:O,title:y,preview_pins:x=[]}=o,_=Object(r.useSelector)(({ui:e})=>e.views.boardPinView),w=f&&f.numberOfSelectedPins;let S;w&&f&&(S=()=>{f.moveToSection(o)});let C="pointer";h?C="grabbing":!w&&u&&(C="grab");const E=!!a&&!h&&(d||s),P=f&&f.numberOfSelectedPins>0&&!!w&&d&&!h&&Object(l.jsx)(T,{numberOfSelectedPins:f.numberOfSelectedPins});return Object(l.jsxs)(c.e,{alignItems:"center",color:"white",direction:"row",display:"flex",onBlur:p,onFocus:g,onMouseEnter:m,onMouseLeave:j,position:"relative",rounding:2,children:[Object(l.jsx)(I,{shouldNavigate:!u,to:`${null!==(t=n.url)&&void 0!==t?t:""}${O}/`,children:Object(l.jsx)(H,{displayEditIcon:E,mode:_,mouseCursor:C,onEditClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),v(o)},onTouch:S,pinCount:o.pin_count,title:y,children:Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(N,{isHovered:d||b||s,mode:_,pins:x}),P]})})}),Object(l.jsx)("div",{className:"sectionHoverSurface"})]})},Y=n("ks/r"),q=n("7pfs"),G=n("9X5u"),W=n("rg+c"),V=n("9ip6");function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class X extends i.Component{constructor(...e){super(...e),K(this,"state",{dragDrop:null,sectionIds:this.props.sections.map(e=>e.id)}),K(this,"cancelHoverTimeout",()=>{const e=this.dragHoverTimeout;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null}),K(this,"dragHoverTimeout",null),K(this,"isDragging",()=>!!this.state.dragDrop),K(this,"handleSectionDragBegin",e=>{this.setState({dragDrop:{previewIndex:e,sourceIndex:e,target:null}})}),K(this,"handleSectionDragHover",(e,t)=>{const{dragDrop:n}=this.state,i=this.props.allowReordering;if(!t||!n)return;const{previewIndex:r}=n,o=Object(V.a)({hoverRelativePosition:t,centerEnabled:e!==r&&i}),a={itemIndex:e,regionWithinItem:o};if(this.dragHoverTimeout&&Object(V.c)(a,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();const s="center"===o?"merge":"reorder",c={action:s,index:Object(V.b)({hoverLocation:a,sourceIndex:r})};c.index!==r?this.dragHoverTimeout={hoverLocation:a,timeoutId:setTimeout(()=>{this.dragHoverTimeout=null,"reorder"===s?this.setState({dragDrop:{...this.state.dragDrop,target:c,previewIndex:c.index},sectionIds:Object(y.c)(this.state.sectionIds,r,c.index)}):this.setState({dragDrop:{...this.state.dragDrop,target:c}})},"reorder"===s?200:20)}:n.target&&n.target.index!==c.index&&this.setState({dragDrop:{...n,target:c}})}),K(this,"handleSectionDragEnd",e=>{const{sections:t,onShowMergeSectionsConfirmationModal:n,onSectionReorder:i}=this.props,{dragDrop:r,sectionIds:o}=this.state,a=r&&r.target;if(this.cancelHoverTimeout(),!e||!r||!a||a.index===r.sourceIndex)return void this.setState({dragDrop:null,sectionIds:t.map(e=>e.id)});const{previewIndex:s,sourceIndex:c}=r,{action:d,index:l}=a;if(this.setState({dragDrop:null}),"merge"===d){const e=e=>{const n=o[e];return n&&t.find(({id:e})=>e===n)},i=e(s),r=e(l);i&&r&&n(i,r)}else i(c,l)}),K(this,"renderSection",(e,t)=>{const{allowReordering:n,board:i,canEdit:r,oneTapMovePinsHandler:o,onShowEditSectionModal:a,organizeMode:s}=this.props,{dragDrop:d}=this.state,u=d&&d.target;return Object(l.jsx)(c.e,{padding:2,children:Object(l.jsx)(q.a,{children:({focused:c,hovered:d,onBlur:h,onFocus:b,onMouseEnter:p,onMouseLeave:f})=>Object(l.jsx)(z,{allowReordering:n,board:i,boardSection:e,canEdit:r,focused:c,hovered:d,inOrganizationMode:s,isDragging:this.isDragging(),isMergeTarget:!!u&&"merge"===u.action&&t===u.index,onBlur:e=>{const t=e.currentTarget;setTimeout(()=>{t.contains(document.activeElement)||h()},0)},onFocus:b,onMouseEnter:p,onMouseLeave:f,oneTapMovePinsHandler:o,onShowEditSectionModal:a})})})})}componentDidUpdate(e){const{sections:t}=e,{sections:n}=this.props,i=e=>e.map(({id:e})=>e).join(",");if(t.length!==n.length&&i(t)!==i(n)){this.cancelHoverTimeout();const e=n.map(e=>e.id);this.setState({dragDrop:null,sectionIds:e})}}componentWillUnmount(){this.cancelHoverTimeout()}render(){const{allowReordering:e,connectDropTarget:t,isDragWithinBounds:n,sections:i}=this.props,{sectionIds:r}=this.state,o=this.isDragging(),a=i.reduce((e,t)=>({...e,[t.id]:t}),{}),s=Object(l.jsx)(c.e,{display:"flex",justifyContent:"center",marginStart:6,marginEnd:6,wrap:!0,children:r.map(e=>a[e]).filter(e=>!!e).map((t,i)=>Object(l.jsx)(c.e,{children:e?Object(l.jsx)(W.b,{index:i,onDragBegin:this.handleSectionDragBegin,onDragEnd:this.handleSectionDragEnd,onDragHover:this.handleSectionDragHover,type:W.a.Section,children:Object(l.jsx)("div",{style:{opacity:o&&!n?.5:1},children:this.renderSection(t,i)})}):Object(l.jsx)(c.e,{children:this.renderSection(t,i)})},t.id))});return Object(l.jsxs)(c.e,{width:"100%",children:[e&&t?t(Object(l.jsx)("div",{children:s})):s,o&&Object(l.jsx)(Y.a,{})]})}}const $=Object(G.a)(W.a.Section)(X);function Z(e){const{allowReordering:t,fetchMore:n,isAtEnd:i,isFetching:r}=e;return Object(l.jsxs)(c.e,{width:"100%",children:[Object(l.jsx)(c.M,{isAtEnd:i,isFetching:r,fetchMore:n}),t?Object(l.jsx)($,{...e}):Object(l.jsx)(X,{...e}),r&&!i&&Object(l.jsx)(c.e,{position:"relative",paddingY:6,children:Object(l.jsx)(c.R,{accessibilityLabel:a.a._("Loading sections","loading state for board sections","loading state for board sections"),show:!0})})]})}var Q=n("MaRn"),J=n("eOdZ");var ee=n("U4JR");class te extends i.Component{constructor(...e){var t,n,i;super(...e),i=(e,t)=>{const{board:n,dispatch:i,enableReordering:r,sections:o,viewParameter:a}=this.props;if(!r)return;const s=o[e].id,c=o[t].id,d=Object(y.c)(o,e,t).map(e=>e.id),l=d.indexOf(s),u=e=>e>=0&&e<d.length,h={boardId:n.id,sourceSectionId:s,targetSectionId:c,...u(l+1)?{sectionIdAfter:d[l+1]}:{},...u(l-1)?{sectionIdBefore:d[l-1]}:{}},b={objectId:s,view:5,viewParameter:a};var p;i((p=h,e=>{const{boardId:t,sectionIdBefore:n,sectionIdAfter:i,sourceSectionId:r,targetSectionId:o}=p;e(Object(Q.a)({feedType:y.a.BOARD_SECTIONS,feedId:t,itemType:"board_section",sourceItemId:r,targetItemId:o}));const a={section_id:r,section_before:n||void 0,section_after:i||void 0};return J.a.create("BoardSectionsReorderResource",a).callUpdate({showError:!1})})).then(()=>Object(ee.b)(7133,b))},(n="handleSectionReorder")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{sectionsInvalidated:e,onLoadedAll:t,sectionsResource:{isFetching:n,refreshData:i,isAtEnd:r}}=this.props;e&&!n&&i(),r&&t()}componentDidUpdate(e){!this.props.sectionsInvalidated||e.sectionsInvalidated||this.props.isFetching||this.props.refreshData(),!e.sectionsResource.isAtEnd&&this.props.sectionsResource.isAtEnd&&this.props.onLoadedAll()}render(){const{board:e,enableReordering:t,inBoardOrganizationMode:n,oneTapMovePinsHandler:i,onShowEditSectionModal:r,onShowMergeSectionsConfirmationModal:o,sections:s,sectionsResource:d}=this.props,{isLoaded:u,isFetching:h,fetchMore:b,isAtEnd:p}=d;if(!u)return a.a._("Board sections loading spinner","BoardPage.BoardSections.loadingSpinner","Accessibility label for the spinner on board sections"),Object(l.jsx)(c.R,{accessibilityLabel:a.a._("Board sections loading spinner"),show:!0});const f=(e.access||[]).includes("write");return Object(l.jsx)(c.e,{justifyContent:"center",display:"flex",children:Object(l.jsx)(Z,{allowReordering:t,board:e,canEdit:f,fetchMore:b,isAtEnd:p,isFetching:h,oneTapMovePinsHandler:i,onSectionReorder:this.handleSectionReorder,onShowEditSectionModal:r,onShowMergeSectionsConfirmationModal:o,organizeMode:n,sections:s})})}}var ne=Object(f.compose)(Object(r.connect)((function(e,t){const{feeds:{[y.a.BOARD_SECTIONS]:n={}},sections:i}=e,{board:{id:r}}=t,o=n[r];return{sections:(o||[]).reduce((e,t)=>"board_section"===t.type&&i[t.id]?e.concat([i[t.id]]):e,[]),sectionsInvalidated:null===o}})),Object(d.b)({name:"BoardSectionsResource",key:"sectionsResource",options:e=>({board_id:e.board.id,redux_normalize_feed:!0})}))(te),ie=n("i/p3"),re=n("79tv"),oe=n("Sp3T"),ae=n("HJ6M");t.a=Object(r.connect)((function({boards:e,ui:t,viewer:n},{board:i}){const{views:{boardPinView:r}}=t,o=((e||{}).content||{})[i.id];return{boardPinView:r,sectionCount:(o?o.section_count:i.section_count)||0,viewer:n}}),()=>({}))((function({actions:e,board:t,boardPinView:n,bulkEditSelectedPins:r,currentFilter:a,currentView:s,displayActionBar:d,enableReordering:u,inBoardOrganizationMode:h,inSectionOrganizationMode:b,inSelectAll:p,isOwnBoard:f,isPinGridSorted:g,onBulkEditPinClick:m,onContentViewChange:j,oneTapMovePinsHandler:v,onPinDelete:y,onShowEditSectionModal:x,onShowMergeSectionsConfirmationModal:_,refreshFilteredFeed:w,sectionCount:C,viewParameter:I,viewer:E}){const[T,P]=Object(i.useState)(0===C),D=Object(oe.a)(),k=Object(re.a)(t.url),{is_collaborative:B,pin_count:M}=t,R=(t.access||[]).includes("write"),A=f||t.collaborated_by_me,L=Boolean("number"==typeof M&&M>=2&&B&&A);return Object(l.jsxs)(c.e,{marginBottom:12,children:[Object(l.jsx)(o.a,{setMaxWidth:!1,children:Object(l.jsxs)(c.e,{children:[C>0&&(!a||a===ae.a)&&Object(l.jsx)(ne,{board:t,enableReordering:u,inBoardOrganizationMode:h,inSectionOrganizationMode:b,oneTapMovePinsHandler:v,onLoadedAll:()=>P(!0),onShowEditSectionModal:x,onShowMergeSectionsConfirmationModal:_,viewParameter:I}),d&&T&&A&&C>0&&Object(l.jsx)(O,{board:t,currentView:s,inBoardOrganizationMode:h,onContentViewChange:j,onOrganizeClick:()=>D(()=>{const{onBoardOrganizeClick:t}=e;Object(ee.b)(101,{component:69,element:400}),t(!0)}),pinCount:null!=M?M:0,showSortOptions:L})]})}),T&&Object(l.jsx)(c.e,{"data-test-id":"board-feed",dangerouslySetInlineStyle:{__style:{paddingBottom:"8px"}},paddingX:3,position:"relative",children:Object(l.jsx)(S,{board:t,bulkEditSelectedPins:r,currentFilter:a,currentView:s,denseViewSelected:R&&"dense"===n,inBoardOrganizationMode:h,inSectionOrganizationMode:b,inSelectAll:p,isOwnBoard:f,isPinGridSorted:g,onBulkEditPinClick:m,onPinDelete:y,refreshFilteredFeed:w,renderFooterStory:e=>!t.archived_by_me_at&&A&&Object(l.jsx)(c.e,{marginBottom:6,children:Object(l.jsx)(o.a,{children:Object(l.jsx)(ie.a,{collection:t,storyId:e,url:k})})}),viewParameter:I,viewer:E})})]})}))},mEMi:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("DzJC"),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.PureComponent{constructor(...e){super(...e),a(this,"setContainerRef",e=>{this.containerRef=e}),a(this,"fetchMoreIfNecessary",o()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:n},i)=>e+t+(i?i(t):2*t)>n)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},mHb8:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const i=(e,t)=>{var n;const i="object"==typeof t.owner?null===(n=t.owner)||void 0===n?void 0:n.id:t.owner;return e.isAuth&&i===e.id},r=(e,t)=>Boolean(e.isAuth&&t.collaborated_by_me),o=(e,t)=>i(e,t)?3069:3070},mLS1:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("Ye/N"),a=n("82UD"),s=n("DBaX"),c=n("n6mq"),d=n("nKUr");function l({handleTogglePinSelection:e,index:t,isSelected:n,pin:i}){return Object(d.jsx)(c.X,{onTap:()=>{e(t)},rounding:s.c,children:Object(d.jsx)(a.a,{attributionOption:"hide",blockClickEvents:!0,pin:i,pinId:i.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:n?"selected":"no-selection",surface:"BoardCoverSelectablePin",trackingParameters:{slotIndex:t}})})}var u=({boardPins:e,coverPinIndex:t,fetchMore:n,isLoaded:i,handleTogglePinSelection:r})=>i?Object(d.jsx)(c.e,{paddingY:4,children:Object(d.jsx)(c.C,{columnWidth:152,comp:({data:e,itemIdx:n})=>Object(d.jsx)(l,{handleTogglePinSelection:r,index:n,isSelected:t===n,pin:e}),gutterWidth:16,items:e||[],loadItems:n})}):Object(d.jsx)(c.e,{padding:6,children:Object(d.jsx)(c.R,{show:!0,accessibilityLabel:o.a._("Loading","BoardCoverEdit.Accessibility.Label","accessibility label for loading spinner")})}),h=n("TgLd"),b=n("eOdZ"),p=n("Wrea"),f=n("yaUg"),g=n("pLLR");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j={border:0,top:120};class v extends i.Component{constructor(...e){super(...e),m(this,"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),m(this,"handleUpdateImage",()=>{const e=this.image;if(!e)return;const t=e.offsetHeight,n=e.offsetWidth;this.setState({isSpinnerShown:!1,startBgPos:{left:-(n-this.state.holderWidth)/2,top:-(t-this.state.holderHeight)/2}})}),m(this,"handleOnMouseUp",()=>{this.isDragging&&(this.isDragging=!1,this.setState({startBgPos:{left:this.getBgLeft(),top:this.getBgTop()},deltaX:0,deltaY:0}),this.props.updateImgCrop(this.getCropData()))}),m(this,"isDragging",!1)}componentDidMount(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth})}componentDidUpdate(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}getFrameBounds(){const{frameHeight:e,frameWidth:t}=this.props,{holderHeight:n,holderWidth:i}=this.state;return{left:i/2-t/2,width:t,height:e,top:n/2-e/2}}getBgLeft(){const{frameWidth:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),i=this._getImageDimensions(),r=i.imgHeight*n,o=i.imgWidth*n;let a=0;return r&&o&&(a=this.state.startBgPos.left+this.state.deltaX,a+o-e<t.left&&(a=t.left-o+e),a>t.left&&(a=t.left)),a}getBgTop(){const{frameHeight:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),i=this._getImageDimensions(),r=i.imgHeight*n,o=i.imgWidth*n;let a=0;return r&&o&&(a=this.state.startBgPos.top+this.state.deltaY,a+r-e<t.top&&(a=t.top-r+e),a>t.top&&(a=t.top)),a}getImgScale(){const{frameHeight:e,frameWidth:t}=this.props,{imgHeight:n,imgWidth:i}=this._getImageDimensions(),r=this.getFrameBounds();if(n&&i){let o=n/i;return o=o>=r.height/r.width?t/i:e/n,o}return 1}getImageBounds(){const{imgHeight:e,imgWidth:t}=this._getImageDimensions();let n={};if(e&&t){const i=this.getImgScale();n={width:i*t,height:i*e}}return n}getBgBounds(){return{left:this.getBgLeft(),top:this.getBgTop()}}getCropData(){const{frameHeight:e,frameWidth:t}=this.props,n=this.getFrameBounds(),i=this.getBgBounds(),r=this.getImgScale();return{cropX:Math.round(-(i.left-n.left)/r),cropY:Math.round(-(i.top-n.top)/r),height:Math.round(e/r),width:Math.round(t/r),scale:r}}handleOnMouseDown(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}handleOnMouseMove(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}_getImageDimensions(){var e,t,n;const{pin:i}=this.props,r=null===(e=i.images)||void 0===e?void 0:e["236x"];return{imgHeight:null!==(t=null==r?void 0:r.height)&&void 0!==t?t:1,imgWidth:null!==(n=null==r?void 0:r.width)&&void 0!==n?n:1}}render(){var e,t;const{boardName:n,frameHeight:i,frameWidth:r,hideCoverNavigation:a,isFirst:s,isLast:l,isRTL:u,pin:h,showNextPin:b,showPrevPin:p}=this.props,{isSpinnerShown:g}=this.state,{imgHeight:m,imgWidth:v}=this._getImageDimensions(),O=this.getFrameBounds(),y=this.getImageBounds(),x=this.getBgBounds();let _="";return m&&v&&(_="in"),Object(d.jsxs)("div",{className:"ImageCrop",children:[Object(d.jsxs)("div",{className:"holder",ref:e=>{this.holder=e},children:[Object(d.jsx)("div",{className:"bg",style:x,children:Object(d.jsx)("img",{alt:Object(f.a)(o.a._("Board cover for {{ boardName }}"),{boardName:n}),className:_,onLoad:this.handleUpdateImage,ref:e=>{this.image=e},src:null===(e=h.images)||void 0===e||null===(t=e["236x"])||void 0===t?void 0:t.url,style:y})}),Object(d.jsxs)("div",{className:"mask",children:[Object(d.jsx)("span",{style:{top:0,left:0,right:0,height:O.top}}),Object(d.jsx)("span",{style:{top:O.top,left:O.left+r,right:0,height:i}}),Object(d.jsx)("span",{style:{top:i+O.top,left:0,right:0,bottom:0}}),Object(d.jsx)("span",{style:{top:O.top,left:0,width:O.left,height:i}})]}),Object(d.jsx)("div",{className:"frame",style:O}),Object(d.jsx)("div",{className:"drag",onMouseDown:e=>{this.handleOnMouseDown(e)},onMouseMove:e=>{this.handleOnMouseMove(e)},onMouseUp:()=>{this.handleOnMouseUp()},role:"presentation"}),Object(d.jsx)("div",{className:"spinner",style:{display:g?"":"none"}})]}),s||a?null:Object(d.jsx)(c.e,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...j,left:u?void 0:100,right:u?100:void 0}},children:Object(d.jsx)(c.v,{icon:"arrow-back",accessibilityLabel:o.a._("Previous","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:p})}),l||a?null:Object(d.jsx)(c.e,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...j,left:u?100:void 0,right:u?void 0:100}},children:Object(d.jsx)(c.v,{icon:"arrow-forward",accessibilityLabel:o.a._("Next","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:b})})]})}}function O(e){const{isRTL:t}=Object(g.d)();return Object(d.jsx)(v,{...e,isRTL:!!t})}var y=n("w70y");function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return e.reduce((e,t)=>("pin"===t.type&&e.push(t),e),[])}function w({boardFeedResource:{data:e},coverPinId:t}){return Math.max(0,_(e||[]).findIndex(e=>e.id===t))}class S extends i.Component{constructor(...e){super(...e),x(this,"state",{coverPinIndex:w(this.props),imgCropData:null,selectedCoverPin:null,previousBoardFeedResourceData:null}),x(this,"handleSave",()=>{var e,t,n;const{boardId:i,dispatch:r}=this.props,{coverPinIndex:o,imgCropData:a}=this.state,s=(this.pins||[])[o];if(!s)return;const c=null===(e=s.images)||void 0===e?void 0:e["236x"],d=null==c?void 0:c.url,l=a?{crop_x:a.cropX,crop_y:a.cropY,height:a.height,width:a.width,scale:a.scale}:{crop_x:0,crop_y:0,height:null==c?void 0:c.height,width:null==c?void 0:c.width,scale:1},u={board_id:i,url:d,pin_id:s.id,pin_image_url:d,...l},h={height:null!==(t=null==c?void 0:c.height)&&void 0!==t?t:0,width:null!==(n=null==c?void 0:c.width)&&void 0!==n?n:0,x:a?a.cropX:0,y:a?a.cropY:0};b.a.create("BoardResource",u).callUpdate().then(()=>{this.props.onSave(null!=d?d:""),r(Object(p.a)(i,{custom_cover:!0,scale:a?a.scale:1,pin_id:s.id,crop:h,image_url:null!=d?d:""}))})}),x(this,"updateImgCrop",e=>this.setState({imgCropData:e})),x(this,"handleShowNextPin",()=>{const{boardFeedResource:{isAtEnd:e,isFetching:t,fetchMore:n}}=this.props,i=(this.pins||[]).length;i&&this.setState(({coverPinIndex:e})=>({coverPinIndex:(e+1)%i}),()=>{this.pins&&this.state.coverPinIndex+5>=this.pins.length&&!e&&!t&&n()})}),x(this,"handleShowPrevPin",()=>{const e=(this.pins||[]).length;e&&this.setState(({coverPinIndex:t})=>({coverPinIndex:(t||e)-1}))}),x(this,"handleTogglePinSelection",e=>{const t=this.pins||[];this.setState({coverPinIndex:e,selectedCoverPin:t[e]})}),x(this,"handleCoverEditBackButtonClick",()=>{this.setState({selectedCoverPin:null})}),x(this,"renderBoardCoverMasonry",()=>{const{coverPinIndex:e,selectedCoverPin:t}=this.state,{boardName:n,boardFeedResource:i,frameHeight:r,frameWidth:o}=this.props,a=this.pins||[],{data:s,fetchMore:c,isLoaded:l}=i;return t?Object(d.jsx)(O,{boardName:n,frameHeight:null!=r?r:236,frameWidth:null!=o?o:236,isFirst:!e,isLast:e===a.length-1,pin:t,showNextPin:this.handleShowNextPin,showPrevPin:this.handleShowPrevPin,updateImgCrop:this.updateImgCrop,hideCoverNavigation:!0}):Object(d.jsx)(u,{boardPins:s,coverPinIndex:e,fetchMore:c,handleTogglePinSelection:this.handleTogglePinSelection,isLoaded:l})}),x(this,"renderCoverEditHeader",()=>Object(d.jsx)(c.r,{alignItems:"center",justifyContent:"center",height:80,children:Object(d.jsx)(c.e,{width:"100%",padding:4,children:Object(d.jsxs)(c.r,{alignItems:"center",justifyContent:"between",children:[Object(d.jsx)(c.v,{accessibilityLabel:o.a._("Navigate to cover picker","BoardEdit.back.button","Cover picker navigate back button"),icon:"arrow-back",iconColor:"darkGray",onClick:this.handleCoverEditBackButtonClick}),Object(d.jsx)(c.t,{size:"md",children:o.a._("Move and scale to crop","BoardEdit.Heading.Experiment.Text","edit board heading")}),Object(d.jsx)(c.v,{accessibilityLabel:o.a._("Cancel change board cover","BoardCoverEdit.icon.cancel","Cancel board cover edit"),icon:"cancel",iconColor:"darkGray",onClick:this.props.onCancel})]})})}))}static getDerivedStateFromProps(e,t){const n=e.boardFeedResource.data,{previousBoardFeedResourceData:i}=t;return!i&&n?{previousBoardFeedResourceData:n,coverPinIndex:w(e)}:{previousBoardFeedResourceData:n}}componentDidUpdate(e){const t=this.props.boardFeedResource.data,n=e.boardFeedResource.data;(t&&n!==t&&t.length||t&&n&&t.length!==n.length)&&t.forEach(e=>{if("pin"===e.type){(new Image).src=e.url}})}get pins(){const{boardFeedResource:{data:e}}=this.props;return e?_(e):void 0}render(){const{heading:e,onCancel:t}=this.props,{coverPinIndex:n,selectedCoverPin:i}=this.state,r=(this.pins||[])[n];return Object(d.jsx)(h.b,{accessibilityModalLabel:o.a._("Change Board Cover","accessible label for modal to change board cover image","accessible label for modal to change board cover image"),size:"lg",heading:i?this.renderCoverEditHeader():e,onDismiss:t,footer:i&&Object(d.jsx)(c.e,{display:"flex",justifyContent:"end",children:Object(d.jsx)(c.e,{padding:2,children:Object(d.jsx)(c.f,{disabled:!r,inline:!0,onClick:this.handleSave,text:o.a._("Done","BoardCoverEdit.Button.Submit.Exp","Button for saving board cover edit")})})}),children:this.renderBoardCoverMasonry()})}}function C(e){const t=Object(r.useDispatch)(),n=Object(y.a)({name:"BoardFeedResource",options:{board_id:e.boardId,field_set_key:"images_only_item",filter_section_pins:!1,page_size:50}});return Object(d.jsx)(S,{...e,boardFeedResource:n,dispatch:t})}var I=n("0rqM");const E=({label:e,labelId:t})=>t?Object(d.jsx)(c.x,{htmlFor:t,children:Object(d.jsx)(c.Y,{size:"sm",children:e})}):Object(d.jsx)(c.Y,{size:"sm",children:e});function T(e){const{children:t,label:n,labelId:r}=e;return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(c.e,{marginBottom:2,children:Object(d.jsx)(E,{label:n,labelId:r})}),t]})}const P=138;function D({coverPin:e,handleShowBoardCoverEditModal:t}){const[n,r]=Object(i.useState)(!1),{isRTL:a}=Object(g.d)();return Object(d.jsx)(T,{label:o.a._("Board cover","BoardForm.BoardFormCoverButton","Form label for updating board cover"),children:Object(d.jsx)(c.e,{width:P,position:"relative",children:Object(d.jsx)(c.X,{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onTap:t,rounding:4,children:null!=e&&e.custom_cover?Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(c.B,{height:P,rounding:4,width:P,children:Object(d.jsx)(c.w,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||P,naturalWidth:e.size&&e.size[0]||P,src:e.image_url})}),Object(d.jsx)(c.e,{position:"absolute",left:a,right:!a,bottom:!0,padding:2,children:Object(d.jsx)(c.e,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:n?"white":"rgba(255, 255, 255, 0.8)"}},children:Object(d.jsx)(c.u,{accessibilityLabel:o.a._("Edit board cover","BoardForm.BoardFormBoardCoverButton","Accessibility label on icon"),icon:"edit",color:"darkGray",size:16})})})]}):Object(d.jsx)(c.e,{alignItems:"center",color:n?"darkWash":"lightGray",display:"flex",height:P,justifyContent:"center",rounding:4,width:P,children:Object(d.jsx)(c.u,{accessibilityLabel:o.a._("Add cover photo","BoardForm.BoardFormCoverButton","Accessibility label on icon"),color:"darkGray",icon:"add",size:24})})})})})}function k({children:e,label:t,labelId:n,subtext:r}){return Object(d.jsx)(i.Fragment,{children:Object(d.jsxs)(c.e,{alignItems:"start",display:"flex",justifyContent:"start",paddingY:1,children:[e,Object(d.jsx)(c.e,{marginStart:2,children:Object(d.jsxs)(c.x,{htmlFor:n,children:[Object(d.jsx)(c.Y,{size:"lg",weight:"bold",children:t}),r]})})]})})}function B({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:n}){return t&&Object(d.jsx)(k,{label:o.a._("Email notifications","BoardForm.BoardFormCollaboratorsEmailCheckbox","Form label"),labelId:"emailNotificationsCheckbox",subtext:Object(d.jsx)(c.Y,{color:"gray",size:"lg",children:o.a._("Get an email when someone saves Pins to this board","BoardForm.BoardFormCollaboratorsEmailCheckbox","Text explaing field on board form")}),children:Object(d.jsx)(c.e,{alignItems:"center",display:"flex",children:Object(d.jsx)(c.e,{marginEnd:1,children:Object(d.jsx)(c.j,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:n})})})})}var M=n("+HMQ"),R=n("88U9"),A=n("8Mj5"),L=n("zpFB");function N({board:e,onCollaboratorInviteClick:t}){return Object(d.jsx)(M.a,{board:e,children:e=>{const{limitedCollaborators:n,overflowNumber:i}=Object(R.b)(e.length,e);return Object(d.jsxs)(c.r,{alignItems:"center",justifyContent:"between",children:[Object(d.jsx)(A.a,{additionalCount:i,faces:n.map(e=>({...e,key:e.name})),faceSize:"lg",overlap:L.a}),Object(d.jsx)(c.v,{accessibilityLabel:o.a._("Invite collaborators","BoardEdit.BoardCollaboratorsAndInviteSection","Accessibility label on button"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}})}var F=n("KEt0"),U=n("EC51"),H=n("kmwA");function z({board:e,onCollaboratorInviteClick:t}){const n=Object(d.jsxs)(c.r,{alignItems:"center",justifyContent:"start",children:[Object(d.jsx)(c.Y,{size:"sm",inline:!0,children:o.a._("Collaborators")}),Object(d.jsx)(F.a,{}),Object(d.jsx)(c.Y,{inline:!0,size:"sm",weight:"bold",children:Object(d.jsx)(U.a,{inline:!0,target:"blank",href:H.a.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE,children:o.a._("Learn more")})})]});return Object(d.jsx)(T,{alignTop:!0,label:n,labelId:"collaborators",children:Object(d.jsx)(N,{board:e,onCollaboratorInviteClick:t})})}function Y({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:n}){return t&&Object(d.jsx)(k,{label:o.a._("Let collaborators add people","BoardForm.BoardFormCollaboratorsInviteToggle","Form label"),labelId:"collaboratorInvitesEnabledCheckbox",children:Object(d.jsx)(c.j,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})})}function q({description:e,descriptionValidatorErrors:t,onChange:n}){const i="boardEditDescription";return Object(d.jsx)(T,{alignTop:!0,label:o.a._("Description","BoardForm.BoardFormDescription"," Form field label"),labelId:i,children:Object(d.jsx)(c.Z,{errorMessage:t.join(", "),id:i,name:"description",onChange:n,placeholder:o.a._("What's your board about?"),value:e})})}var G=({children:e})=>Object(d.jsx)(c.e,{paddingX:8,role:"list",children:i.Children.map(e,(t,n)=>t&&Object(d.jsx)(c.e,{role:"listitem",marginBottom:n===i.Children.count(e)-1?1:8,children:t},n))}),W=n("JW66");function V({isProtectedToggler:e,isToggleDisable:t,onChange:n,onCheckboxChange:r,privacy:a}){if(!0===e)return Object(d.jsx)(k,{label:o.a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected",children:Object(d.jsx)(c.e,{paddingY:2,children:Object(d.jsx)(c.T,{onChange:n,switched:a===W.a.BoardPrivacy.PROTECTED,id:"protected",disabled:t})})});if(a!==W.a.BoardPrivacy.PROTECTED){const e=o.a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),n=Object(d.jsx)(i.Fragment,{children:Object(d.jsxs)(c.Y,{color:"gray",size:"lg",children:[o.a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",Object(d.jsx)(U.a,{inline:!0,target:"blank",href:H.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,children:o.a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards")})]})});return Object(d.jsx)(k,{label:e,labelId:"secret",subtext:n,children:Object(d.jsx)(c.e,{display:"flex",alignItems:"center",children:Object(d.jsx)(c.j,{checked:a===W.a.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:r,disabled:t})})})}return null}function K({allowHomefeedRecommendations:e,onCheckboxChange:t}){return Object(d.jsx)(k,{label:o.a._("Personalization","BoardForm.BoardFormRecommendationToggle","form label"),labelId:"recommendation",subtext:Object(d.jsx)(c.Y,{color:"gray",size:"lg",children:o.a._("Show Pins inspired by this board in your home feed.","BoardForm.BoardFormRecommendationToggle","Caption for board settings to set visibility")}),children:Object(d.jsx)(c.j,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function X({boardOwnerHasActiveAds:e,hasActiveAds:t,isAdAccountOwner:n,onCheckboxChange:r,privacy:a,showCheckboxConfirmation:s}){if(!1===n)return Object(d.jsx)(k,{label:o.a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected",children:Object(d.jsx)(c.e,{paddingY:2,children:Object(d.jsx)(c.T,{onChange:()=>{},id:"protected",switched:!0,disabled:!0})})});if(a!==W.a.BoardPrivacy.PROTECTED){const n=o.a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),l=Object(d.jsx)(i.Fragment,{children:Object(d.jsxs)(c.Y,{color:"gray",size:"lg",children:[e?o.a._("Ads from secret boards won’t run.","BoardForm.BoardFormSecretToggle","notifying the board owner ads will not run if the board is set to secret"):o.a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",Object(d.jsx)(U.a,{inline:!0,target:"blank",href:H.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,children:o.a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards")})]})});return Object(d.jsx)(k,{label:n,labelId:"secret",subtext:l,children:Object(d.jsx)(c.e,{display:"flex",alignItems:"center",children:Object(d.jsx)(c.j,{checked:"secret"===a,id:"secret",name:"secret",onChange:"public"===a&&t?s:r})})})}return null}function $({name:e,nameValidatorErrors:t,onChange:n}){return Object(d.jsx)(T,{label:o.a._("Name","BoardForm.BoardFormTitleInput","Form field label"),labelId:"boardEditName",children:Object(d.jsx)(c.ab,{errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:o.a._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:e})})}var Z=n("4dcN"),Q=n("eBDd"),J=n("d90F"),ee=n("vvax"),te=n("nGHF"),ne=n("c50B");function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const re=e=>Object(ne.j)({max:e,maxErrorString:Object(Q.a)(o.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a string is too long","Validation error when a string is too long"),{maxLength:e})}),oe=()=>[re(W.a.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION)],ae=()=>[Object(ne.o)({message:o.a._("Don't forget to name your board!")}),re(W.a.MAX_CHARS_FOR_BOARD_TITLE)],se=({condition:e,children:t})=>e?Object(d.jsx)(c.e,{position:"absolute",zIndex:h.a,children:t}):t;class ce extends i.Component{constructor(e){super(e),ie(this,"handleChangeName",({value:e})=>{const t=Object(ne.r)(ae(),e);this.setState({name:e,nameValidatorErrors:t})}),ie(this,"handleChangeDescription",({value:e})=>{const t=Object(ne.r)(oe(),e);this.setState({description:e,descriptionValidatorErrors:t})}),ie(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),ie(this,"handleChangePrivateToggle",({value:e})=>{this.setState({privacy:e?"secret":"public"})}),ie(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),ie(this,"handleShowSecretConfirmation",()=>{this.setState({showSecretConfirmation:!0})}),ie(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),ie(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),ie(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),ie(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),ie(this,"handleCancel",()=>{Z.a.trackEvent(this.props.gaCategory,"click_cancel"),this.props.onClose()}),ie(this,"handleCheckboxChange",e=>({event:t,checked:n})=>e({event:t,value:n})),ie(this,"handleSubmit",e=>{const{onSubmit:t}=this.props,{collab_board_email:n,collaboratorInvitesEnabled:i,description:r,name:a,privacy:s,allowHomefeedRecommendations:c}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;const d=a.trim(),l=r.trim();this.setState({submitting:!0,submitError:""}),Z.a.trackEvent(this.props.gaCategory,"click_submit"),t({name:d,collab_board_email:n,collaborator_invites_enabled:i,description:l,privacy:s,allow_homefeed_recommendations:c}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=o.a._("Uh oh! Something went wrong.");if(e.message){const{message:n,message_detail:i}=e;t=i?`${n} ${i}`:n}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})})}),ie(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),ie(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),ie(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();const{onCropChange:t}=this.props;t&&t(e)});const{board:{collab_board_email:t,collaborator_invites_enabled:n,description:i,name:r,pin_count:a,privacy:s,allow_homefeed_recommendations:c}}=e;this.state={collab_board_email:t,description:i,name:r,pin_count:a,privacy:s,allowHomefeedRecommendations:c,collaboratorInvitesEnabled:n,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showSecretConfirmation:!1,submitting:!1,previousName:r,previousDescription:i,previousPrivacy:s}}static getDerivedStateFromProps(e,t){const n={};return e.board.name!==t.previousName&&(n.previousName=e.board.name,n.nameValidatorErrors=Object(ne.r)(ae(),e.board.name)),e.board.description!==t.previousDescription&&(n.previousDescription=e.board.description,n.descriptionValidatorErrors=Object(ne.r)(oe(),e.board.description)),e.board.privacy!==t.previousPrivacy&&(n.previousPrivacy=e.board.privacy),n}getFormFooter(){const{board:{archived_by_me_at:e},isArchivable:t,onArchiveButtonClick:n,onMergeButtonClick:r,onUnarchiveButtonClick:a,submitText:s}=this.props,{submitError:l,submitting:u}=this.state;return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsxs)(c.e,{alignItems:"center",display:"flex",justifyContent:"between",wrap:!0,children:[Object(d.jsxs)(c.e,{alignItems:"center",display:"flex",children:[t&&!e&&Object(d.jsx)(c.e,{children:Object(d.jsx)(c.f,{disabled:u,inline:!0,onClick:n,size:"lg",text:o.a._("Archive","button label during board edit","button label during board edit")})}),e&&Object(d.jsx)(c.e,{children:Object(d.jsx)(c.f,{disabled:u,inline:!0,onClick:a,size:"lg",text:o.a._("Unarchive","button label during board edit","button label during board edit")})}),r&&Object(d.jsx)(c.e,{padding:1,children:Object(d.jsx)(c.f,{disabled:u,inline:!0,onClick:r,size:"lg",text:o.a._("Merge","button label during board edit","button label during board edit")})})]}),Object(d.jsx)(c.e,{children:Object(d.jsx)(c.e,{display:"flex",children:Object(d.jsx)(c.e,{height:48,children:Object(d.jsx)(c.f,{color:"red",disabled:this.submitDisabled(),inline:!0,onClick:this.handleSubmit,size:"lg",text:s,type:"submit"})})})})]}),l&&Object(d.jsx)(c.e,{paddingX:1,children:Object(d.jsx)(c.Y,{color:"red",children:l})})]})}submitDisabled(){const{descriptionValidatorErrors:e,name:t,nameValidatorErrors:n,submitting:i}=this.state;return!t||n.length>0||e.length>0||i}render(){const{board:e,board:{archived_by_me_at:t,board_owner_has_active_ads:n,cover_pin:r,has_active_ads:a,id:s,is_collaborative:l},coverImageHeight:u,coverImageWidth:b,currentUserIsOwner:p,handleBoardLeave:f,isAdAccount:g,isAdAccountOwner:m,isDeletable:j,isEditable:v,isNameAndSecretView:O,onClose:y,onCollaboratorInviteClick:x,onDeleteButtonClick:_,title:w,useModalWithNoLayer:S}=this.props,{allowHomefeedRecommendations:E,collab_board_email:T,collaboratorInvitesEnabled:P,description:k,descriptionValidatorErrors:M,name:R,nameValidatorErrors:A,pin_count:L,privacy:N,showBoardCoverEdit:F,showSecretConfirmation:U}=this.state,H=v&&L>0;let W=Object(d.jsxs)(G,{children:[H&&Object(d.jsx)(D,{coverPin:r,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),Object(d.jsx)($,{name:R,nameValidatorErrors:A,onChange:this.handleChangeName}),Object(d.jsx)(q,{description:k,descriptionValidatorErrors:M,onChange:this.handleChangeDescription}),p&&!!f&&!!x&&Object(d.jsx)(z,{board:e,onCollaboratorInviteClick:x}),Object(d.jsx)(c.e,{marginBottom:-7,children:Object(d.jsx)(c.Y,{size:"sm",children:o.a._("Settings","BoardForm.BoardForm","Section heading in board edit form")})}),Object(d.jsx)(J.a,{name:"sterling_protected_board_by_owner",activate:!0,children:({anyEnabled:e})=>e?Object(d.jsx)(V,{isProtectedToggler:!!g,isToggleDisable:!!g&&!m,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:N}):Object(d.jsx)(X,{boardOwnerHasActiveAds:n,hasActiveAds:a,isAdAccountOwner:m,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivateToggle),privacy:N,showConfirmation:this.handleShowSecretConfirmation,showCheckboxConfirmation:this.handleShowSecretConfirmation})}),!t&&Object(d.jsx)(K,{allowHomefeedRecommendations:E,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),Object(d.jsx)(B,{hasCollabBoardEmail:T,isCollaborative:l,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),Object(d.jsx)(Y,{collaboratorInvitesEnabled:P,isCollaborative:l,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),j&&Object(d.jsxs)(c.e,{marginTop:-6,paddingY:4,children:[Object(d.jsx)(c.Y,{size:"sm",children:o.a._("Action","BoardForm.BoardForm.Action","Section heading in board edit form")}),Object(d.jsxs)(c.X,{onTap:_,children:[Object(d.jsx)(c.e,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:Object(d.jsx)(c.t,{size:"sm",children:o.a._("Delete board","BoardForm.Delete","Delete board label")})}),Object(d.jsx)(c.Y,{size:"lg",color:"gray",children:o.a._("Delete this board and all it's Pin forever.","BoardForm.BoardForm.Delete.Label","Delete board warning text")}),Object(d.jsx)(c.Y,{size:"lg",color:"gray",children:o.a._("You can't undo this!","BoardForm.BoardForm.Delete.LabelTwo","Delete board warning text")})]})]})]});p?O&&(W=Object(d.jsxs)(G,{children:[Object(d.jsx)($,{name:R,nameValidatorErrors:A,onChange:this.handleChangeName}),Object(d.jsx)(J.a,{name:"sterling_protected_board_by_owner",activate:!0,children:({anyEnabled:e})=>e?Object(d.jsx)(V,{isProtectedToggler:!!g,isToggleDisable:!!g&&!m,onChange:this.handleChangePrivacyToggle,privacy:N,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)}):Object(d.jsx)(X,{boardOwnerHasActiveAds:n,hasActiveAds:a,isAdAccountOwner:!!m,privacy:N,showConfirmation:this.handleShowSecretConfirmation,onCheckboxChange:this.handleCheckboxChange(this.handleShowSecretConfirmation),showCheckboxConfirmation:this.handleShowSecretConfirmation})})]})):W=Object(d.jsxs)(G,{children:[!!f&&!!x&&Object(d.jsx)(z,{board:e,onCollaboratorInviteClick:x}),Object(d.jsx)(B,{hasCollabBoardEmail:T,isCollaborative:l,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&Object(d.jsx)(K,{allowHomefeedRecommendations:E,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),Object(d.jsx)(c.Y,{color:"gray",size:"lg",children:Object(ee.b)(o.a._("Only the board’s owner ({{ boardOwner }}) can manage the rest of its features","BoardForm.CollaboratorPermissionsCopy","Copy on board edit form letting collaborators know of their permissions on a board"),{boardOwner:Object(d.jsx)(c.Y,{color:"gray",inline:!0,size:"lg",weight:"bold",children:e.owner.full_name})})})]});const Z=S?c.F:h.b,Q=o.a._("Change board cover","BoardForm.BoardCoverEdit.heading","Change board cover heading"),te=Object(d.jsx)(c.r,{alignItems:"center",justifyContent:"center",height:80,children:Object(d.jsx)(c.e,{marginStart:"auto",width:"66%",padding:4,children:Object(d.jsxs)(c.r,{alignItems:"center",justifyContent:"between",children:[Object(d.jsx)(c.t,{size:"md",children:Q}),Object(d.jsx)(c.v,{accessibilityLabel:o.a._("Cancel change board cover","BoardForm.BoardCoverEdit.cancel","Cancel change board cover heading"),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal})]})})});return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(se,{condition:!!S,children:!F&&Object(d.jsx)(Z,{accessibilityModalLabel:o.a._("Board form","BoardForm.BoardForm","Accessibility label on board form"),size:"sm",onDismiss:y,footer:this.getFormFooter(),heading:w,children:Object(d.jsx)(c.e,{marginEnd:"auto",marginStart:"auto",rounding:2,children:Object(d.jsx)("form",{method:"post",onSubmit:this.handleSubmit,children:W})})})}),F&&Object(d.jsx)(C,{boardId:s,boardName:R,coverPinId:null==r?void 0:r.pin_id,frameHeight:u,frameWidth:b,heading:te,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal}),U&&Object(d.jsx)(I.a,{confirmButtonLabel:o.a._("Make secret","Setting the boards visibility to secret","Setting the boards visibility to secret"),heading:o.a._("Are you sure?","Warning label asking users to be sure of their action","Warning label asking users to be sure of their action"),message:o.a._("If you make this board secret, some active ads will stop running","Explicitly warning users of the board visibility action they are doing","Explicitly warning users of the board visibility action they are doing"),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret})]})}}ie(ce,"defaultProps",{isNameAndSecretView:!1});t.a=Object(te.c)(ce)},mRg4:function(e,t,n){n.d(t,"a",(function(){return j}));let i=null;var r=(e,t)=>(i=i||{results:[],context:t},i.results.push(e),i),o=n("FZ8N"),a=n("LrH5"),s=n("bNC6"),c=n("3/Bf"),d=n("o9su"),l=n("FylZ");const u=(e,t)=>Object.keys(e).reduce((n,i)=>{const r=e[i];return r&&(n[i]={timestamp:t+r}),n},{}),h=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:u(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce((e,t)=>{const i=n[t];if(!i)return e;const{value:r,type:o}=i;return null==r?e:e.concat({name:t,value:r,annotation_type:o})},[]))};var n},b=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:r,parentId:o,traceId:a})=>({name:"pwt/"+e,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:r,parentId:o,id:a}),p=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,["server_"+t]:{timestamp:n}}),{}),f=(e,t)=>({...e,annotations:{...p(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),g=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:r})=>{let o=h({span:b(t,n),timeOrigin:i}),a=null;return r&&(o=f(o,r),a=((e,t,n)=>{const i=Object(d.a)();return(null==i?void 0:i.responseEnd)?f(h({span:{name:"html",startTime:0,endTime:(null==i?void 0:i.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{},id:e.server_span_id||Object(l.a)(),parentId:t},timeOrigin:n}),e):null})(r,e,i)),{trace_id:e,spans:[o,...a?[a]:[],...n.spans.map(e=>h({span:e,timeOrigin:i}))]}},m=Object(a.a)("reportResult");function j({metricId:e,pwtStaticContext:t,result:n,isAuth:i}){const{ajax:a,serverData:d}=t,l=Object(s.b)(e),u=`${n.type}.${l}`,h=void 0!==i&&{tags:{isAuth:i}}||void 0;if(Object(c.c)(n.reason?u.concat("."+n.reason):u,h),"COMPLETE"!==n.type)return void m("Abort metric "+l,n);const b=null!==(p=window.performance)&&void 0!==p&&p.now?Date.now()-window.performance.now():"unknown";var p,f;if("unknown"===b)return m(`Unable to convert to absolute times for ${l} due to missing time origin`),void Object(c.c)("missingTimeOrigin."+l,h);if(o.c&&(window.PWT_LAB_DATA=r(n,t)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!o.c){const i=e.navigationType&&"initial_app_load"===e.navigationType,r=n.traceId,s=g({traceId:r,actionName:l,result:n,timeOrigin:b,serverDataToJoin:i&&d||null});a({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(s),report_context:JSON.stringify((f=t,{debugTrace:o.a,locale:f.locale,stageName:f.stageName,userId:f.isAuthenticated?f.userId:null}))}}),m(`PinTrace ${l} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${r}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},mc7v:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}},mmKv:function(e,t,n){var i=n("/MKj"),r=n("+ip3"),o=n("ELJR"),a=n("qD10"),s=n("g5OB"),c=n("n6mq"),d=n("nKUr");const l=1.25*s.a;function u({story:e}){const{action:{text:t,url:n},custom_properties:{image:i,image_alt:r}}=e;return Object(d.jsxs)(c.e,{position:"relative",children:[Object(d.jsx)(c.B,{rounding:4,height:l,width:s.a,children:Object(d.jsx)(c.w,{alt:r,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:i})}),Object(d.jsx)(c.e,{bottom:!0,display:"flex",justifyContent:"center",position:"absolute",width:s.a,padding:4,children:Object(d.jsx)(a.a,{to:n,children:Object(d.jsx)(c.f,{color:"white",text:t})})})]})}t.a=Object(i.connect)((e,t)=>({story:e.stories[t.storyId]}),()=>({}))((function({story:e,...t}){if(!e)return null;switch(e.story_type){case"BUBBLE_ONE_COL":return Object(d.jsx)(o.a,{bubbles:e.objects,id:t.storyId,referringSource:e.referring_source,slotIndex:t.slot,storyType:e.story_type,title:e.title,viewType:t.viewType,viewParameter:t.viewParameter});case"feed_card_default":case"feed_card_video":return Object(d.jsx)(u,{story:e});case"add_pin":return Object(d.jsx)(r.b,{});default:return null}}))},mvLR:function(e,t,n){function i(e){let t=!1;return{promise:new Promise((n,i)=>{e.then(e=>t?i({isCanceled:!0}):n(e),e=>i(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return i}))},mwIZ:function(e,t,n){var i=n("ZWtO");e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},n34E:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("82UD"),o=n("n6mq"),a=n("nKUr");function s({index:e,isSelected:t,pin:n,handlePinSelectionChanged:s}){const c=n.id,d=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),s(c,!t)},[c,t]);return Object(a.jsx)(o.X,{onTap:d,rounding:4,children:Object(a.jsx)(r.a,{attributionOption:"hide",blockClickEvents:!0,pin:n,pinId:n.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:t?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}})})}},nEAA:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s}));const i=e=>"number"==typeof e?Math.round(e):e,r=e=>({type:"I16",value:i(e)}),o=e=>({type:"I32",value:i(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},nGHF:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a,HOC:s}=Object(i.a)("toastManagerContext")},nmnc:function(e,t,n){var i=n("Kz5y").Symbol;e.exports=i},nrB0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("2S0S"),r=!1,o=!1,a=function(){function e(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.getHandlerId=function(){return this.sourceId},e.prototype.canDrag=function(){i(!r,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return r=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{r=!1}},e.prototype.isDragging=function(){if(!this.sourceId)return!1;i(!o,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{o=!1}},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},e.prototype.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},e.prototype.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.prototype.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.prototype.getSourceId=function(){return this.internalMonitor.getSourceId()},e.prototype.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},e.prototype.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},e.prototype.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=a},nwWm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("QWk2"),r=n("TT16"),o=n("Gytx"),a=function(){function e(e){var t=this;this.backend=e,this.hooks=i.default({dragSource:function(e,n){t.dragSourceOptions=n||null,r.isRef(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,n){t.dragPreviewOptions=n||null,r.isRef(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return e.prototype.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dragSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){this.reconnectDragSource(),this.reconnectDragPreview()},e.prototype.reconnectDragSource=function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)):this.lastConnectedDragSource=t)},e.prototype.reconnectDragPreview=function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))},e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.prototype.didDragSourceOptionsChange=function(){return!o(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.prototype.didDragPreviewOptionsChange=function(){return!o(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},e.prototype.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},Object.defineProperty(e.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},o9su:function(e,t,n){var i=n("XtwW");t.a=()=>{const[e]=i.a?i.a.getEntriesByType("navigation"):[];return e}},"oCl/":function(e,t,n){var i=n("CH3K"),r=n("LcsW"),o=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:a;e.exports=s},oN2T:function(e,t,n){n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"i",(function(){return m})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return v})),n.d(t,"m",(function(){return O})),n.d(t,"h",(function(){return x})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return w})),n.d(t,"l",(function(){return S})),n.d(t,"j",(function(){return C})),n.d(t,"k",(function(){return I})),n.d(t,"f",(function(){return E}));var i=n("4dcN"),r=n("Pqnw"),o=n("7w6Q"),a=n("eOdZ"),s=n("nrog"),c=n("KFEb"),d=n("5FNA"),l=n("NjDU"),u=n("Wer7");const h="board_create",b="board_delete",p="board_edit";function f(e,t){return Object(u.a)("BoardResource",{board_id:e,field_set_key:t})}function g(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}function m(){return(e,t)=>{const{viewer:n}=t();n.isAuth&&Object(d.b)(n.username).forEach(t=>{e(t)})}}function j(e,t){const n={...e};return r=>(r({type:"BOARD_CREATE",payload:{board:e}}),a.a.create("BoardResource",n).callCreate().then(e=>{i.a.trackEvent(h,"success");const o=e.resource_response.data;return o&&(r(m()),null!=t&&t.isFBC||r(g(n,o)),r(Object(s.a)(o.owner.id))),o}).catch(e=>{throw i.a.trackEvent(h,"error"),e}))}function v(e={},t,n){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function O(e){return t=>{const n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},r={board_id:e.id,name:e.name,description:e.description,category:e.category,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...n};return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:r}}),a.a.create("BoardResource",r).callUpdate().then(n=>{i.a.trackEvent(p,"success");const o=n&&n.resource_response&&n.resource_response.data||e;t(v(r,o))}).catch(e=>{throw i.a.trackEvent(p,"error"),e})}}function y(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function x(e){return(t,n)=>{var r;const o=n().boards.content[e],{pin_count:s}=o,{id:c=""}=null!==(r=o.owner)&&void 0!==r?r:{};return t({type:"BOARD_DELETE",payload:{boardId:e}}),a.a.create("BoardResource",{board_id:e}).callDelete().then(()=>{i.a.trackEvent(b,"error"),t(y(e)),t(Object(l.c)({userId:c,increment:"number"==typeof s?-s:0}))}).catch(e=>{throw i.a.trackEvent(b,"error"),e})}}function _(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function w(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),a.a.create("BoardArchiveResource",{boardId:e}).callUpdate())}function S(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),a.a.create("BoardArchiveResource",{boardId:e}).callDelete())}function C(e,t){return n=>a.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then(()=>Promise.all([n(y(e)),n(f(t,"pin_count")),n(Object(r.a)(c.a.BOARD_SECTIONS,t))]))}function I(e,t){return n=>a.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then(e=>{if(!e||!e.resource_response){return n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}const i=e.resource_response.data||{},r=(i.model||{}).custom_properties||{},{campaign_id:a="unknown"}=r,s=i.display_data||{},c={isSocialSeasonalBoard:!!i.display_data,socialHeaderBgImage:s.header_image,socialHeaderBgColor:s.header_background_color,textIconColor:s.text_icon_color};return o.a.increment(`web.seasonal_board.${a}.${t}.land`),n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:c})})}function E(){return e=>e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}},oRM1:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),r=n("zQfT");function o({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:n,resourceName:o,resourceOptions:a,value:s}){const c=Object(r.a)({allowSearchOnMount:e,resourceName:o,resourceOptions:a,value:s});return Object(i.useEffect)(()=>{c.length&&n(c)},[c]),t||null}},oRao:function(e,t,n){var i=n("XRfM"),r=n("pLLR"),o=n("nKUr");t.a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:a,shortformMaximumFractionDigits:s,formatStyle:c,uplimit:d,value:l})=>Object(o.jsx)(r.b,{children:r=>Object(i.g)(r.locale||"en-US",l,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:a,shortform_maximum_fraction_digits:s,style:c,uplimit:d})})},"otv/":function(e,t,n){var i=n("nmnc"),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},ou9u:function(e,t,n){function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return i}))},pC0d:function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),r=n("/MKj"),o=n("Sihc"),a=n("Ye/N"),s=n("TgLd"),c=n("VqlB"),d=n("n34E"),l=n("w70y"),u=n("oN2T"),h=n("shej"),b=n("U4JR"),p=n("n6mq"),f=n("nKUr");function g({boardId:e,clusterId:t,handleAddClick:n,isBoardOrganizeFeed:g,onDismiss:m,suggestedSectionTitle:j}){const v=Object(i.useRef)(null),[O,y]=Object(i.useState)([]),[x,_]=Object(i.useState)(j),{data:w,fetchMore:S,isFetching:C,isLoaded:I}=Object(l.a)({name:"SectionSuggestionsPinsResource",options:{boardId:e,clusterId:t}}),E=g?3541:3069,T=Object(r.useDispatch)(),P=Object(i.useCallback)(()=>{if(w){const t=w.map(e=>e.id),i=t.length,r=t.filter(e=>!O.includes(e));n&&n(x),T(Object(o.a)({boardId:e,name:x})).then(t=>{T(Object(c.a)({inverseSelection:!1,selectedPinIds:r,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:t.id}}))}).then(()=>{T(Object(u.c)(e,"pin_count")),Object(b.b)(8606,{number_pins_suggested:i,number_pins_selected:r.length,objectId:e,section_title:x,suggested_section_name:j,view:5,viewParameter:E}),m(),g||T(Object(h.b)())})}},[O,x,w]),D=(e,t)=>{const n=[...O],i=n.indexOf(e);t&&-1!==i?n.splice(i,1):t||-1!==i||n.push(e),y(n)};return Object(f.jsx)(s.b,{accessibilityModalLabel:a.a._("Add suggested pins to your newly created section modal","sectionSuggestionPinsModal.modal.accessibilityLabelForModal","Accessibility label for modal"),allowScroll:!0,footer:Object(f.jsxs)(p.e,{display:"flex",justifyContent:"end",paddingX:2,children:[Object(f.jsx)(p.e,{display:"inlineBlock",marginEnd:2,children:Object(f.jsx)(p.f,{inline:!0,onClick:()=>{m(),g||T(Object(h.b)()),Object(b.b)(8607,{objectId:e,suggested_section_name:j,view:5,viewParameter:E})},text:a.a._("Not now","sectionSuggestionPinsModal.footer.cancelButton","Cancel creating a board section")})}),Object(f.jsx)(p.e,{display:"inlineBlock",children:Object(f.jsx)(p.f,{color:"red",inline:!0,onClick:P,text:a.a._("Add section","sectionSuggestionPinsModal.footer.addSectionButton","Add pins and section")})})]}),heading:a.a._("Pick your Pins and you're all set!","sectionSuggestionPinsModal.modal.heading","Heading for modal to add suggested pins to your newly created section"),onDismiss:m,size:704,children:Object(f.jsxs)(p.e,{maxHeight:600,maxWidth:704,ref:v,overflow:"auto",children:[Object(f.jsxs)(p.e,{padding:4,paddingX:2,children:[Object(f.jsx)(p.Y,{size:"md",children:a.a._("Section name","sectionSuggestionPinsModal.modal.sectionNameTitle","Title for section name")}),Object(f.jsx)(p.e,{paddingY:2,children:Object(f.jsx)(p.ab,{id:"SectionSuggestionPinsTitle",onChange:({value:e})=>{_(e)},placeholder:a.a._("Add a name for this group","sectionSuggestionPinsModal.modal.sectionNameTitle.placeholder","Placeholder for section name"),size:"lg",value:x})})]}),I&&w&&Object(f.jsx)(p.C,{columnWidth:152,comp:({data:e,itemIdx:t})=>Object(f.jsx)(d.a,{index:t,isSelected:!O.includes(e.id),pin:e,handlePinSelectionChanged:D}),gutterWidth:16,items:w,loadItems:S,scrollContainer:()=>v.current}),Object(f.jsx)(p.R,{accessibilityLabel:a.a._("Loading pins","sectionSuggestionPinsModal.modal.spinner","Loading indicator"),show:C})]})})}},pIlY:function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l}));var i=n("q1tI"),r=n("DzJC"),o=n.n(r),a=n("1dBE"),s=n("nKUr");const{Provider:c,Consumer:d,useHook:l}=Object(a.c)("HeaderShadow");function u({children:e}){const[t,n]=Object(i.useState)(!1),[r,a]=Object(i.useState)(!1),[d,l]=Object(i.useState)(0),[u,h]=Object(i.useState)(null),b=o()(()=>{t&&(a(window.scrollY>0),l(window.scrollY))},50);return Object(i.useEffect)(()=>(n(!0),()=>{n(!1)}),[]),Object(i.useEffect)(()=>(window.addEventListener("scroll",b),()=>{window.removeEventListener("scroll",b)}),[t]),Object(s.jsx)(c,{value:{currentScrollPosition:d,isScrolled:r,setSubheaderShadow:h,subheaderShadow:u},children:e})}},pLLR:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return l}));var i=n("q1tI"),r=n("nKUr");const o=Object(i.createContext)(),a=o.Provider;function s(e){function t(t){const n=Object(i.useContext)(o);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return Object(r.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const c=({children:e})=>{const t=Object(i.useContext)(o);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},d=({children:e})=>{const t=Object(i.useContext)(o);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function l(){const e=Object(i.useContext)(o);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},pOug:function(e,t,n){t.a=function(e){return function(t){return null!=t?e(t):null}}},pSwN:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("Ye/N"),r=n("n6mq"),o=n("nKUr");function a({handleFollowClick:e,isFollowing:t,isSelf:n,disabled:a}){const s=t?i.a._("Unfollow"):i.a._("Follow");return n?Object(o.jsx)(r.f,{inline:!0,disabled:!0,text:i.a._("That's you!","Text describing that the person's avatar is you","Text describing that the person's avatar is you")}):Object(o.jsx)(r.f,{color:t?"gray":"red",inline:!0,onClick:e,text:s,disabled:a})}},pWkb:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("yaUg"),r=n("Ye/N");function o(e,t){const{isAbbreviated:n,skipSeconds:o}=t||{},a=36e5,s=864e5,c=new Date(e),d=(new Date).getTime()-c.getTime(),l=Math.floor(d/1e3),u=Math.floor(d/6e4),h=Math.floor(d/a),b=Math.floor(d/s),p=Math.floor(d/6048e5),f=Math.floor(d/31536e6);return f>0?n?Object(i.a)(r.a._("{{ years }}y","Abbreviation for years","Abbreviation for years"),{years:""+f}):Object(i.a)(r.a.ngettext("{{ years }} year ago","{{ years }} years ago",f,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{years:""+f}):p>1?n?Object(i.a)(r.a._("{{ weeks }}w","Abbreviation for weeks","Abbreviation for weeks"),{weeks:""+p}):Object(i.a)(r.a.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",p,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{weeks:""+p}):b>0?n?Object(i.a)(r.a._("{{ days }}d","Abbreviation for days","Abbreviation for days"),{days:""+b}):Object(i.a)(r.a.ngettext("{{ days }} day ago","{{ days }} days ago",b,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{days:""+b}):h>0?n?Object(i.a)(r.a._("{{ hours }}h","Abbreviation for hours","Abbreviation for hours"),{hours:""+h}):Object(i.a)(r.a.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",h,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{hours:""+h}):u>0?n?Object(i.a)(r.a._("{{ minutes }}m","Abbreviation for minutes","Abbreviation for minutes"),{minutes:""+u}):Object(i.a)(r.a.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",u,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{minutes:""+u}):l>=0&&!o?n?Object(i.a)(r.a._("{{ numSecondsBetween }}s","Abbreviation for seconds","Abbreviation for seconds"),{numSecondsBetween:""+l}):Object(i.a)(r.a.ngettext("{{ numSecondsBetween }} second ago","{{ numSecondsBetween }} seconds ago",l,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{numSecondsBetween:""+l}):r.a._("just now","describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages")}},pWuj:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("pYMm"),r=n("fOPN"),o=n("N4T/"),a=n("YuQ1"),s=n("LTlA");t.default=function(e,t){switch(void 0===e&&(e=a.NONE),t.type){case i.HOVER:break;case r.ADD_SOURCE:case r.ADD_TARGET:case r.REMOVE_TARGET:case r.REMOVE_SOURCE:return a.NONE;case i.BEGIN_DRAG:case i.PUBLISH_DRAG_SOURCE:case i.END_DRAG:case i.DROP:default:return a.ALL}var n=t.payload,c=n.targetIds,d=void 0===c?[]:c,l=n.prevTargetIds,u=void 0===l?[]:l,h=s.xor(d,u);if(!(h.length>0||!o.areArraysEqual(d,u)))return a.NONE;var b=u[u.length-1],p=d[d.length-1];return b!==p&&(b&&h.push(b),p&&h.push(p)),h}},pYMm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("bVL4"),r=n("rV1A"),o=n("sAMb"),a=n("BEzM"),s=n("vmVG");!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("7nh8")),t.default=function(e){return{beginDrag:i.default(e),publishDragSource:r.default(e),hover:o.default(e),drop:a.default(e),endDrag:s.default(e)}}},peh1:function(e,t,n){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){return e===t}function o(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,i=null;return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return null!==n&&n.length===o.length&&o.every((function(e,i){return t(e,n[i])}))||(i=e.apply(void 0,o)),n=o,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var s=0,c=r.pop(),d=a(r),l=e.apply(void 0,[function(){return s++,c.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a=d.map((function(n){return n.apply(void 0,[e,t].concat(r))}));return l.apply(void 0,i(a))};return u.resultFunc=c,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t,i){return e[n[i]]=t,e}),{})}))};var c=t.createSelector=s(o)},pody:function(e,t,n){t.a=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},q8wg:function(e,t,n){var i=n("8wun"),r=n("1u47"),o=n("nKUr");t.a=e=>Object(o.jsx)(r.a,{...e,timeSpentManager:i.a})},qD10:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("zwad"),a=n("ANjH"),s=n("fJfT"),c=n("EC67"),d=n("nKUr");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),l(this,"state",{spamCheck:null}),l(this,"spamCheckExperimentGroup",null),l(this,"mounted",!1),l(this,"handleSpammyDomainCheck",()=>{const{external:e,location:t,pin:n,surface:i,to:r}=this.props;r&&(e||o.a.isOffsiteUrl(r))&&n&&Object(s.f)({location:t,pin:n,surface:i})&&Object(s.a)({isMounted:this.mounted,pin:n,location:t,spamCheckCallback:e=>this.setState({spamCheck:e}),href:r})}),l(this,"handleClick",e=>{const{auxData:t,external:n,history:i,location:r,onClick:a,pin:c,pinId:d,to:l}=this.props,u=n||o.a.isOffsiteUrl(l);Object(s.b)({isExternalLink:u,event:e})||(e.nativeEvent.preventDefault(),a&&a(e),l&&(u?Object(s.c)({href:l,pinId:d,pin:c,location:r,auxData:t,spamCheck:this.state.spamCheck}):Object(s.d)({event:e,onHistoryChange:void 0,href:l,history:i,target:null})))})}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}render(){const{accessibilityLabel:e,children:t,className:n,external:i,noFollow:r,setAnchorRef:o,style:a,tabIndex:s,target:c,to:l}=this.props;return Object(d.jsx)("a",{"aria-label":e,className:n,href:l,onClick:this.handleClick,ref:o,rel:i||r?"nofollow":"",style:a,tabIndex:s,target:c?"_blank":null,children:t})}}t.a=Object(a.compose)(Object(r.connect)((function({pins:e},{pinId:t}){return{pin:t&&e?e[t]:void 0}}),()=>({})),c.l)(u)},qFZT:function(e,t,n){var i=n("PnD8"),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var d=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(p){var r=b(n);r&&r!==p&&e(t,r,i)}var a=l(n);u&&(a=a.concat(u(n)));for(var s=c(t),f=c(n),g=0;g<a.length;++g){var m=a[g];if(!(o[m]||i&&i[m]||f&&f[m]||s&&s[m])){var j=h(n,m);try{d(t,m,j)}catch(v){}}}return t}return t}},qT12:function(e,t,n){var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,d=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,b=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,j=i?Symbol.for("react.block"):60121,v=i?Symbol.for("react.fundamental"):60117,O=i?Symbol.for("react.responder"):60118,y=i?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case a:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case b:case m:case g:case d:return e;default:return t}}case o:return t}}}function _(e){return x(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=d,t.Element=r,t.ForwardRef=b,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||x(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===d},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===b},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===c},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===c||e===s||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===d||e.$$typeof===l||e.$$typeof===b||e.$$typeof===v||e.$$typeof===O||e.$$typeof===y||e.$$typeof===j)},t.typeOf=x},qUzp:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("8A+h"),r=n("E58E");function o({board:e,viewer:t}){return Object(i.a)(t,e)||Object(r.a)({board:e,viewer:t})}},qVfT:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("eOdZ");function r(e,t,n){return async r=>{const o=i.a.create("ApiResource",{url:`/v3/pins/${e}/notes/`,data:{pin_note_content:n}});let a;a=n?t?await o.callUpdate():await o.callCreate():await o.callDelete();const{resource_response:s}=a;r(function(e,t){return{type:"PIN_NOTE_UPDATE",payload:{pinId:e,pinNote:t}}}(e,null==s?void 0:s.data))}}},qdVQ:function(e,t,n){n.d(t,"a",(function(){return E}));var i=n("q1tI"),r=n("/MKj"),o=n("0rqM"),a=n("weYu"),s=n("1inl"),c=n("4dcN"),d=n("Ye/N"),l=n("eOdZ"),u=n("M1Uz"),h=n("v/Q4"),b=n("vVEi"),p=n("vvax"),f=n("U4JR"),g=n("mLS1"),m=n("oN2T"),j=n("pLLR"),v=n("nGHF"),O=n("n6mq"),y=n("ANjH"),x=n("nKUr");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),_(this,"state",{editMode:"main"}),_(this,"handleBoardLeave",()=>{const{board:e,onBoardLeave:t,onClose:n}=this.props;n(),t&&t(e.id)}),_(this,"handleArchive",()=>{const{archiveBoard:e,onClose:t}=this.props;e(),this.returnToMainEditMode(),t()}),_(this,"handleUnarchive",()=>{const{onClose:e,unarchiveBoard:t}=this.props;t(),this.returnToMainEditMode(),e()}),_(this,"returnToMainEditMode",()=>this.setState({editMode:"main"})),_(this,"handleShowArchiveModal",()=>this.setState({editMode:"confirmArchive"})),_(this,"handleShowUnarchiveModal",()=>this.setState({editMode:"confirmUnarchive"})),_(this,"handleShowMergeModal",()=>this.setState({editMode:"merge"})),_(this,"handleDelete",()=>{const{board:e,deleteBoard:t,onBoardDelete:n,onClose:i,toastManagerContext:r}=this.props;t().then(()=>{r.showToast(({onHide:e})=>Object(x.jsx)(u.a,{onHide:e,text:d.a._("Board deleted!","User deleted their board","User deleted their board")}))}),this.returnToMainEditMode(),i(),n&&n(e)}),_(this,"handleMerge",e=>{const{board:t,mergeToBoard:n,onBoardDelete:i,onClose:r}=this.props;Object(f.b)(7172,{objectId:t.id,merge_flow:"menu"}),n(e),r(),i&&i(t)}),_(this,"handleShowDeleteModal",()=>{c.a.trackEvent("board_delete","open_modal"),this.setState({editMode:"confirmDelete"})}),_(this,"handleSubmit",e=>{var t;const{viewer:n,board:i,updateBoard:r,onBoardPrivacyChange:o,onBoardUpdate:a,onClose:s}=this.props,c=this.props.board.id;if(n.id===(null===(t=i.owner)||void 0===t?void 0:t.id)){const t={id:c,...e};return r(t).then(()=>{i.privacy!==e.privacy&&o?o():a&&a(c,t),s()})}{const{allow_homefeed_recommendations:t,collab_board_email:n}=e;t!==i.allow_homefeed_recommendations&&r({id:c,allow_homefeed_recommendations:t});return l.a.create("BoardSettingsResource",{board_id:c,collab_board_email:n}).callUpdate({showError:!1}).then(()=>s()).catch(e=>{throw e.message})}})}render(){var e;const{board:t,categories:n,viewer:r,onCropChange:s,onClose:c,onCollaboratorInviteClick:l,onToggleFlyout:u}=this.props,{editMode:h}=this.state,b=d.a._("Edit your board","BoardEdit.Heading.Text","edit board heading"),f=r.isAuth&&r.id===(null===(e=t.owner)||void 0===e?void 0:e.id),m=!!!t.archived_by_me_at&&f,j=Object(x.jsx)(O.r,{alignItems:"center",justifyContent:"center",height:80,children:Object(x.jsx)(O.e,{marginStart:"auto",marginEnd:4,width:"66%",paddingY:4,children:Object(x.jsxs)(O.r,{alignItems:"center",justifyContent:"between",children:[Object(x.jsx)(O.t,{size:"md",children:b}),Object(x.jsx)(O.v,{accessibilityLabel:d.a._("Cancel change board cover","BoardEdit.icon.cancel","Cancel board edit"),icon:"cancel",iconColor:"darkGray",onClick:c})]})})});return Object(x.jsxs)(i.Fragment,{children:["main"===h&&Object(x.jsx)(g.a,{board:t,categories:n,currentUserIsOwner:f,gaCategory:"board_edit",handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:f,isEditable:f,onClose:c,onCropChange:s,onArchiveButtonClick:this.handleShowArchiveModal,onDeleteButtonClick:this.handleShowDeleteModal,onMergeButtonClick:m?this.handleShowMergeModal:void 0,onCollaboratorInviteClick:l,onSubmit:this.handleSubmit,onToggleFlyout:u,onUnarchiveButtonClick:this.handleShowUnarchiveModal,submitText:d.a._("Done","BoardEdit.BoardEdit","Submit button text"),title:j}),"merge"===h&&Object(x.jsx)(a.a,{onCancel:this.returnToMainEditMode,onSubmit:this.handleMerge,sourceBoardId:t.id}),"confirmDelete"===h&&Object(x.jsx)(o.a,{confirmButtonLabel:d.a._("Delete forever","Confirms the user wants to permanently delete the board","Confirms the user wants to permanently delete the board"),cancelButtonLabel:d.a._("Cancel"),message:d.a._("Once you delete a board and all its Pins, you can't undo it!"),onConfirm:this.handleDelete,onCancel:this.returnToMainEditMode}),"confirmArchive"===h&&Object(x.jsx)(o.a,{confirmButtonLabel:d.a._("Archive","button label on confirming board archive","button label on confirming board archive"),heading:d.a._("Archive this board?","modal heading for board archive confirmation","modal heading for board archive confirmation"),message:Object(p.b)(d.a._("If you archive {{ boardName }}, you won’t be able to save Pins to it. We’ll hide it from your profile and stop using it for recommendations. (Don’t worry: You can unarchive your board to undo this!)","BoardEdit","Confirmation message when archiving a board"),{boardName:Object(x.jsx)(O.Y,{inline:!0,weight:"bold",children:t.name},t.name)}),onCancel:this.returnToMainEditMode,onConfirm:this.handleArchive}),"confirmUnarchive"===h&&Object(x.jsx)(o.a,{confirmButtonLabel:d.a._("Unarchive","button label on confirming board unarchive","button label on confirming board unarchive"),heading:d.a._("Unarchive this board?","modal heading for board unarchive confirmation","modal heading for board unarchive confirmation"),message:Object(p.b)(d.a._("If you unarchive {{ boardName }}, it will show up on your profile and you'll be able to save new Pins to it."),{boardName:Object(x.jsx)(O.Y,{inline:!0,weight:"bold",children:t.name},t.name)}),onCancel:this.returnToMainEditMode,onConfirm:this.handleUnarchive})]})}}var S=Object(y.compose)(v.c,b.d,Object(r.connect)(null,(e,t)=>{const n=e=>()=>{const{board:n,onBoardArchiveChange:i,toastManagerContext:r}=t;i&&i(),r.showToast(({onHide:t})=>{var i;return Object(x.jsx)(u.a,{imageUrl:null!==(i=n.image_cover_url)&&void 0!==i?i:"",onHide:t,text:Object(p.b)(e?d.a._("Archived {{ boardName }}","Toast text on complete archiving board","Toast text on complete archiving board"):d.a._("Unarchived {{ boardName }}","Toast text on complete unarchiving board","Toast text on complete unarchiving board"),{boardName:n.name}).join("")})})};return{archiveBoard:()=>e(Object(m.a)(t.board.id)).then(n(!0)),deleteBoard:()=>e(Object(m.h)(t.board.id)),mergeToBoard:n=>e(Object(m.j)(t.board.id,n.id)).then(()=>{t.showBlockingActionToast({actionType:"merge",board:n})}).catch(e=>{s.a.showError(e.message||d.a._("Failed to merge boards","Error message when failed to merge boards","Error message when failed to merge boards"))}),updateBoard:t=>e(Object(m.m)(t)),unarchiveBoard:()=>e(Object(m.l)(t.board.id)).then(n(!1))}}))((function(e){return Object(x.jsx)(w,{...e,requestContext:Object(j.d)(),viewer:Object(h.a)()})})),C=n("TgLd"),I=n("w70y");function E({boardId:e,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:o,onBoardPrivacyChange:a,onBoardLeave:s,onBoardDelete:c,onBoardUpdate:l,onClose:u,onCollaboratorInviteClick:h,onCropChange:b}){const[p,f]=Object(i.useState)(!1),{data:g}=Object(I.a)({name:"CategoriesResource",allowStale:!1});Object(I.a)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},allowStale:!1});const m=Object(r.useSelector)(({boards:t})=>t.content[e]);if(!!(!m||!g))return Object(x.jsx)(C.b,{accessibilityModalLabel:d.a._("Board edit","BoardEdit.BoardEditModal","Accessibility label on modal"),onDismiss:u,size:"sm",children:Object(x.jsx)(O.e,{padding:12,children:Object(x.jsx)(O.R,{accessibilityLabel:d.a._("Board edit","BoardEdit.BoardEditModal","Accessibility label on loading spinner"),show:!0})})});return Object(x.jsx)(S,{board:m,categories:g,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:o,onBoardPrivacyChange:a,onBoardLeave:s,onBoardDelete:c,onBoardUpdate:l,onClose:()=>{p||u()},onCollaboratorInviteClick:h,onCropChange:b,onToggleFlyout:()=>f(!p)})}},qnp8:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("Ye/N"),r=n("EC51"),o=n("M1Uz"),a=n("vvax"),s=n("n6mq"),c=n("nKUr");function d({boardName:e,boardUrl:t,isBoardlessPin:n,newPin:d,onChangeButtonClick:l,onHide:u,onUndo:h,pinImageUrl:b}){const p=Object(c.jsx)(s.e,{color:"lightGray",display:"flex",height:48,overflow:"hidden",width:48,children:Object(c.jsx)(s.e,{alignItems:"center",justifyContent:"center",padding:3,children:Object(c.jsx)(s.u,{accessibilityLabel:i.a._("Saved to profile thumbnail","PostSavedPinToast.thumbnail.accessibilityLabel","Thumbnail for saved to profile."),color:"darkGray",icon:"history",size:24})})}),f=(!!l||!!h)&&Object(c.jsx)(s.f,{inline:!0,text:d&&n&&l?i.a._("Change","PostSavedPinToast.ChangeButton","Change saved pin to a different destination"):i.a._("Undo","PostSavedPinToast.UndoButton","Undo Saved Pin"),size:"lg",onClick:d&&n&&l?()=>l(d):h},"button-key");return Object(c.jsx)(o.a,{button:f,duration:n?6e3:3e3,iconThumbnail:n?p:void 0,imageUrl:b,onHide:u,text:Object(c.jsx)(s.Y,{size:"md",truncate:!0,children:Object(a.b)(i.a._("Saved to {{ destination }}","PostSavedPinToast.SavedToBoardLabel","Saved to label for better save"),{destination:Object(c.jsx)(r.a,{href:n?"/me/":null!=t?t:"",children:Object(c.jsx)(s.Y,{size:"md",weight:"bold",truncate:!0,children:e},"PostSavedPinToastBoardName")})})})})}},qpbZ:function(e,t,n){function i(e,t,n){return e.split(n).map(e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c}));const r=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return i(e,t,r)}function a(e,t){return i(e,t,r).join("")}const s=/(\{\s*\w+\s*\})/g;function c(e,t){return i(e,t,s)}},qyR9:function(e,t,n){n.d(t,"a",(function(){return m}));var i=n("q1tI"),r=n("jdx6"),o=n("gONw"),a=n("Ye/N"),s=n("gdcG"),c=n("n6mq"),d=n("nKUr");var l=Object(s.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:i,hasHoverState:r,hoverHandlers:o,name:s,onClick:l}=e,u=s||t||a.a._("Create board");return Object(d.jsx)(c.X,{onMouseEnter:o.onMouseOver,onMouseLeave:o.onMouseLeave,onTap:l,children:Object(d.jsxs)(c.e,{alignItems:"center",color:r&&n?"lightGray":"white",display:"flex",flex:i?"shrink":"none",height:64,width:"100%",children:[Object(d.jsx)(c.e,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton",children:Object(d.jsx)(c.u,{accessibilityLabel:a.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})}),s?Object(d.jsx)(c.e,{margin:1,children:Object(d.jsxs)(c.Y,{inline:!0,overflow:"normal",children:[" ",a.a._("Create: ")," "]})}):null,Object(d.jsxs)(c.Y,{align:"center",inline:!0,truncate:!0,weight:"bold",children:[" ",u," "]})]})})})),u=n("9QW3"),h=n("NdQN"),b=n("IBrh"),p=n("seP0");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(...e){super(...e),f(this,"state",{searchQuery:""}),f(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),f(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),f(this,"renderSectionHeader",(e,t)=>e.title?Object(d.jsxs)(c.e,{children:[t>0&&Object(d.jsx)(c.o,{}),Object(d.jsx)(c.e,{paddingX:3,paddingY:1,children:Object(d.jsx)(c.Y,{size:"md",children:e.title})})]}):null),f(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:i,isSelectMode:o,disabledRowId:a}=this.props,{searchQuery:s}=this.state,{inSectionSelection:c=!1}=n,l=i&&i.board===e.id?i&&i.state:null,u="board_section"===e.type;return Object(d.jsx)(r.a,{disabled:e.id===a&&c,isSection:u,isSelectMode:o,isWithinSectionPicker:c,item:e,saveState:l,searchQuery:s,selected:t})})}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:i,isLoaded:r,onCreate:s,pinId:p}=this.props;if(r){const{searchQuery:r}=this.state,a=i(r);return this.indexManager=new u.a(a.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),Object(d.jsxs)(c.e,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}},children:[!n&&Object(d.jsxs)(c.e,{children:[Object(d.jsx)(c.e,{paddingX:3,marginBottom:4,marginTop:1,children:Object(d.jsx)(h.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:r})}),Object(d.jsx)(c.o,{})]}),Object(d.jsx)(b.a,{disabled:!!e,grow:!n&&!r,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:a}),Object(d.jsx)(c.o,{}),s&&Object(d.jsx)(l,{buttonLabel:t,hasHoverState:!0,name:r,onClick:()=>s(r)}),n&&s&&p&&Object(d.jsx)(o.a,{onBoardSelected:s,pinId:p})]})}return Object(d.jsx)(c.e,{paddingY:5,children:Object(d.jsx)(c.R,{accessibilityLabel:a.a._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0})})}}function m(e){const t=Object(p.c)();return Object(d.jsx)(g,{...e,boardPickerStopwatch:t})}},qyXF:function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var i=n("Ye/N"),r=n("vvax");const o=()=>i.a._("{{ first }}","Generic message that lists 1 item","Generic message that lists 1 item (ex: Stevie)"),a=()=>i.a._("{{ first }} and {{ second }}","Generic message that lists 2 items","Generic message that lists 2 items (ex: Stevie and Michael)"),s=()=>i.a._("{{ first }}, {{ second }} and {{ third }}","Generic message that lists 3 items","Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)"),c=()=>i.a._("{{ first }}, {{ second }}, {{ third }} and {{ fourth }}","Generic message that lists 4 items","Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)"),d=()=>i.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}","Generic message that lists 5 items","Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)"),l=()=>i.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}","Generic message that lists 6 items","Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)");function u(e){const t={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return Object(r.b)(o(),t);case 2:return Object(r.b)(a(),t);case 3:return Object(r.b)(s(),t);case 4:return Object(r.b)(c(),t);case 5:return Object(r.b)(d(),t);case 6:return Object(r.b)(l(),t);default:return Object(r.b)(i.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others","Generic message that lists more than 6 items","Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)"),t)}}function h(e){const t={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return Object(r.b)(o(),t);case 2:return Object(r.b)(a(),t);case 3:return Object(r.b)(s(),t);case 4:return Object(r.b)(c(),t);case 5:return Object(r.b)(d(),t);case 6:return Object(r.b)(l(),t);case 7:return Object(r.b)(i.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}","Generic message that lists 7 items","Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)"),t);default:return Object(r.b)(i.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others","Generic message that lists more than 7 items","Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)"),t)}}},r36Y:function(e,t,n){e.exports=n("Copi")},r8eU:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("QLaP"),r=n.n(i);class o{constructor(e,t){r()(e,"You must pass a requestContext to check an Experiment"),r()(t,"You must pass the name of the experiment to check"),this.requestContext=e,this.experimentName=t.toLowerCase()}_getGroup(e){return e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}class a extends o{getGroup(e=!1){return this._getGroup(e)}}class s extends o{_isTreatment(e){return e.startsWith("enabled")||e.startsWith("employee")}enabled(){return this._isTreatment(this._getGroup(!0))}enabledWithNoActivation(){return this._isTreatment(this._getGroup(!1))}}},r9FX:function(e,t,n){n.d(t,"a",(function(){return f}));var i=n("q1tI"),r=n("ihsa"),o=n("V08O"),a=n("n6mq"),s=n("nKUr");const c=["imageFadeOut {\n    0% { opacity: 1 }\n    60% { opacity: 1 }\n    100% { opacity: 0 }\n}"],d={imageFadeOut:"imageFadeOut 0.9s both"};function l({backgroundColor:e,cyclingImages:t,imgLabel:n,imageHeight:l,imageWidth:u}){const[h,b]=Object(i.useState)(0);Object(i.useEffect)(()=>{const e=setInterval(()=>{b(e=>e+1)},900);return()=>clearInterval(e)},[]);const p=h%t.length,f=(h+1)%t.length;return((e,t,n,i,l,u,h)=>Object(s.jsxs)(a.e,{position:"relative",width:l,height:i,children:[Object(s.jsx)(a.e,{position:"absolute",top:!0,left:!0,width:l,height:i,children:Object(s.jsx)(a.w,{alt:u,color:h,fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url,children:Object(s.jsx)(a.e,{color:"darkGray",opacity:.3,height:"100%"})})}),Object(s.jsxs)(a.e,{position:"absolute",top:!0,left:!0,width:l,height:i,dangerouslySetInlineStyle:{__style:{animation:d.imageFadeOut,WebkitAnimation:d.imageFadeOut}},children:[Object(s.jsx)(r.a,{unsafeCSS:Object(o.a)(c)}),Object(s.jsx)(a.w,{alt:u,color:h,fit:"cover",naturalHeight:t.height,naturalWidth:t.width,src:t.url,children:Object(s.jsx)(a.e,{color:"darkGray",opacity:.3,height:"100%"})})]})]},e))(h,t[p],t[f],l,u,n,e)}var u=n("yaUg"),h=n("Ye/N");const b={xl_144:{imageWidth:144,imageHeight:144,fontSize:"lg"},md_120:{imageWidth:120,imageHeight:120,fontSize:"md"}},p=b.xl_144;function f({clickHandler:e,index:t,interest:n,isSelected:r,isTopicEdu:o,size:c,totalInterests:d}){const{fontSize:f,imageWidth:g,imageHeight:m}=b[c]||p,{background_color:j,cycling_images:v,images:O,name:y}=n,x=n.label?String(n.label):y,_=O["400x"],w=v?v.map(e=>e["400x"]):[],[S,C]=Object(i.useState)(!1),I=d&&t?Object(u.a)(h.a._("{{ interestName }}, list {{ interestsPosition }} of {{ interestsCount }}","nux.interestStep.interestForLists","Label for interest card with description for lists"),{interestName:n.name,interestsPosition:t.toString(),interestsCount:d.toString()}):Object(u.a)(h.a._("{{ interestName }} interest card","nux.interestStep.interest","Label for interest card"),{interestName:n.name});return((e,t,n,i)=>{const r=e?t-8:t,o=e?n-8:n,c=e?14:16,d=e?-1:0,l=e?{borderColor:"black"}:{borderStyle:"none"};return Object(s.jsx)(a.e,{borderStyle:e?"lg":"none",dangerouslySetInlineStyle:{__style:l},width:t,height:n,rounding:4,color:"white",display:"flex",justifyContent:"center",alignItems:"center",children:Object(s.jsx)(a.e,{width:r,height:o,dangerouslySetInlineStyle:{__style:{borderRadius:c}},overflow:"hidden",children:Object(s.jsx)(a.e,{margin:d,children:i})})})})(!o&&(r||S),g,m,Object(s.jsx)(a.B,{rounding:4,children:Object(s.jsx)(a.e,{rounding:4,position:"relative",display:"inlineBlock",width:g,height:m,"data-test-id":"nux-picker-topic",children:Object(s.jsxs)(a.X,{accessibilityLabel:I,onTap:e,onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),fullHeight:!0,children:[w.length>0&&S?Object(s.jsx)(l,{backgroundColor:j,cyclingImages:w,imageHeight:m,imageWidth:g,imgLabel:x}):Object(s.jsx)(a.w,{alt:x,color:j,fit:"cover",naturalHeight:_.height,naturalWidth:_.width,src:_.url,children:Object(s.jsx)(a.e,{color:"darkGray",opacity:.3,height:"100%"})}),r&&Object(s.jsxs)(a.e,{height:"100%",width:"100%",position:"absolute",top:!0,children:[Object(s.jsx)(a.e,{color:"darkGray",opacity:.7,height:"100%"}),Object(s.jsx)(a.e,{position:"absolute",right:!0,marginTop:2,marginEnd:2,marginStart:2,top:!0,children:Object(s.jsx)(a.j,{checked:!0,id:"selectedTopic",onChange:()=>{}})})]}),Object(s.jsx)(a.e,{position:"absolute",bottom:!0,left:!0,right:!0,margin:2,"data-test-id":"nux-picker-topic-label",children:Object(s.jsx)(a.Y,{align:"left",color:"white",size:f,weight:"bold",overflow:"breakWord",children:y})})]})})}))}},rV1A:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("7nh8");t.default=function(e){return function(){if(e.getMonitor().isDragging())return{type:i.PUBLISH_DRAG_SOURCE}}}},rVUJ:function(e,t,n){var i,r,o,a=n("q1tI"),s=n("/MKj"),c=n("BcvT"),d=n("n6mq"),l=n("nKUr");class u extends a.Component{renderPulsar(){const{anchor:e,handleComplete:t,zIndex:n}=this.props;return Object(l.jsx)(c.a,{anchor:e,onTouch:t,zIndex:n})}renderFlyout(){const{anchor:e,overflow:t,tooltip:n,handleDismiss:i,handleComplete:r}=this.props;if(!n)return null;const{cancelButtonText:o,confirmButtonText:a,mainText:s,idealDirection:c="down"}=n,u=o&&i&&a&&r;return Object(l.jsx)(d.I,{anchor:e,color:"blue",idealDirection:c,onDismiss:i,shouldFocus:!1,showCaret:!0,size:"flexible",children:Object(l.jsxs)(d.e,{maxWidth:284,padding:3,width:"max-content",children:[Object(l.jsx)(d.Y,{color:"white",overflow:t,weight:"bold",children:s}),u?Object(l.jsxs)(d.e,{marginTop:2,display:"flex",alignItems:"center",children:[Object(l.jsx)(d.e,{column:6,marginEnd:1,children:Object(l.jsx)(d.f,{color:"transparentWhiteText",onClick:e=>i(e),size:"md",text:String(o)})}),Object(l.jsx)(d.e,{column:6,children:Object(l.jsx)(d.f,{color:"white",size:"md",text:String(a),onClick:r})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}o={overflow:"breakWord"},(r="defaultProps")in(i=u)?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o;var h=n("NdXn"),b=n("AAEI"),p=n("gC5q");t.a=({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:i,experience:r,isHidden:o,onCompleteClick:c,overflow:f,zIndex:g})=>{var m;const j=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:Object(s.useSelector)(({experiences:e})=>null==e?void 0:e.anchorExperiences),passedExperience:r}),v=Object(b.a)(null==j?void 0:j.placement_id),O=(null==j||null===(m=j.display_data)||void 0===m?void 0:m.delay)||0,[y,x]=Object(a.useState)(!!O);if(Object(a.useEffect)(()=>{if(O>0&&y){const e=setTimeout(()=>{x(!1)});return()=>clearTimeout(e)}return()=>{}},[O,y]),Object(a.useEffect)(()=>{!y&&j&&v.viewExperience(j.placement_id,j.experience_id)},[y,j]),!j||y||o)return a.Children.only(n);const _=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),Object(p.a)(h.a,!0)(t)})(j);return Object(l.jsxs)(d.e,{position:"relative",height:null==i?void 0:i.height,display:null==i?void 0:i.display,children:[Object(l.jsx)(d.X,{onMouseEnter:()=>{var e;null!==(e=j.display_data)&&void 0!==e&&e.complete_on_hover&&v.completeExperience(j.placement_id,j.experience_id)},onTap:()=>{c&&c(),_.skipComplete||v.completeExperience(j.placement_id,j.experience_id)},children:a.Children.only(n)}),Object(l.jsx)(u,{anchor:t||null,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),v.dismissExperience(j.placement_id,j.experience_id)},overflow:f,pulserOnly:!!_.pulserOnly,tooltip:_.tooltip,tooltipOnly:!!_.tooltipOnly,zIndex:g})]})}},rYoy:function(e,t,n){var i=n("E8d4");t.a=i.a},"rg+c":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("P9b8"),o=n("ANjH"),a=n("nKUr");const s={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};const c={hover:({index:e,onDragHover:t},n,i)=>{t(e,function(e,t){const n=t.targetEl;if(!(n&&n instanceof HTMLElement))return null;const{x:i,y:r}=e.getClientOffset(),{left:o,right:a,top:s,bottom:c,width:d,height:l}=n.getBoundingClientRect();return{positionRelativeToCenter:{x:i-(o+a)/2,y:r-(s+c)/2},boundingBox:{width:d,height:l}}}(n,i))}};class d extends i.Component{render(){const{children:e,connectDragSource:t,connectDropTarget:n,isDragging:i,isDraggingInternal:r}=this.props;return t(n(Object(a.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:i||r?0:1},children:e})))}}t.b=Object(o.compose)(Object(r.DropTarget)(e=>e.type,c,e=>({connectDropTarget:e.dropTarget()})),Object(r.DragSource)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()})))(d)},rkcQ:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return y})),n.d(t,"j",(function(){return x}));const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},r={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},a="Shopify",s="WordPress",c="WooCommerce",d="Weebly",l="Tealium",u="Magento",h="Squarespace",b="Ecwid",p="Bigcommerce",f={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},g={["Google Tag Manager"]:f.GOOGLE_TAG_MANAGER,[a]:f.SHOPIFY,[c]:f.WOO_COMMERCE,[s]:f.WORDPRESS,[h]:f.SQUARESPACE,[d]:f.WEEBLY,[l]:f.TEALIUM,[u]:f.MAGENTO,[b]:f.ECWID,[p]:f.BIG_COMMERCE},m={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD"},j={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},v={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},O={IMPRESSION_DATA:"impressiondata",CONVERSION_DESTINATION:"conversiondestination",IMPRESSION_EXPIRY:"impressionexpiry",REPORTING_ORIGIN:"reportingorigin"},y=2592e6,x={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_ON:"attributeon"}},rrvb:function(e,t,n){var i=n("q1tI"),r=n("Ye/N"),o=n("9QW3"),a=n("NdQN"),s=n("IBrh"),c=n("gdcG"),d=n("n6mq"),l=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{showFlyout:!1}),u(this,"setContainerRef",e=>{this.containerRef=e}),u(this,"handleCreate",()=>{this.hideFlyout();const{onCreate:e}=this.props;e&&e()}),u(this,"handleSelectItem",e=>{this.hideFlyout();const{onSelect:t,onCreate:n}=this.props;e?t(e):n&&n()}),u(this,"handleDropdownTouch",()=>{this.setState(e=>({showFlyout:!e.showFlyout}))}),u(this,"handleHideFlyout",e=>{this.containerRef&&e.target instanceof HTMLElement&&!this.containerRef.contains(e.target)&&this.hideFlyout()}),u(this,"hideFlyout",()=>{const{hoverHandlers:{onMouseLeave:e}}=this.props;e(),this.setState({showFlyout:!1})})}componentDidMount(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}render(){const{dropdownValue:e,fetchMore:t,hoverHandlers:{onMouseOver:n,onMouseLeave:i},isHovering:c,isStoryPin:u,onCreate:h,onSearchQueryUpdate:b,renderRow:p,searchQuery:f,sections:g,createBtnDisabled:m}=this.props,{showFlyout:j}=this.state;this.indexManager=new o.a(g.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem);const v=!f.trim()||!!m;return Object(l.jsxs)("div",{ref:this.setContainerRef,style:{...u?{flex:"grow"}:{}},children:[Object(l.jsx)(d.X,{fullWidth:!!u,onMouseEnter:n,onMouseLeave:i,onTap:this.handleDropdownTouch,rounding:2,children:Object(l.jsxs)(d.e,{alignItems:"center",color:c?"lightWash":"lightGray",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:u?4:3,rounding:u?4:2,children:[Object(l.jsx)(d.e,{display:"flex",flex:"grow",children:Object(l.jsx)(d.Y,{weight:"bold",children:e})}),Object(l.jsx)(d.u,{accessibilityLabel:"",color:"darkGray",icon:"arrow-down",size:14})]})}),j&&Object(l.jsx)(d.e,{position:"relative",children:Object(l.jsxs)(d.e,{borderStyle:"sm",color:"white",dangerouslySetInlineStyle:{__style:{zIndex:1}},direction:"column",display:"flex",overflow:"hidden",position:"absolute",rounding:u?4:2,width:"100%",children:[Object(l.jsx)(d.e,{children:Object(l.jsxs)(d.e,{display:"flex",marginStart:-1,marginEnd:-1,padding:2,children:[Object(l.jsx)(d.e,{display:"flex",flex:"grow",paddingX:1,children:Object(l.jsx)(a.a,{hideIcon:!0,indexManager:this.indexManager,onChange:b,value:f})}),h&&Object(l.jsx)(d.e,{paddingX:1,children:Object(l.jsx)(d.f,{disabled:v,inline:!0,onClick:this.handleCreate,text:r.a._("Create","board or section dropdown create button","board or section dropdown create button")})})]})}),Object(l.jsx)(s.a,{fetchMore:t,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:p,sections:g})]})})]})}}t.a=Object(c.a)(h)},rxSY:function(e,t,n){n.d(t,"a",(function(){return B}));var i=n("q1tI"),r=n("FDmi"),o=n("Ye/N"),a=n("w70y"),s=n("n6mq"),c=n("nKUr");function d({boardId:e,invitedUserId:t,isInvited:n,onClick:r,buttonSize:d="sm"}){const l=Object(a.a)({name:"BoardInviteResource",options:{board_id:e,invited_user_id:t}});Object(i.useEffect)(()=>{l.refreshData()},[]);const u={text:o.a._("Invite","[button] invite someone to collaborate on a board","it appears in the list expanded when click invite button at the top of board page"),color:"red",disabled:!1};return l.isFetching&&(u.text=o.a._("Loading","[button] disabled button status text when checking if the user has been invited","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),(n||l.isLoaded&&l.data)&&(u.text=o.a._("Invited","[button] disabled button status text when a user has been invited to a board","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),Object(c.jsx)(s.f,{color:u.color,size:d,disabled:u.disabled,onClick:r,text:u.text})}var l=n("ViqK"),u=n("xZ6X"),h=n("fZbY"),b=n("7w6Q"),p=n("TSYQ"),f=n.n(p),g=n("G35+"),m=n("+zF7");const{FACEBOOK:j,GPLUS:v,YAHOO:O}=g.a,y="40px";function x(e){const t={[j]:o.a._("Find friends from Facebook"),[v]:o.a._("Find friends from Google+"),[O]:o.a._("Find friends from Yahoo")},{network:n}=e;return Object(c.jsx)(s.X,{onTap:()=>function(e){m.a.instance().handleConnect(e,!0,{})}(n),children:Object(c.jsxs)(s.e,{display:"flex",alignItems:"center",paddingX:3,paddingY:2,children:[Object(c.jsx)(s.e,{width:y,height:y,marginEnd:4,children:Object(c.jsx)("div",{className:"SocialConnectCell",children:Object(c.jsx)("div",{className:f()("icon","socialConnect-"+n),children:Object(c.jsx)("em",{})})})}),Object(c.jsx)(s.e,{display:"flex",flex:"grow",alignItems:"start",direction:"column",children:Object(c.jsx)(s.Y,{color:"darkGray",size:"md",weight:"bold",children:t[n]})})]})})}var _=n("oRM1"),w=n("v/Q4"),S=n("x12c"),C=n("U4JR");var I=n("ZE2w");const E=[];function T({boardId:e,onInvitesDidUpdate:t,onInviteDidComplete:n,shareSuggestions:a}){const p=Object(w.a)(),[f,g]=Object(i.useState)(p.isAuth?p.socialNetwork:void 0),[m,j]=Object(i.useState)(""),[v,O]=Object(i.useState)([]),[y,T]=Object(i.useState)({}),[P,D]=Object(i.useState)({}),k=e=>{if(!e)return[];return Object.keys(e).filter(e=>E.includes(e)).filter(t=>!1===e[t].connected).map(e=>Object(c.jsx)(x,{network:e},"socialConnect-"+e))},B=e=>{switch(e.type){case"user":case"user_share_suggestion":return e.username||o.a._("On Pinterest","is a user of Pinterest","is a user of Pinterest");case"emailcontact":case"email_share_suggestion":return e.email||o.a._("Email Contact","invited user has an email","invited user has an email")}return""};S.b.subscribe("currentUser","socialNetworkUpdated",(e,t,n)=>{g(function(e){return{facebook:{connected:e.connected_to_facebook||!1},google:{connected:e.connected_to_google||!1},youtube:{connected:e.connected_to_youtube||!1},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:e.connected_to_microsoft||!1},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:e.connected_to_etsy||!1},instagram:{connected:e.connected_to_instagram||!1},dropbox:{connected:e.connected_to_dropbox||!1}}}(n))});const M=(i,r)=>{const{id:o,full_name:a,debug_reason:s}=i;let c="";s&&(c=s.reason),((t,n)=>{const i=m?1044:1039;Object(C.b)(101,{component:13029,element:i,entered_query:m,result_index:t+1,rs:n,objectId:e,view:5,viewParameter:3059})})(r,c);const d={...y};d[o]=!0,T(d),Object(I.d)(e,[o]).then(()=>{n(a,!0)}).catch(e=>{n(a,!1,e);const t={...y};t[o]=!1,T(t)}).finally(t)},R=[...k(f)];let A=a;return m&&(A=v),Object(c.jsxs)(s.e,{minHeight:0,display:"flex",direction:"column",children:[Object(c.jsx)(s.e,{paddingY:4,flex:"none",display:"flex",alignItems:"center",children:Object(c.jsx)(s.e,{flex:"grow",children:Object(c.jsx)(_.a,{onTypeaheadSuggestionsChange:e=>{b.a.increment("web_contacts_search",1,{source:"board_invite"}),O(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25},value:m,children:Object(c.jsx)(s.e,{paddingX:4,children:Object(c.jsx)(s.N,{accessibilityLabel:o.a._("Search for a name or email","accessible label for contact search input field","accessible label for contact search input field"),id:"search",onChange:({value:e})=>{j(e),Object(C.b)(4113,{component:13029,element:1043,entered_query:e,viewParameter:3059})},placeholder:o.a._("Search by name or email","search input field prompt for finding contacts","search input field prompt for finding contacts"),size:"lg",value:m})})})})}),Object(c.jsxs)(s.e,{overflow:"scrollY",maxHeight:414,children:[A.map((t,n)=>{const i=t.username?`/${t.username}/`:null;return Object(c.jsx)(s.e,{children:Object(c.jsx)(l.a,{imageUrl:t.image_medium_url||"",name:t.full_name||t.email,title:t.full_name||t.email,subtitle:B(t),accessory:Object(c.jsx)(d,{boardId:e,invitedUserId:t.id,isInvited:(r=t.id,!!y[r]),onClick:()=>M(t,n),buttonSize:"lg"}),linkURL:i})},n);var r}),m&&(Object(h.a)(m)?Object(c.jsx)(l.a,{name:m,title:m,accessory:(L=!!P[m],N=()=>{const i=m;if(!Object(h.a)(i))return;const r={...P};r[i]=!0,D(r),Object(I.c)(e,[i]).then(()=>{n(i,!0),j("")}).catch(e=>{n(i,!1,e);const t={...P};t[i]=!1,D(t)}).finally(t)},F="lg",Object(c.jsx)(s.f,{color:L?"gray":"red",disabled:!!L,size:F,onClick:N,text:L?o.a._("Invited","[button] disabled button status text when a user has been invited to a board","[button] disabled button status text when a user has been invited to a board"):o.a._("Invite","[button] invite someone to collaborate on a board","[button] invite someone to collaborate on a board")}))}):Object(c.jsx)(u.a,{iconNode:Object(c.jsx)(r.a,{name:m,size:"md"}),title:m,subtitle:o.a._("Keep typing!","boardCollabInviterForm.label","Message for user to keep typing")})),R]})]});var L,N,F}var P=n("M1Uz"),D=n("vvax"),k=n("nGHF");function B({boardId:e}){const t=Object(k.b)(),{refreshData:n}=Object(a.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},allowStale:!1}),{refreshData:r}=Object(a.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"pending_approval"},allowStale:!1}),{data:d,isLoaded:l}=Object(a.a)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board"},allowStale:!1});Object(i.useEffect)(()=>{Object(C.b)(7120,{objectId:e,view:5,viewParameter:3059})},[]),Object(i.useEffect)(()=>{if(l){const e=d&&d.length>0?7511:7512;Object(C.b)(e,{component:13305,element:10592,view:5,viewParameter:3059})}},[l]);const u=(e,n=!1)=>{t.showOneToast(({onHide:t})=>Object(c.jsx)(P.a,{color:n?"red":void 0,duration:3e3,onHide:t,text:e}))};return l?Object(c.jsx)(T,{boardId:e,onInvitesDidUpdate:()=>{n(),r()},onInviteDidComplete:(e,t,n)=>{t?u(o.a._("1 invite sent!","BoardCollabInviteFormContainer.showInviteSuccessToast.text","Toast for successfully sending invitation of collaborating a board")):((e,t)=>{const n=o.a._("Failed to invite {{userIdentifier}} to collaborate","Toast for failing to send invitation of collaborating a board","Toast for failing to send invitation of collaborating a board");u(t&&t.message?t.message:Object(D.b)(n,{userIdentifier:e}).join(""),!0)})(e,n)},shareSuggestions:d||[]}):Object(c.jsx)(s.e,{display:"flex",justifyContent:"center",paddingY:12,width:"100%",children:Object(c.jsx)(s.R,{accessibilityLabel:o.a._("Loading contacts","BoardCollab.BoardCollabInviteFormContainer","Accessibility label on loading spinner"),show:!0})})}},"s6a/":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o({children:e,label:t}){return Object(r.jsxs)(i.e,{marginTop:2,paddingY:2,role:"listitem",children:[Object(r.jsx)(i.e,{paddingX:2,children:Object(r.jsx)(i.Y,{size:"sm",children:t})}),Object(r.jsx)(i.e,{marginTop:2,role:"list",children:e})]})}},s7xj:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("8Mj5"),r=n("xweI"),o=n.n(r),a=n("v/Q4"),s=n("QKYm"),c=n("nKUr");function d(e,t,n){const{collaborated_by_me:i,collaborating_users:r=[],owner:a}=e,c=[a];if(i||n){const e=r.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){const t=r.splice(e,1)[0];c.push(t)}else c.push(t)}const d=s.a-c.length,l=o()(r,"full_name").slice(0,d);return[...c,...l]}function l(e){var t,n;return{href:"/"+e.username,key:e.id,name:null!==(t=e.fullName)&&void 0!==t?t:e.full_name,src:null!==(n=e.imageMediumUrl)&&void 0!==n?n:e.image_medium_url}}function u({board:e,forceViewer:t,isCompact:n,ownerOnly:r}){const o=Object(a.a)();return Object(c.jsx)(i.a,{faces:r?[l(e.owner)]:d(e,o,t).map(l),faceSize:n?"xs":"sm",overlap:n?-3:-4})}},sAMb:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("mc7v"),r=n("7nh8"),o=n("QLaP");t.default=function(e){return function(t,n){var a=(void 0===n?{}:n).clientOffset;!function(e){o(Array.isArray(e),"Expected targetIds to be an array.")}(t);var s=t.slice(0),c=e.getMonitor(),d=e.getRegistry();return function(e,t,n){o(t.isDragging(),"Cannot call hover while not dragging."),o(!t.didDrop(),"Cannot call hover after drop.");for(var i=0;i<e.length;i++){var r=e[i];o(e.lastIndexOf(r)===i,"Expected targetIds to be unique in the passed array.");var a=n.getTarget(r);o(a,"Expected targetIds to be registered.")}}(s,c,d),function(e,t,n){for(var r=e.length-1;r>=0;r--){var o=e[r],a=t.getTargetType(o);i.default(a,n)||e.splice(r,1)}}(s,d,c.getItemType()),function(e,t,n){for(var i=0,r=e;i<r.length;i++){var o=r[i];n.getTarget(o).hover(t,o)}}(s,c,d),{type:r.HOVER,payload:{targetIds:s,clientOffset:a||null}}}}},sEfC:function(e,t,n){var i=n("GoyQ"),r=n("QIyF"),o=n("tLB3"),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,d,l,u,h,b,p=0,f=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function j(t){var n=c,i=d;return c=d=void 0,p=t,u=e.apply(i,n)}function v(e){return p=e,h=setTimeout(y,t),f?j(e):u}function O(e){var n=e-b;return void 0===b||n>=t||n<0||g&&e-p>=l}function y(){var e=r();if(O(e))return x(e);h=setTimeout(y,function(e){var n=t-(e-b);return g?s(n,l-(e-p)):n}(e))}function x(e){return h=void 0,m&&c?j(e):(c=d=void 0,u)}function _(){var e=r(),n=O(e);if(c=arguments,d=this,b=e,n){if(void 0===h)return v(b);if(g)return clearTimeout(h),h=setTimeout(y,t),j(b)}return void 0===h&&(h=setTimeout(y,t)),u}return t=o(t)||0,i(n)&&(f=!!n.leading,l=(g="maxWait"in n)?a(o(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==h&&clearTimeout(h),p=0,c=b=d=h=void 0},_.flush=function(){return void 0===h?u:x(r())},_}},sErn:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("La7j");function r(e){e||(e={});const{active_experiments:t,triggerable_experiments:n,batch_exp:r}=e;return{experiments:new i.a(t,n,r)}}},sGxw:function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("jirY")),i(n("z3qU")),i(n("UJTY"))},"sH+O":function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r=(e,t)=>{const n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e.match(n)||!t.match(n))return null;const i=e.split("."),r=t.split("."),o=Math.max(i.length,r.length);for(let a=0;a<o;a+=1){const e=a<i.length?parseInt(i[a],10):0,t=a<r.length?parseInt(r[a],10):0;if(e<t)return-1;if(e>t)return 1}return 0};class o{constructor(e,t,n){i(this,"start",Date.now()),i(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"!=typeof window&&(this.intervalId=window.setInterval(()=>{const e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume())}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;const e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}},sZWH:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("S8b/"),r=n("PRGv");t.getEmptyImage=r.default;var o=n("QSJg");t.NativeTypes=o,t.default=function(e){return new i.default(e)}},seP0:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d}));var i=n("FZ8N"),r=n("F4HH");const{Provider:o,useHook:a}=Object(r.a)({name:"board_picker",v2LoggerMetricName:16,sampleRate:i.b?1:.1}),s=(e,t)=>{let n="unknown";null!=t&&t.includes("pin/")?n="PinCloseup":"/"===t?n="HomeFeed":"PinBookMarklet"===t&&(n="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",n,"STRING")},c=o,d=a},shej:function(e,t,n){function i(){return{type:"SHOW_SECTION_TOOLTIP"}}function r(){return{type:"HIDE_SECTION_TOOLTIP"}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}))},slCJ:function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("q1tI"),s=n("SFi7"),c=n("jxrL"),d=n("dJ9d"),l=(n("QWfI"),n("2S0S")),u=n("qFZT"),h=n("Gytx");t.default=function(e){var t=e.DecoratedComponent,n=e.createHandler,i=e.createMonitor,b=e.createConnector,p=e.registerHandler,f=e.containerDisplayName,g=e.getType,m=e.collect,j=e.options.arePropsEqual,v=void 0===j?h:j,O=t,y=t.displayName||t.name||"Component",x=function(e){function u(t){var n=e.call(this,t)||this;return n.decoratedRef=a.createRef(),n.handleChange=function(){var e=n.getCurrentState();h(e,n.state)||n.setState(e)},n.disposable=new c.SerialDisposable,n.receiveProps(t),n.dispose(),n}return r(u,e),u.prototype.getHandlerId=function(){return this.handlerId},u.prototype.getDecoratedComponentInstance=function(){return l(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current},u.prototype.shouldComponentUpdate=function(e,t){return!v(e,this.props)||!h(t,this.state)},u.prototype.componentDidMount=function(){this.disposable=new c.SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()},u.prototype.componentDidUpdate=function(e){v(this.props,e)||(this.receiveProps(this.props),this.handleChange())},u.prototype.componentWillUnmount=function(){this.dispose()},u.prototype.receiveProps=function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(g(e)))},u.prototype.receiveType=function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=p(e,this.handler,this.manager),n=t[0],i=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var r=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new c.CompositeDisposable(new c.Disposable(r),new c.Disposable(i)))}},u.prototype.dispose=function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)},u.prototype.getCurrentState=function(){return this.handlerConnector?m(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}},u.prototype.render=function(){var e=this;return a.createElement(s.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),a.createElement(O,o({},e.props,e.getCurrentState(),{ref:d.isRefable(O)?e.decoratedRef:null}))}))},u.prototype.receiveDragDropManager=function(e){void 0===this.manager&&(l(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",y,y),void 0!==e&&(this.manager=e,this.handlerMonitor=i(e),this.handlerConnector=b(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))},u.DecoratedComponent=t,u.displayName=f+"("+y+")",u}(a.Component);return u(x,t)}},sxkF:function(e,t,n){n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f}));var i=n("q1tI"),r=n("Ye/N"),o=n("QLqj"),a=n("mHb8"),s=n("n6mq"),c=n("U4JR"),d=n("nKUr");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="GroupBoardContentViewSwitcher_Settings",h=e=>e<=500,b=Object.freeze({}),p={custom:11566,newest:11564,oldest:11565,most_comments:11563,most_reactions:11562,by_pinner:11561},f=(e,t)=>{const n=o.b.localStorage.getItem(u)||b;return(e.isAuth&&n[e.id]||{})[t.id]||null};class g extends i.Component{constructor(...e){super(...e),l(this,"handleChange",({event:e,value:t})=>{const n=t,{onChange:i,viewer:r,board:s}=this.props;e.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"}),((e,t,n)=>{if(!e.isAuth)return;const i=o.b.localStorage.getItem(u)||b,r=i[e.id]||{},a={...i,[e.id]:{...r,[t.id]:n}};o.b.localStorage.setItem(u,a)})(r,s,n),i(n),Object(c.b)(101,{view:5,viewParameter:Object(a.a)(r,s),component:13475,element:p[n],board_id:s.id})}),l(this,"logDropdownClick",()=>{const{board:e,viewer:t}=this.props;Object(c.b)(101,{view:5,viewParameter:Object(a.a)(t,e),component:13486,element:11567,board_id:e.id})}),l(this,"handleKeyPress",e=>{const{charCode:t=0}=e;32===t&&(e.preventDefault(),this.logDropdownClick())})}render(){const{currentView:e}=this.props,t=[{value:"custom",label:r.a._("Custom","Option for users to filter their Pins in a custom order (as it currently is)","Option for users to filter their Pins in a custom order (as it currently is)")},{value:"most_reactions",label:r.a._("Most reactions","Option for users to filter their Pins by the most reactions","Option for users to filter their Pins by the most reactions")}];return Object(d.jsx)("div",{role:"listbox",tabIndex:0,onClick:this.logDropdownClick,onKeyPress:this.handleKeyPress,children:Object(d.jsx)(s.P,{id:"gbFilterSelectlist",onChange:this.handleChange,options:t,size:"lg",value:e})})}}t.a=g},t3tn:function(e,t,n){function i(e){return{type:"UPDATE_PROFILE_BOARD_VIEW",payload:{profileBoardView:e}}}function r(e){return{type:"UPDATE_BOARD_SORT_OPTION",payload:{updatedBoardOrder:e}}}function o(e){return{type:"UPDATE_BOARD_PIN_VIEW",payload:{boardPinView:e}}}function a(e){return{type:"UPDATE_PROFILE_PIN_VIEW",payload:{profilePinView:e}}}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a}))},t9Ac:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("6A0I"),r=n("Ye/N"),o=n("TgLd"),a=n("n6mq"),s=n("nKUr");function c(e){const{onSectionCreate:t,onClose:n,selectedBoard:c,useLayer:d=!0}=e,l=d?o.b:a.F,u=Object(s.jsx)(a.r,{alignItems:"center",maxHeight:80,children:Object(s.jsx)(a.e,{marginStart:"auto",padding:4,width:"66%",children:Object(s.jsxs)(a.r,{justifyContent:"between",children:[Object(s.jsx)(a.t,{size:"md",children:r.a._("Add section","Modal header for adding a section","Modal header for adding a section")}),Object(s.jsx)(a.v,{icon:"cancel",iconColor:"darkGray",size:"lg",accessibilityLabel:r.a._("Cancel section create","CreateSection.Modal.Icon","cancel icon for create section modal"),onClick:n})]})})});return Object(s.jsx)(l,{accessibilityModalLabel:r.a._("Add a section to the board","modal to add a section to a board","modal to add a section to a board"),heading:u,onDismiss:n,size:"sm",children:Object(s.jsx)(a.e,{display:"flex",color:"white",rounding:2,children:Object(s.jsx)(i.a,{board:c,completeCreateSectionAction:t,onClearModal:n,positionRelative:!0,showTitle:!1})})})}},tEMl:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("MCs0"),r=(n("QWfI"),n("2S0S")),o=["canDrop","hover","drop"],a=function(){function e(e,t,n){this.spec=e,this.monitor=t,this.ref=n,this.props=null}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.receiveMonitor=function(e){this.monitor=e},e.prototype.canDrop=function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)},e.prototype.hover=function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,i.getDecoratedComponent(this.ref))},e.prototype.drop=function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)},e}();t.default=function(e){return Object.keys(e).forEach((function(t){r(o.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',o.join(", "),t),r("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new a(e,t,n)}}},tLB3:function(e,t,n){var i=n("jXQH"),r=n("GoyQ"),o=n("/9aa"),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||c.test(e)?d(e.slice(2),n?2:8):a.test(e)?NaN:+e}},tvWU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("+k3R"),r=n("slCJ"),o=n("TPjH"),a=n("tEMl"),s=n("E3gc"),c=n("bY+3"),d=n("IRZy"),l=n("QWfI"),u=n("2S0S");t.default=function(e,t,n,h){void 0===h&&(h={}),i.default("DropTarget","type, spec, collect[, options]",e,t,n,h);var b=e;"function"!=typeof e&&(u(s.default(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),b=function(){return e}),u(l.isPlainObject(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var p=a.default(t);return u("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),u(l.isPlainObject(h),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return r.default({containerDisplayName:"DropTarget",createHandler:p,registerHandler:o.default,createMonitor:function(e){return new c.default(e)},createConnector:function(e){return new d.default(e)},DecoratedComponent:e,getType:b,collect:n,options:h})}}},uCRx:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("QLaP");t.validateSourceContract=function(e){i("function"==typeof e.canDrag,"Expected canDrag to be a function."),i("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),i("function"==typeof e.endDrag,"Expected endDrag to be a function.")},t.validateTargetContract=function(e){i("function"==typeof e.canDrop,"Expected canDrop to be a function."),i("function"==typeof e.hover,"Expected hover to be a function."),i("function"==typeof e.drop,"Expected beginDrag to be a function.")},t.validateType=function e(t,n){n&&Array.isArray(t)?t.forEach((function(t){return e(t,!1)})):i("string"==typeof t||"symbol"==typeof t,n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},uVIr:function(e,t,n){function i(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,"a",(function(){return i}))},udob:function(e,t,n){var i=n("LqyK"),r=n("eOdZ"),o=n("d7ng"),a=n("4dcN"),s=n("zwad"),c=n("mBfy");const d={};d.open=function(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)},d.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,i=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),i=Math.max(i,0)),c.default.isAuthenticated()||(i=340),window.resizeBy(n,i)}(!1)};var l=d;const u={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";a.a.trackEvent(t,"click");const n=u._getWindowUrl(e.tweet_path,e.tweet_text);l.open(n,u.DIALOG_WIDTH,u.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>s.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?Object(o.a)(e):void 0,text:t||void 0})};var h=u;const b={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,o=null==e.invite_category?3:e.invite_category,a=e.object_id;return r.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:i},invite_code:t,object_id:a}).callCreate()},createAndLogShareInvite:e=>b.createShareInviteData(e).then(t=>(b._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category;if(10===i&&e.path){return r.a.create("ShareLinkResource",{invite_category:i,url:e.path}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))}{const o=e.object_id;return r.a.create("CreateExternalInviteResource",{invite_type:{invite_category:i,invite_object:t,invite_channel:n},object_id:o}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))}},logShareInvite(e,t){t&&b._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>b.createShareInviteData(e).then(t=>{const n=t.invite_url,r=t.invite_code;return n&&i.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&b._logShareInvite(e,r)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return b.createShareInviteData(e).then(n=>{const i=n.invite_url,r=n.invite_code;let o=e.description;return 6===t&&e.name&&(o=e.name),i&&h.openDialog({tweet_path:i,tweet_text:o}),b._logShareInvite(e,r),Promise.resolve(n)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>b.createShareInviteData(e).then(t=>{const n=t.invite_url,r=t.invite_code;return n&&i.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&b._logShareInvite(e,r)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=b},"ut/Y":function(e,t,n){var i=n("ZCpW"),r=n("GDhZ"),o=n("zZ0H"),a=n("Z0cm"),s=n("+c4W");e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?r(e[0],e[1]):i(e):s(e)}},utGV:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("q1tI"),r=n("TPjH"),o=n("/acK"),a=n("IRZy"),s=n("bY+3");t.useDropTargetMonitor=function(){var e=o.useDragDropManager();return[i.useMemo((function(){return new s.default(e)}),[e]),i.useMemo((function(){return new a.default(e.getBackend())}),[e])]},t.useDropHandler=function(e,t,n){var a=o.useDragDropManager(),s=i.useMemo((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);i.useEffect((function(){var i=r.default(e.current.accept,s,a),o=i[0],c=i[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),c}),[t,n])}},uyxo:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("jHGc"),r=n("n6mq"),o=n("nKUr");function a(e){const{children:t,currentCarouselIndex:n,onDeleteSavedState:a,onEditSubmit:s,onToggleModal:c,pinId:d,variant:l,viewParameter:u,shouldUseLegoStyles:h}=e,b="pin"===l?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"};return Object(o.jsxs)(r.e,{alignItems:"center",display:"flex",direction:"row",marginStart:"pin"===l?-1:void 0,marginEnd:"pin"===l?-1:void 0,paddingX:"closeup"!==l||h?void 0:2,width:"closeup"===l?"100%":void 0,children:[t&&Object(o.jsx)(r.e,{paddingX:1,"data-test-id":"saved-info",flex:"grow",children:t}),Object(o.jsx)(r.e,{paddingX:1,flex:"none",marginStart:"auto",children:Object(o.jsx)(i.default,{component:0,onDelete:a,onSubmit:s,pinId:d,onToggleModal:c,viewParameter:u,carouselSlotCurrentIndex:n,style:b,shouldUseLegoStyles:h,useLegoStyles:"pin"===l})})]})}},"v+PR":function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),r=n("Ye/N"),o=n("w70y"),a=n("vvax"),s=n("n6mq"),c=n("nKUr");function d({pin:e}){const{data:t}=Object(o.a)({name:"PinSaveStatusResource",options:{id:e.id},allowStale:!1});return t&&t.pinned_to_board?Object(c.jsxs)(s.e,{children:[Object(c.jsx)(s.e,{color:"red","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:Object(c.jsx)(s.Y,{align:"center",color:"white",size:"md",weight:"bold",children:Object(a.b)(r.a._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin","Toast for already having repinned pin"),{board_name:(t.pinned_to_board||{}).name}).join(" ")})}),Object(c.jsx)(s.e,{display:"flex",justifyContent:"center",marginTop:-3,children:Object(c.jsx)(s.u,{accessibilityLabel:"",color:"red",icon:"heart",size:26})})]}):null}var l=n("P6kd"),u=n("g/XF"),h=n("U4JR");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,f=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class g extends i.Component{constructor(...e){super(...e),b(this,"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:this.props.pin&&this.props.pin.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),b(this,"onDescriptionChange",(e,t)=>{const n=new RegExp(p,"g");let i="";if(t<e.length){let r=n.exec(e),o=n.lastIndex<t;for(;r&&o;)r=n.exec(e),o=n.lastIndex<t;const a=!!r&&p.test(e.slice(r.index,t));o=!!r&&r.index<t,r&&a&&o&&(i=r[0])}else{const t=f.exec(e);i=t?t[0]:""}this.updateDescription(e);const r=p.test(i),o=this.state.isHashtagFlyoutOpen?this.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");this.setState({cursorIndex:t,flyoutCursorIndex:o,description:e,hashtagQuery:i,isHashtagFlyoutOpen:r,flyoutOpened:this.state.flyoutOpened||r})}),b(this,"onCursorChange",e=>{const{isHashtagFlyoutOpen:t,flyoutCursorIndex:n}=this.state;t&&e<n&&this.setState({isHashtagFlyoutOpen:!1})}),b(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),b(this,"handleDescriptionBlur",e=>{const t=e.target.value.trim(),{isHashtagFlyoutOpen:n}=this.state;this.updateDescription(t),this.setState({description:t,editing:n})}),b(this,"handleDescriptionEdit",()=>{this.setState({editing:!0})}),b(this,"handleHashtagAddition",e=>{const{pin:t}=this.props;Object(h.b)(101,{component:208,element:10249,hashtags:e,objectId:t.id});const n=this.state.flyoutCursorIndex,i=Number(n+this.state.hashtagQuery.length),r=this.state.description.slice(0,n)+e+" "+this.state.description.slice(i);this.updateDescription(r),this.setState({description:r,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),b(this,"handleRefTextArea",e=>{this._textArea=e})}render(){const{color:e,isFirstPin:t,pin:n,pinImageRef:i}=this.props,{description:r,editing:o,flyoutOpened:a,hashtagQuery:h,isHashtagFlyoutOpen:b}=this.state,{images:p,link:f}=n,g=p&&p["236x"],m=g&&g.url||n.image_base64;return Object(c.jsxs)(s.e,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:t?"50%":"",dangerouslySetInlineStyle:{__style:a&&o?{transform:"translateY(-75px)"}:{}},children:[Object(c.jsxs)(s.e,{display:"flex",direction:"column",alignItems:"center",children:[n&&n.id&&Object(c.jsx)(d,{pin:n}),Object(c.jsx)(s.e,{paddingY:t?9:0,width:240,children:Object(c.jsx)(s.e,{ref:i,maxHeight:a&&o?220:335,rounding:4,overflow:"hidden",children:m?Object(c.jsx)(s.w,{alt:r,src:m,naturalHeight:(null==g?void 0:g.height)||1,naturalWidth:(null==g?void 0:g.width)||1}):!!f&&Object(c.jsx)(u.a,{color:e||"",description:r,url:f})})})]}),this.anchor&&b?Object(c.jsx)(l.a,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:o,query:h}):null]})}}},"v/Q4":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("/MKj");function r(){return Object(i.useSelector)(({viewer:e})=>e)}},vVEi:function(e,t,n){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return x}));var i=n("/MKj"),r=n("OWXb"),o=n("nGHF"),a=n("q1tI"),s=n("Ye/N"),c=n("4jWr"),d=n("n6mq"),l=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return Object(l.jsx)(d.e,{display:"flex",justifyContent:"around",overflow:"hidden",children:Object(l.jsx)("div",{className:"boardBlockingActionToastWhiteSpinner",children:Object(l.jsx)(d.u,{accessibilityLabel:s.a._("board action pending","accessibility label for board action toast to indicate pending action","accessibility label for board action toast to indicate pending action"),color:"white",icon:"knoop",size:40})})})}class b extends a.Component{constructor(...e){super(...e),u(this,"state",{hiding:!1,visible:!1}),u(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,c.a)}),u(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),u(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:n}}=this.props,i="completed"===t;switch(e){case"create_section":return i?s.a._("Created section","toast text to indicate a section has been created successfully","toast text to indicate a section has been created successfully"):s.a._("Creating section","toast text to indicate a section is being created","toast text to indicate a section is being created");case"delete_pins":return n?i?s.a._("Deleted Pins from","toast text to notify Pins have been deleted from a section","toast text to notify Pins have been deleted from a section"):s.a._("Deleting Pins from","toast text to notify Pins are being deleted from a section","toast text to notify Pins are being deleted from a section"):i?s.a._("Deleted Pins from","toast text to notify Pins have been deleted from a board","toast text to notify Pins have been deleted from a board"):s.a._("Deleting Pins from","toast text to notify Pins are being deleted from a board","toast text to notify Pins are being deleted from a board");case"move_pins":return n?i?s.a._("Moved to","toast text to notify pins have been moved to this section","toast text to notify pins have been moved to this section"):s.a._("Moving to","toast text to notify pins are being moved to this section","toast text to notify pins are being moved to this section"):i?s.a._("Moved to","toast text to notify pins have been moved to this board","toast text to notify pins have been moved to this board"):s.a._("Moving to","toast text to notify pins are being moved to this board","toast text to notify pins are being moved to this board");case"merge":return n?i?s.a._("Moved to","toast text to notify anotehr section has been merged to this section","toast text to notify anotehr section has been merged to this section"):s.a._("Moving to","toast text to notify another section is being merged to this section","toast text to notify another section is being merged to this section"):i?s.a._("Moved to","toast text to notify another board has been merged to this board","toast text to notify another board has been merged to this board"):s.a._("Moving to","toast text to notify another board is being merged to this board","toast text to notify another board is being merged to this board");default:return null}}render(){const{actionStatus:e,location:t}=this.props,{visible:n,hiding:i}=this.state;if(!this.firstLine)return null;const r="inProgress"===e?t.name+"...":t.name;return Object(l.jsx)("div",{style:Object(c.b)(n,i),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(l.jsx)(d.bb,{text:Object(l.jsxs)(a.Fragment,{children:[Object(l.jsx)(d.Y,{children:this.firstLine}),Object(l.jsx)(d.Y,{weight:"bold",children:r})]}),thumbnail:"completed"===e?void 0:Object(l.jsx)(h,{})})})}}const p=2e3,f=5e3;const g=["merge","move_pins","create_section"];function m({blockingActions:e,actionType:t,boardId:n,sectionId:i}){return e.find(e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||g.includes(e.action_type)&&e.is_origin||e.board_id!==n||(i?i!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress))}let j=0;const v={};function O({check:e,checkDelay:t,checkInterval:n,onComplete:i}){const r="timeout"+j;j+=1;const o=()=>{const t=Date.now();e().then(e=>{const a=Date.now()-t;e?(i(),delete v[r]):v[r]=setTimeout(o,Math.max(1e3,n-a))}).catch(()=>{delete v[r]})};v[r]=setTimeout(o,t)}const y=(e,t,n,i)=>({onHide:r})=>{var o;return Object(l.jsx)(b,{actionType:t,actionStatus:e,duration:"inProgress"===e?p:2e3,location:{name:i?i.title:null!==(o=n.name)&&void 0!==o?o:"",isSection:!!i},onHide:r})};function x(e){function t(t){const n=Object(i.useDispatch)(),{showToast:a}=Object(o.b)();return Object(l.jsx)(e,{...t,showBlockingActionToast:({actionType:e,board:t,section:i})=>{a(y("inProgress",e,t,i)),O({check:()=>n(Object(r.a)(t.id)).then(n=>!m({blockingActions:n,actionType:e,boardId:t.id,sectionId:i&&i.id})),checkDelay:p,checkInterval:f,onComplete:()=>a(y("completed",e,t,i))})}})}return t.displayName=`WithShowBlockingActionToasts(${e.displayName||e.name||""})`,t}},vZlu:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c}));const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function r(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function o(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function a(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function c(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}},vh5K:function(e,t,n){n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return d}));var i=n("mwIZ"),r=n.n(i);function o(e){return!!e&&0!==e.type}const a=(e,t,n)=>{const i=e[n];return t[n]&&o(i)?i:null};function s(e){return r()(e,["display_data","anchor"])}function c(e,t,n,i=!1,r=!1){if(i&&e&&t)return`${e}%3A${t}`;const o=n[e];if(o){if(o.experience_id===t)return o.id.replace(":","%3A")}else if(r&&e&&t)return`${e}%3A${t}`;return null}function d(e,t){t&&8===t.type&&(e[s(t)]=t)}},vmVG:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("7nh8"),r=n("QLaP");t.default=function(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){r(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var o=t.getSourceId();return n.getSource(o,!0).endDrag(t,o),n.unpinSource(),{type:i.END_DRAG}}}},vvax:function(e,t,n){var i=n("qpbZ");n.d(t,"b",(function(){return i.b})),n.d(t,"a",(function(){return i.a}))},"w/wX":function(e,t,n){var i=n("QqLw"),r=n("ExA7");e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},w70y:function(e,t,n){n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p}));var i=n("q1tI"),r=n("/MKj"),o=n("lSCD"),a=n.n(o),s=n("hZxF"),c=n("aK+E"),d=n("EC67"),l=n("Wer7"),u=n("nKUr");const h={};function b({acceptPrefetch:e,allowStale:t,enabledRouteRefresh:n,dangerouslyDisableFetch:o,options:a,name:u,headers:b}){const p=Object(r.useDispatch)(),f=Object(c.a)(a),g=Object(i.useRef)(),m=e=>(e[u]||h)[f]||h,{isPrefetch:j,nextBookmark:v,prefetchHasBeenRead:O}=Object(r.useSelector)(({resources:e})=>m(e.data)),y=Object(r.useSelector)(({resources:e})=>m(e.data).data),x=Object(r.useSelector)(({resources:e})=>m(e.data).auxData),_=Object(r.useSelector)(({resources:e})=>m(e.data).error),w=Object(r.useSelector)(({resources:e})=>Boolean((e.fetching[u]||h)[f])),S=Object(r.useSelector)(({resources:e})=>Boolean((e.data[u]||h)[f])),C=Object(d.h)(),I=C&&"POP"!==C.action,E=Boolean(S&&n&&I&&!o),[T,P]=Object(i.useState)(E);void 0===g.current&&S&&I&&e&&j&&!O&&!o&&p(Object(l.h)(u,a));const D=Object(i.useCallback)(()=>{o||p(Object(l.a)(u,a,b))},[o,p,b,u,f]),k=Object(i.useCallback)(()=>{o||p(Object(l.d)(u,a,b))},[o,b,u,f]),B=Object(i.useCallback)(()=>{o||(D(),P(!0))},[o,D,P]),M=Object(i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:k,isAtEnd:!1,isFetching:!1,isLoaded:!1,isPrefetch:void 0,isRefreshing:!1,nextBookmark:void 0,prefetchHasBeenRead:void 0,refreshData:B});Object(s.a)(()=>{!1!==t&&S&&!E||D()}),Object(i.useEffect)(()=>{void 0!==g.current&&f!==g.current&&D(),g.current=f},[D,f]);const R={auxData:x,data:y,error:_,fetchMore:k,isAtEnd:S&&!w&&"-end-"===v,isFetching:w,isLoaded:S,isPrefetch:j,isRefreshing:T,nextBookmark:v,prefetchHasBeenRead:O,refreshData:B};return Object(r.shallowEqual)(R,M.current)||(!T||!M.current.data&&E||Object(r.shallowEqual)(R.data,M.current.data)||(R.isRefreshing=!1,P(!1)),M.current=R),M.current}function p(e){const t=e.key;return function(n){function i(i){const{dangerouslyDisableFetch:r,options:o,key:s,...c}=e,d=b({...c,options:(a()(o)?o(i):o)||{},dangerouslyDisableFetch:!!r&&r(i)}),l={[t]:d};return Object(u.jsx)(n,{...i,...l})}return i.displayName=`withResource[${e.name}](${n.displayName||n.name||""})`,i.WrappedComponent=n,i}}},weYu:function(e,t,n){n.d(t,"a",(function(){return f}));var i=n("q1tI"),r=n("s7xj"),o=n("Ye/N"),a=n("oRao"),s=n("vvax"),c=n("n6mq"),d=n("nKUr");var l=({handleClick:e,selectedBoard:t,sourceBoard:n,targetBoardCandidates:i})=>{const l=Object(d.jsx)(c.Y,{weight:"bold",inline:!0,children:null==n?void 0:n.name}),u=Object(d.jsx)(c.Y,{weight:"bold",inline:!0,children:null==n?void 0:n.pin_count});return 0===i.length?Object(d.jsx)(c.Y,{children:o.a._("There is no board to merge this board into.","BoardMergeModal.NoBoards.Text","helper text for selecting merge target board")}):n?Object(d.jsxs)(c.e,{maxWidth:540,maxHeight:532,marginStart:4,marginEnd:4,children:[Object(d.jsx)(c.Y,{size:"lg",align:"center",children:Object(s.b)(o.a._("Your board {{ sourceBoardName }} and all {{ sourceBoardPinCount }} pins will be gone for good. You won’t be able to get them back.","BoardMergeModal.Merge.Text","helper text for merging board"),{sourceBoardName:l,sourceBoardPinCount:u})}),Object(d.jsx)(c.e,{marginTop:4,marginStart:2,children:Object(d.jsx)(c.Y,{size:"sm",children:o.a._("All boards","MergeModal.AllBoards.Text","all boards section title")})}),i.map(n=>{var i,l;return Object(d.jsx)(c.X,{onTap:()=>e(n),children:Object(d.jsxs)(c.e,{color:(null==t?void 0:t.id)===n.id?"lightGray":"transparent",display:"flex",justifyContent:"between",alignItems:"center",height:64,padding:2,rounding:2,children:[Object(d.jsxs)(c.e,{display:"flex",flex:"grow",children:[Object(d.jsx)(c.B,{height:48,width:48,rounding:2,children:Object(d.jsx)(c.w,{fit:"cover",src:n.image_cover_url||"",color:"steelblue",naturalHeight:48,naturalWidth:48,alt:o.a._("Board Cover Image","MergeModal.Board.CoverImage","board cover image")})}),Object(d.jsxs)(c.e,{display:"flex",direction:"column",justifyContent:"center",marginStart:2,children:[Object(d.jsx)(c.e,{marginBottom:1,children:Object(d.jsx)(c.Y,{size:"lg",weight:"bold",children:n.name})}),Object(d.jsx)(c.Y,{size:"sm",children:Object(s.b)(o.a.ngettext("{{ count }} Pin","{{ count }} Pins",null!==(i=n.pin_count)&&void 0!==i?i:0,"boardEdit.boardMergeModalBody.pinCount","label for n amount of pins"),{count:Object(d.jsx)(a.a,{value:null!==(l=n.pin_count)&&void 0!==l?l:0})})})]})]}),Object(d.jsxs)(c.e,{display:"flex",alignItems:"center",direction:"row",children:["secret"===n.privacy&&Object(d.jsx)(c.e,{marginEnd:3,children:Object(d.jsx)(c.u,{icon:"lock",color:"darkGray",accessibilityLabel:o.a._("Private board icon","MergeModal.Board.Private.Icon","private board accesibility label")})}),n.is_collaborative&&Object(d.jsx)(c.e,{marginEnd:3,children:Object(d.jsx)(r.a,{isCompact:!0,board:n})}),!!n.section_count&&Object(d.jsx)(c.u,{icon:"arrow-forward",color:"darkGray",accessibilityLabel:o.a._("Board section icon","MergeModal.Board.Section.Icon","board secetion accesibility label")})]})]})},n.id)})]}):null},u=n("TgLd"),h=n("w70y");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),b(this,"state",{selectedTargetBoard:null}),b(this,"handleChange",e=>{this.setState({selectedTargetBoard:e})}),b(this,"handleSubmit",()=>{const{onSubmit:e}=this.props,{selectedTargetBoard:t}=this.state;t&&e(t)}),b(this,"renderModalBody",()=>{const{boardsResource:e,sourceBoardId:t}=this.props,{selectedTargetBoard:n}=this.state,{data:i}=e;if(!i)return Object(d.jsx)(c.R,{accessibilityLabel:o.a._("Loading board list","spinner accessibility label","spinner accessibility label"),show:!0});const r=i.find(e=>e.id===t),a=i.filter(e=>e.id!==t);return Object(d.jsx)(l,{handleClick:this.handleChange,selectedBoard:n,sourceBoard:r,targetBoardCandidates:a})})}render(){const{onCancel:e}=this.props,{selectedTargetBoard:t}=this.state,n=Object(d.jsxs)(c.e,{display:"flex",justifyContent:"between",alignItems:"center",padding:6,children:[Object(d.jsx)(c.e,{}),Object(d.jsx)(c.t,{size:"md",children:o.a._("Combine boards","BoardMergeModal.CombineBoards","title for board merging modal")}),Object(d.jsx)(c.X,{fullWidth:!1,onTap:e,accessibilityLabel:o.a._("Close merge boards modal","BoardMergeModal.Close.TapArea","close icon for board merging modal"),children:Object(d.jsx)(c.u,{icon:"cancel",color:"darkGray",size:18,accessibilityLabel:o.a._("Close merge boards modal","BoardMergeModal.Close.Label","close icon for board merging modal")})})]});return Object(d.jsx)(u.b,{accessibilityModalLabel:o.a._("Move Pins to","BoardEdit.BoardMergeModal.accessibilityLabel","accessibility label for board merging modal"),heading:n,onDismiss:e,footer:Object(d.jsx)(c.e,{display:"flex",justifyContent:"end",children:Object(d.jsx)(c.f,{color:"red",disabled:!t,inline:!0,onClick:this.handleSubmit,size:"lg",text:o.a._("Done","BoardMergeModal.Button.Submit","button for merging a board")})}),children:Object(d.jsx)(c.e,{padding:8,children:this.renderModalBody()})})}}function f(e){const t=Object(h.a)({name:"BoardsResource",options:{privacy_filter:"all",sort:"alphabetical",field_set_key:"detailed",username:"me"},allowStale:!1});return Object(d.jsx)(p,{...e,boardsResource:t})}},wrZu:function(e,t,n){var i=n("+K+b"),r=n("XYm9"),o=n("b2z7"),a=n("otv/"),s=n("yP5f");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},xKh6:function(e,t,n){var i=n("eOdZ");var r=e=>i.a.create("InviteAttributionResource",{invite_code:e}).callCreate(),o=n("RNo4");t.a=(e=(e=>{}))=>{const t=Object(o.k)(window.location.search),n=t.invite_code;n?r(n):e(t)}},xOLo:function(e,t,n){n.r(t),n.d(t,"CarouselSliders",(function(){return p}));var i=n("/MKj"),r=n("XSD5"),o=n("ZbwW"),a=n("Ye/N"),s=n("0nTG"),c=n("U4JR"),d=n("n6mq"),l=n("nKUr");const u={slider:{cursor:"pointer",height:"100%",position:"relative",width:"10%",zIndex:"105",pointerEvents:"auto"}},h=(e,t,n,i,r,o,a,d,l,u)=>{if(!u||!r){const{carousel_slots:u,id:h}=r;Object(c.b)(108,{...l,objectId:t,component:d,view:a,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(h),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(s.f)(e)||{}})}},b=(e,t,n,i,r,o)=>{o||void 0===i||(e.preventDefault(),e.stopPropagation(),i(t,n)),void 0!==r&&r(n)},p=({carouselIndex:e,carouselData:t,changeCarouselSlotIndex:n,handleCarouselSwipe:i,pin:r,pinId:o,contextLogData:s,viewParameter:c,viewType:p,componentType:f,isEditMode:g})=>{if(!t)return null;const{carousel_slots:m=[],index:j=0}=t,v=void 0!==e?e:j,O=Math.max(0,v-1),y=Math.min(m.length-1,v+1);return Object(l.jsxs)(d.e,{display:"flex",justifyContent:"between",position:"absolute",left:!0,right:!0,bottom:!0,top:!0,children:[Object(l.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{b(e,o,O,n,i,g),h(r,o,v,O,t,c,p,f,s,g)},onKeyUp:e=>{b(e,o,O,n,i,g),h(r,o,v,O,t,c,p,f,s,g)},style:u.slider,children:v>0&&Object(l.jsx)(d.e,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(l.jsx)(d.u,{color:"white",icon:"arrow-back",accessibilityLabel:a.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image")})})}),Object(l.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{b(e,o,y,n,i,g),h(r,o,v,y,t,c,p,f,s,g)},onKeyUp:e=>{b(e,o,y,n,i,g),h(r,o,v,y,t,c,p,f,s,g)},style:u.slider,children:v<m.length-1&&Object(l.jsx)(d.e,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(l.jsx)(d.u,{color:"white",icon:"arrow-forward",accessibilityLabel:a.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")})})})]})};t.default=Object(i.connect)(({pins:e},{carouselData:t,pinId:n})=>{const i=e[n];return{pin:i,carouselData:t||Object(o.a)(i)}},e=>({changeCarouselSlotIndex:(t,n)=>e(Object(r.a)(t,n))}))(p)},xZ6X:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o(e){const{iconNode:t,title:n,subtitle:o,accessory:a}=e;return Object(r.jsxs)(i.e,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,children:[Object(r.jsx)(i.e,{marginEnd:2,children:t}),Object(r.jsxs)(i.e,{display:"flex",flex:"grow",alignItems:"start",direction:"column",children:[Object(r.jsx)(i.Y,{color:"darkGray",size:"lg",truncate:!0,weight:"bold",children:n}),Object(r.jsx)(i.Y,{truncate:!0,size:"sm",color:"gray",children:o})]}),a&&Object(r.jsx)(i.e,{children:a})]})}},xfna:function(e,t,n){n.d(t,"a",(function(){return de})),n.d(t,"b",(function(){return le})),n.d(t,"c",(function(){return ue}));var i=n("q1tI"),r=n("EHyI");var o,a,s,c,d=e=>{const{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${(i?"socialBot":n&&"bot")||"nonbot"}.${t}`},l=n("7w6Q"),u=n("LrH5"),h=function(e,t){return{name:e,value:void 0===t?-1:0,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},b=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},p=!1,f=function(e,t){p||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",(function(){})),p=!0),addEventListener("visibilitychange",(function n(i){"hidden"===document.visibilityState&&(e(i),t&&removeEventListener("visibilitychange",n,!0))}),!0)},g=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},m=new WeakSet,j=function(e,t,n){var i;return function(){t.value>=0&&(n||m.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}},v=-1,O=function(){return"hidden"===document.visibilityState?0:1/0},y=function(){f((function(e){var t=e.timeStamp;v=t}),!0)},x=function(){return v<0&&(v=O(),y(),g((function(){setTimeout((function(){v=O(),y()}),0)}))),{get timeStamp(){return v}}},_={passive:!0,capture:!0},w=new Date,S=function(e,t){o||(o=t,a=e,s=new Date,E(removeEventListener),C())},C=function(){if(a>=0&&a<s-w){var e={entryType:"first-input",name:o.type,target:o.target,cancelable:o.cancelable,startTime:o.timeStamp,processingStart:o.timeStamp+a};c.map((function(t){t(e)})),c=[]}},I=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){S(e,t),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,_),removeEventListener("pointercancel",i,_)};addEventListener("pointerup",n,_),addEventListener("pointercancel",i,_)}(t,e):S(t,e)}},E=function(e){["mousedown","keydown","touchstart","pointerdown"].map((function(t){return e(t,I,_)}))};const T=Object(u.a)("LayoutShiftDebugger"),P=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&P(e.parentNode)||null;var D=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{let i=[];const r=d(e)+".CLS";let o=0;const a=()=>{var e;o=null!==(e=window.performance)&&void 0!==e&&e.now?window.performance.now():0};window.addEventListener("scroll",a),window.addEventListener("beforeunload",()=>window.removeEventListener("scroll",a)),function(e,t){var n,i=h("CLS",0),r=function(e){e.hadRecentInput||(i.value+=e.value,i.entries.push(e),n())},o=b("layout-shift",r);o&&(n=j(e,i,t),f((function(){o.takeRecords().map(r),n()})),g((function(){i=h("CLS",0),n=j(e,i,t)})))}(({entries:e})=>{const r=t(),a=n(),s=e.slice(i.length);i=i.concat(s.map(e=>({shift:e,route:r,hadRecentNavigation:a>0&&a+500>e.startTime,hadRecentScroll:o>0&&o+500>e.startTime})))},!0);let s=0;const c=setInterval(()=>{if(i.length===s)return;const e=i.slice(s);s=i.length;let t=Object.freeze({});e.forEach(({shift:{value:e,sources:n},route:i,hadRecentNavigation:r,hadRecentScroll:o})=>{if(!n||!n.length)return;const a=e/n.length;n.forEach(({node:e})=>{const n=e?P(e)||"ROOT":"NODE_REMOVED",s={route:i,boundaryId:n,hadRecentNavigation:r,hadRecentScroll:o},c=JSON.stringify(s);t={...t,[c]:{score:((t[c]||{}).score||0)+a,tags:s}}})}),Object.keys(t).forEach(e=>{const{score:n,tags:i}=t[e];l.a.count(r+".shifts",(e=>Math.round(1e3*e))(n),1,{...i})});const n=e.reduce((e,{shift:{value:t}})=>e+t,0);T("Debug CLS boundaries",n,t,e)},1e3);window.addEventListener("beforeunload",()=>clearInterval(c))};var k=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/topics/:interest":return"topic";default:return null}},B=n("gg0E"),M=n("SyXB"),R=n("FZ8N"),A=n("3/Bf"),L=n("+lzj"),N=n("HMdf"),F=n("o9su");var U=()=>Object(L.c)().reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e[t+"_loadTime"]?e[t+"_dupe_loadTime"]?{...e,[t+"_dupe_loadTime"]:n,[t+"_dupe_renderTime"]:i}:e:{...e,[t+"_loadTime"]:n,[t+"_renderTime"]:i},Object.freeze({})),H=n("pody"),z=n("gz6+"),Y=n("Og0o");var q=e=>{switch(e){case"pin_closeup":{const e=Object(Y.b)();return(e=>{const t=Object(N.d)();return e.reduce((e,{name:n,match:i})=>t.filter(e=>i(e)).slice(0,2).reduce((e,t,i)=>({...e,...Object(z.a)(`${n}${i?"_dupe1":""}_`,Object(H.a)(t))}),e),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}default:return{}}},G=n("B/lV"),W=n("vzKb"),V=n("FylZ"),K=n("mRg4"),X=n("LvPn"),$=n("fZG9");var Z=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:i,pwtStaticContext:r})=>{const o=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=Object(W.a)({entryTypes:["resource"]},t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))})}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let a=!0;return Object(A.c)("TIMING."+i,{tags:{isAuth:r.isAuthenticated}}),{stop:s=>{if(!a)return;a=!1,o.disconnect();const c={type:"stopwatch",name:i,navigationType:"initial_app_load"},d=Object(V.a)(),l=Object(F.a)(),u=o.get(),h={type:"COMPLETE",traceId:Object(V.a)(),startTime:0,endTime:s,spans:[{name:"network_resources",id:d,startTime:0,endTime:s,annotationMap:{},binaryAnnotationMap:{},parentId:null},...u.map(e=>Object(X.a)(Object(G.a)(e,[]),d)).filter(Boolean)],annotationMap:{...Object(z.a)("resource_",n?q(n):{}),...Object(z.a)("element_",U()),...Object(z.a)("mark_",t&&t.length?Object(z.d)(Object(M.d)(),t):{}),...Object(z.a)("browser_",l?Object(z.b)(l):{})},binaryAnnotationMap:Object($.a)({annotateExperiments:e,metricId:c,pwtStaticContext:r,performanceResourceTimings:u})};Object(K.a)({metricId:c,pwtStaticContext:r,result:h,isAuth:r.isAuthenticated})}}};const Q=()=>({current:0,entries:[],firstTs:Number.NEGATIVE_INFINITY,id:`v1-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,max:0,prevTs:Number.NEGATIVE_INFINITY});var J=e=>{let t,n=Q();const i=()=>{"hidden"===document.visibilityState&&(void 0===t||n.max>t)&&(t=n.max,e({name:"CLS",value:n.max,delta:0,id:n.id,entries:n.entries}))},r=e=>{e.hadRecentInput||((e.startTime-n.firstTs>5e3||e.startTime-n.prevTs>1e3)&&(n.firstTs=e.startTime,n.current=0),n.prevTs=e.startTime,n.current+=e.value,n.max=Math.max(n.max,n.current),n.entries.push(e),i())},o=((e,t)=>{try{if(window.PerformanceObserver.supportedEntryTypes.includes(e)){const n=new window.PerformanceObserver(e=>e.getEntries().map(t));return n.observe({type:e,buffered:!0}),n}}catch(a){}return null})("layout-shift",r);var s;o&&((e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==document.visibilityState||e()};window.addEventListener("visibilitychange",t,!0),window.addEventListener("pagehide",t,!0)})(()=>{o.takeRecords().map(r),i()}),s=()=>{n=Q(),t=void 0},window.addEventListener("pageshow",e=>{e.persisted&&s()},!0))};const ee=Object(u.a)("Vitals"),te={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"}},ne=({surface:e,isAuthenticated:t})=>{if(t)return[];switch(e){case"pin_closeup":return["mweb_unauth_preload_main_pin_image","mweb_srcset_original_image","mweb_pin_page_appshell_unauth"];case"board":return["mweb_unauth_ssr_board_page"];default:return[]}},ie=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t?(({pwtStaticContext:e,surface:t})=>{const n=Z({annotateExperiments:ne({surface:t,isAuthenticated:e.isAuthenticated}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:te[t].LCP,pwtStaticContext:e}),i=Z({name:te[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&i.stop(t)}})({pwtStaticContext:e,surface:t}):null,i={},r=(r,o)=>{if(!i[r]){i[r]=!0;const a=d(e);l.a.timing(`${a}.${t}.${r}`,o,1),n&&n(r,o)}};!function(e,t){var n,i=x(),r=h("FID"),s=function(e){e.startTime<i.timeStamp&&(r.value=e.processingStart-e.startTime,r.entries.push(e),m.add(r),n())},d=b("first-input",s);n=j(e,r,t),d&&f((function(){d.takeRecords().map(s),d.disconnect()}),!0),d&&g((function(){var i;r=h("FID"),n=j(e,r,t),c=[],a=-1,o=null,E(addEventListener),i=s,c.push(i),C()}))}(({value:e})=>r("FID",(e=>Number(e.toFixed(2)))(e))),function(e,t){var n,i=x(),r=h("LCP"),o=function(e){var t=e.startTime;t<i.timeStamp&&(r.value=t,r.entries.push(e)),n()},a=b("largest-contentful-paint",o);if(a){n=j(e,r,t);var s=function(){m.has(r)||(a.takeRecords().map(o),a.disconnect(),m.add(r),n())};["keydown","click"].map((function(e){addEventListener(e,s,{once:!0,capture:!0})})),f(s,!0),g((function(i){r=h("LCP"),n=j(e,r,t),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,m.add(r),n()}))}))}))}}(({value:e})=>{r("LCPCount",Object(L.d)()),r("LCP",(e=>10*Math.round(e/10))(e))}),function(e,t){var n,i=x(),r=h("FCP"),o=b("paint",(function(e){"first-contentful-paint"===e.name&&(o&&o.disconnect(),e.startTime<i.timeStamp&&(r.value=e.startTime,r.entries.push(e),m.add(r),n()))}));o&&(n=j(e,r,t),g((function(i){r=h("FCP"),n=j(e,r,t),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,m.add(r),n()}))}))})))}(({value:e})=>r("FCP",e))},re=e=>{const{isAuthenticated:t}=e,n=d(e)+".CLS";let i=null;J(({id:e,value:r})=>{const o=(a=r)<=.1?"good":a<=.25?"adequate":"poor";var a,s;i&&e===i.id?r>i.value&&(i.invalidation||(i={...i,invalidation:"score"},l.a.increment(n+".firstReportScoreWasInvalid",1,{bucket:i.bucket,isAuthenticated:t}),ee("First record score was invalid")),"scoreAndBucket"!==!i.invalidation&&o!==i.bucket&&(i={...i,invalidation:"scoreAndBucket"},l.a.increment(n+".firstReportBucketWasInvalid",1,{bucket:i.bucket,isAuthenticated:t}),ee("First record bucket was invalid"))):(i={id:e,value:r,bucket:o},l.a.timing(n+".firstRecordScore",(s=r,Math.ceil(100*s)),1),l.a.increment(n+".firstRecord",1,{bucket:o,isAuthenticated:t}),ee("CLS report",r))})};var oe=n("EC67"),ae=n("nKUr");const se=Object(i.createContext)(null),ce=Object(i.createContext)(null);function de({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:o,staticContext:a}){const s=Object(i.useRef)(null),c=Object(i.useRef)(null),d=Object(i.useRef)(t),l=Object(i.useRef)(!0),{path:u}=Object(oe.k)(),h=Object(i.useRef)(u),b=Object(r.a)(a.deviceType);if(Object(i.useEffect)(()=>{h.current=u},[u]),Object(i.useEffect)(()=>{if(Object(N.f)({size:n||1e3}),Object(L.f)(),Object(A.c)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||Object(A.c)("not_supported.window.performance."+e)}):Object(A.c)("not_supported.window.performance"),window.PerformanceObserver||Object(A.c)("not_supported.window.PerformanceObserer"),Object(B.a)()||Object(A.c)("not_supported.grid_profiler"),l.current=!1,b&&"Chrome"===a.browserName&&!R.c){re(a),D({staticContext:a,getCurrentRoute:()=>h.current,getLastNavigationTime:()=>c.current||0});const e=k(u);e&&ie({pwtStaticContext:a,surface:e})}},[]),d.current!==t){d.current=t,c.current=null!==(p=window.performance)&&void 0!==p&&p.now?window.performance.now():null;const{current:e}=c;if(!l.current){const t=!s.current;Object(A.c)("routeStart",{tags:{action:o}}),Object(N.a)(t),Object(L.a)(t),Object(L.b)(),Object(M.b)();const{customBufferSize:n,defaultBufferSize:i}=Object(N.e)();e&&(Object(A.c)("routeStart.customBufferSize",{count:n}),Object(A.c)("routeStart.defaultBufferSize",{count:i}),s.current={time:e,action:o})}}var p;return Object(ae.jsx)(se.Provider,{value:b?a:null,children:Object(ae.jsx)(ce.Provider,{value:s.current,children:e})})}const le=()=>Object(i.useContext)(ce),ue=()=>Object(i.useContext)(se)},xjqW:function(e,t,n){function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:r,viewType:o,type:a}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:r,viewType:o,type:a}}}function r(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}))},"xs/l":function(e,t,n){var i=n("TYy9"),r=n("Ioao"),o=n("wclG");e.exports=function(e){return o(r(e,void 0,i),e+"")}},xweI:function(e,t,n){var i=n("XGnz"),r=n("alwl"),o=n("EA7m"),a=n("mv/X"),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),r(e,i(t,1),[])}));e.exports=s},y9Ij:function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),r=(n("PNKV"),n("TSYQ")),o=n.n(r),a=n("rVUJ"),s=n("Ye/N"),c=n("uyxo"),d=n("n6mq"),l=n("nKUr");const u={sm:32,md:40,lg:48},h=Object(i.memo)(Object(i.forwardRef)(({carouselData:e,disabled:t=!1,iconOnly:n,isCloseupPin:i,onBoardUpdated:r,onClick:a,onSavedClick:h,onToggleModal:b,onUnsaved:p,renderSavedStatus:f,saveButtonType:g="classic",saved:m,savedInfo:j,size:v="md",variant:O="classic",viewParameter:y},x)=>m&&"controlled"===g?Object(l.jsx)(d.f,{disabled:!0,text:s.a._("Saved"),size:"sm"}):!i&&j&&f&&p&&r&&"classic"===g?Object(l.jsx)(c.a,{currentCarouselIndex:e&&e.index,onDeleteSavedState:p,onEditSubmit:r,onToggleModal:b,pinId:j.localPinId,variant:"pin",viewParameter:y,children:f()}):m&&"classic"===g&&i?Object(l.jsx)(d.f,{accessibilityLabel:s.a._("Saved button","saveButton.saved.label","Saved state label on save button"),text:s.a._("Saved!","saveButton.saved","Saved state text on save button"),size:"md",color:"white",onClick:h}):n?Object(l.jsx)("div",{ref:x,"data-test-id":"SaveButton",children:Object(l.jsx)(d.v,{accessibilityLabel:s.a._("Save","Accessibility label for the save button","Accessibility label for the save button"),bgColor:"white",icon:"pin",onClick:({event:e})=>a(e),iconColor:"darkGray"})}):Object(l.jsx)(d.e,{display:i?void 0:"flex",justifyContent:"end",children:Object(l.jsx)("div",{ref:x,className:o()("SaveButton",t?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===O}),"data-test-id":"SaveButton",onClick:t?void 0:a,onKeyPress:t?void 0:e=>{32!==e.charCode&&13!==e.charCode||(e.preventDefault(),a(e))},role:"button",tabIndex:"0",children:Object(l.jsx)("div",{className:o()("SaveButton__background",t?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===O}),children:Object(l.jsx)(d.e,{alignItems:"center",minHeight:u[v],dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",children:Object(l.jsx)(d.Y,{color:t?"gray":"white",size:"lego"===O?"sm":"md",weight:"bold",children:Object(l.jsx)("span",{className:o()("SaveButton__label",{"SaveButton__label--lego":"lego"===O}),children:s.a._("Save","Pin save button label","Pin save button label")})})})})})}))),b=({isPulsarDisplayed:e,...t})=>{const[n,r]=Object(i.useState)(null),o=Object(i.useCallback)(e=>{r(e)},[n]);return Object(l.jsx)(a.a,{anchor:".PinActionBar .repin.pinActionBarButton",anchorElementRef:n,isHidden:!e,children:Object(l.jsx)(h,{ref:o,...t})})};t.b=h},yBr6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("/Ecc"),r=n("zpn9");function o(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),i=n.top;return{x:n.left,y:i}}t.getNodeClientOffset=o,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,a,s){var c,d,l="IMG"===(c=t).nodeName&&(i.isFirefox()||!document.documentElement.contains(c)),u=o(l?e:t),h={x:n.x-u.x,y:n.y-u.y},b=e.offsetWidth,p=e.offsetHeight,f=a.anchorX,g=a.anchorY,m=function(e,t,n,r){var o=e?t.width:n,a=e?t.height:r;return i.isSafari()&&e&&(a/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:a}}(l,t,b,p),j=m.dragPreviewWidth,v=m.dragPreviewHeight,O=s.offsetX,y=s.offsetY,x=0===y||y;return{x:0===O||O?O:new r.default([0,.5,1],[h.x,h.x/b*j,h.x+j-b]).interpolate(f),y:x?y:(d=new r.default([0,.5,1],[h.y,h.y/p*v,h.y+v-p]).interpolate(g),i.isSafari()&&l&&(d+=(window.devicePixelRatio-1)*v),d)}}},yCO0:function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("U4W0")),i(n("aS9Y"))},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},yKES:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("Ye/N"),r=n("US8k"),o=n("n6mq"),a=n("nKUr");function s({duration:e}){return Object(a.jsxs)(o.e,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[Object(a.jsx)(o.u,{accessibilityLabel:i.a._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),Object(a.jsx)(o.e,{marginStart:1,children:Object(a.jsx)(o.Y,{color:"white",size:"sm",truncate:!0,children:Object(r.a)(e)})})]})}},"ySR+":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a}=Object(i.c)("headerButtonContext")},yYqh:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("pLLR");var r=n("EC67");function o({checkExperiments:e,disableFetch:t,viewer:n}){const o=Object(r.i)(),a=Object(r.k)(),s=Object(i.d)(),c=function({location:{pathname:e,search:t},match:{params:n,path:i},viewer:r}){return{routeData:{matchPath:i,params:n,pathname:e,search:t},user:{country:r.country||void 0,id:r.id||void 0,isAuth:r.isAuth,isEmployee:!!r.isEmployee||!1,isPartner:!!r.isPartner||!1,username:r.username||void 0}}}({location:o,match:a,viewer:n}),d=!!t&&t(c),l=!(!d&&e)||e(s.experiments);return{args:c,fetchDisabled:d||!l}}},yaUg:function(e,t,n){var i=n("Q2/A");const r=/\{\{\s*(\w+)\s*\}\}/g;t.a=(e,t)=>Object(i.a)(r,e,t)},ypm9:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("/MKj"),o=n("xKh6"),a=n("G8fK"),s=n("EC67");function c(){const e=Object(r.useDispatch)(),t=Object(s.h)(),{pathname:n}=Object(s.i)(),c=Object(r.useSelector)(({ui:e})=>e.mainComponent.locationToErrorMap);Object(i.useEffect)(()=>{Object(o.a)();const i=`/${n.split("/")[1]}/`;c[n]&&(e(Object(a.a)(i,c[n])),t.replace(i))},[])}},yue5:function(e,t,n){var i=n("/9aa");e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,a=i(e),s=void 0!==t,c=null===t,d=t==t,l=i(t);if(!c&&!l&&!a&&e>t||a&&s&&d&&!c&&!l||r&&s&&d||!n&&d||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||c&&n&&o||!s&&o||!d)return-1}return 0}},yweb:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("1dBE");const{Provider:r,useHook:o}=Object(i.c)("i18n");t.b=o},z3qU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("/ZYE"),r=n("utGV"),o=n("q1tI"),a=n("2S0S");t.useDrop=function(e){var t=o.useRef(e);t.current=e,a(null!=e.accept,"accept must be defined");var n=r.useDropTargetMonitor(),s=n[0],c=n[1];r.useDropHandler(t,s,c);var d=i.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return c.reconnect()})),l=o.useMemo((function(){return c.hooks.dropTarget()}),[c]);return o.useEffect((function(){c.dropTargetOptions=e.options||null,c.reconnect()}),[e.options]),[d,l]}},zEVN:function(e,t,n){var i=n("Gi0A"),r=n("sEf8"),o=n("mdPL"),a=o&&o.isMap,s=a?r(a):i;e.exports=s},zQfT:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI");const r=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};o.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new r(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},o.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var a=o,s=n("eOdZ");function c({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},i=s.a.create(e,n),r=new a,o=()=>{i.abort()};return async function(e){const t=r.get(e);if(t){const n=t.items;if(n&&n.length){o();return{hint:t.hint,items:n,term:e}}}return e.length>=0?(async e=>{if(i.isCalling()){var t;if(e===(null===(t=i.options)||void 0===t?void 0:t.term))return;o()}const{bookmarks:n,...a}=i.options||{};i.options={...a,term:e};const s=(await i.callGet({showError:!1})).resource_response.data,c=s.items,d=s.hint||{},l={hint:d,items:c};return r.set(e,l),{term:e,items:c,hint:d}})(e):{hint:{},items:[],term:e}}}function d({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:r}){const o=Object(i.useRef)(!1),a=Object(i.useRef)({}),[s,d]=Object(i.useState)([]),l=function({resourceName:e,resourceOptions:t}){const n=Object(i.useRef)();return n.current||(n.current=c({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n});return Object(i.useEffect)(()=>{(async()=>{if(null!=r&&(e||o.current))if(r in a.current)d(a.current[r]);else try{const e=await l(r);if(e){const{items:t}=e;a.current[r]=t,d(t)}}catch(t){if("Resource call aborted"===t)return;throw t}o.current||(o.current=!0)})()},[r]),s}},zUcL:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o({children:e,setMaxWidth:t=!0}){return Object(r.jsx)(i.e,{width:"100%",display:"flex",justifyContent:"center",children:t?Object(r.jsx)(i.e,{width:"100%",paddingX:2,maxWidth:774,children:e}):Object(r.jsx)(i.e,{width:"100%",children:e})})}},zXAL:function(e,t,n){var i=n("/MKj"),r=n("peh1"),o=n("Vzit"),a=n("vh5K"),s=n("ANjH");const c=Object(r.createSelector)(e=>e.experiences.eligibleExperiences,e=>e.experiences.mountedPlacements,(e,t)=>t.placementId,a.c);t.a=Object(i.connect)((function(e,t){return{experienceForPlacement:c(e,t)}}),(function(e){return Object(s.bindActionCreators)({completeExperience:o.a,dismissExperience:o.b,fetchAllExperiences:o.d,fetchAllExperiencesMulti:o.f,fetchExperienceForPlacement:o.c,triggerExperimentsForPlacement:o.k,viewExperience:o.j},e)}),(function(e,t,n){return{experienceClient:{...e,...t},...n}}),{forwardRef:!0})},zir5:function(e,t,n){n.d(t,"a",(function(){return r}));const i=e=>e.startsWith("enabled")||e.startsWith("employee");class r{constructor(e={},t={},n=!1){var i,r,o;o=!1,(r="useBatching")in(i=this)?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,this.active=e,this.triggerable=t,this.useBatching=n}flush(){}v2GetGroup(e){let t=this.active[e];return void 0===t&&(t=this.triggerable[e]),t||null}v2InGroup(e,t){const n=this.v2GetGroup(e);return"string"==typeof t&&(t=[t]),!!n&&-1!==t.indexOf(n)}v2ActivateExperiment(e){throw new Error("Method must be implemented by subclass.")}v2LogExperimentGroupOverride(e,t){throw new Error("Method must be implemented by subclass.")}getWithActivation(e){const t=this.v2ActivateExperiment(e)||"";return{anyEnabled:i(t),group:t}}getWithoutActivation(e){const t=this.v2GetGroup(e)||"";return{anyEnabled:i(t),group:t}}}},zoYe:function(e,t,n){var i=n("nmnc"),r=n("eUgh"),o=n("Z0cm"),a=n("/9aa"),s=i?i.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},zpFB:function(e,t,n){n.d(t,"a",(function(){return i}));const i=-4},zpn9:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=e.length,i=[],r=0;r<n;r++)i.push(r);i.sort((function(t,n){return e[t]<e[n]?-1:1}));var o,a,s=[],c=[],d=[];for(r=0;r<n-1;r++)o=e[r+1]-e[r],a=t[r+1]-t[r],c.push(o),s.push(a),d.push(a/o);var l=[d[0]];for(r=0;r<c.length-1;r++){var u=d[r],h=d[r+1];if(u*h<=0)l.push(0);else{o=c[r];var b=c[r+1],p=o+b;l.push(3*p/((p+b)/u+(p+o)/h))}}l.push(d[d.length-1]);var f,g=[],m=[];for(r=0;r<l.length-1;r++){f=d[r];var j=l[r],v=1/c[r];p=j+l[r+1]-f-f;g.push((f-j-p)*v),m.push(p*v*v)}this.xs=e,this.ys=t,this.c1s=l,this.c2s=g,this.c3s=m}return e.prototype.interpolate=function(e){var t=this,n=t.xs,i=t.ys,r=t.c1s,o=t.c2s,a=t.c3s,s=n.length-1;if(e===n[s])return i[s];for(var c,d=0,l=a.length-1;d<=l;){var u=n[c=Math.floor(.5*(d+l))];if(u<e)d=c+1;else{if(!(u>e))return i[c];l=c-1}}var h=e-n[s=Math.max(0,l)],b=h*h;return i[s]+r[s]*h+o[s]*b+a[s]*h*b},e}();t.default=i}},[["/ySb","runtime","vendor-react",0,1,"f98792e6c239186e19b696950754a898bb97d89a","938ee348c518c943238dc2933eec6c54f1f20fe5","f94d7aaabcc48ac8aaa45eff8b943e0a2233613b","bf3fe092e9489c92b8c26668a931b7dc90368d5c","aceb083adb3a74e0823b69ef511ed3c33eb97e76","cf69657e09fb7b24c1f189a76f0548c3c4b9ecec",2,3,4,5,6,13]],["cf69657e09fb7b24c1f189a76f0548c3c4b9ecec","aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6","cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c",171,"PinBetterSaveCommon","f06f654e5273bcad57d5351db3b657784f5be618","PinSaveButtonCommon","PinRepEditButtonCommon","075f16d4784935ff1af8dc9d880285eb28eeaeb7","ChangeBoardModalCommon","QuickSaveButtonCommon","PinPromoteButtonCommon","PinRepSendShareLinkButtonCommon"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]/[slug]-authdesktop-53a332851004bba9b3aa.mjs.map