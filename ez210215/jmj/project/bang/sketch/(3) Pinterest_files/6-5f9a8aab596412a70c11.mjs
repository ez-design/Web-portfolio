(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[6],{"0S8y":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("VBRM"),o=n("YWqT"),r=n("F08S");function a(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const i=n.split(/ (.+)/);return""===i[0]&&i.shift(),i.length>0&&(t.first_name=i[0]||""),i.length>1&&(t.last_name=i[1]||""),t}function s({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),i=Object(r.a)(-t,n),a=new Date;return!Object(o.a)(a,i)}function c({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,r=new Date,a=n?new Date(n):r,s=Object(i.a)(a,t);return Object(o.a)(s,r)}function l(e){return e&&e[1000069]&&500417===e[1000069].experience_id}},"0bYG":function(e,t){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},"0nTG":function(e,t,n){n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return f}));var i=n("mwIZ"),o=n.n(i),r=n("ZbwW"),a=n("uhAL");const s=e=>!!e&&(e.shopping_flags||[]).includes(2),c=e=>{var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},l=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},d=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},u=e=>{const t=o()(e,"link_domain.official_user.full_name");if(t)return t;const n=o()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=o()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},p=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function b(e,t={}){var n,i,o,s,c,l;const d=p(e),u={...t.commerce_data};d.includes(2)&&(u.pin_is_shop_the_look=!0),d.includes(1)&&(u.is_available=!0),d.includes(5)&&(u.is_product_pin_v2=!0),d.includes(6)&&(u.is_rich_product_pin=!0),d.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&Object(a.c)(e.visual_objects)||[]).some(e=>!0===e.is_stela)&&(u.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const t=Object(r.a)(e);var b;if(t)u.image_count=null===(b=t.carousel_slots)||void 0===b?void 0:b.length,u.image_index=t.index}null!=e&&null!==(n=e.rich_summary)&&void 0!==n&&null!==(i=n.products)&&void 0!==i&&null!==(o=i[0])&&void 0!==o&&o.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(c=s.products)&&void 0!==c&&null!==(l=c[0])&&void 0!==l&&l.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const h=e.aggregated_pin_data||{};return null!=h&&h.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function h(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const f=(e,t={})=>{if(e){return h(b(e,t))}return null}},"1Fta":function(e,t,n){n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var i=n("kmwA"),o=n("eqXv"),r=n("pSsd");const a=e=>e.length>32?e.substring(0,32).trim()+"...":e;function s(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function c(e){return null==e?void 0:e.through_properties}function l(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}t.a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:o,makeNavigateLink:r,pinner:s,promoter:c,recommendationReason:l,sourceInterest:d})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=l.board,p=r("navigation",u,o);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:b,url_name:h}=d,f=r("topicUrl","/topics/"+h,b);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:f});case"followed":const m="/"+s.username,g=r("boardUrl",i.url,a(i.name)),j=r("pinnerUrl",m,a(s.full_name));return s.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:j}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:g});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=c,o=r("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:o,recommendation_reason:r},pinner:a}){const s=t&&t.type;return i&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:o,complaintReason:r,throughId:a,throughProperties:s,clientTrackingParams:c})=>{const l="promoted"===t;let d,u;switch(t){case"promoted":d="promotedComplaint";break;case"search":d="unrelatedSearchPin";break;case"related":d="relatedPinHide";break;case"newsHub":d="newsHubPinHide";break;default:d="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:o||1,promoted:l,...a?{through_id:a}:{},...s?{through_properties:s}:{},...c?{client_tracking_params:c}:{}}}return{action:d,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:o,pinner:a,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:a}=s,c=o("topicUrl","/topics/"+a,i,!0),l=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:c});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:r.a},title:"",subTitle:l}}}else if("followed"===i&&n&&a){const{id:i,name:r,url:s}=n||{},{explicitly_followed_by_me:c,full_name:l,username:d}=a,u="/"+d,p=o("boardUrl",s,r,!0),b=o("pinnerUrl",u,l,!0);let h=c?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:b,formattedBoard:p}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p});return h=c?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:b}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:h}}return null}});const d=(e,t,n,i,r,a,s)=>()=>{const c={...e,undo:!0};let l=t;"unfollowPinner"===t?l="followPinner":"unfollowBoard"===t?l="followBoard":"unfollowTopic"===t&&(l="followTopic"),Object(o.a)(l,c),a(n),s(101,{component:0,element:11181,view:i,viewParameter:r})}},"1unC":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("nKUr");function o({children:e,fullWidth:t}){return Object(i.jsx)("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto",...t?{width:"100%"}:{}},children:e})}function r({children:e,enabled:t}){return t?Object(i.jsx)(o,{children:e}):e}},"2U5n":function(e,t,n){const i=["orig","736x","564x","474x","236x","170x"];t.a=(e,t)=>{const n=e[t];if(n)return n;const o=i.indexOf(t);if(o>=0)for(let r=o+1;r<i.length;r+=1){const t=e[i[r]];if(t)return t}return e["236x"]}},"2xqg":function(e,t,n){var i=n("UNi/"),o=n("EwQA"),r=n("Sxd8"),a=4294967295,s=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var n=a,c=s(e,a);t=o(t),e-=a;for(var l=i(c,t);++n<e;)t(n);return l}},"3qdF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("4Utz"),o=n("n6mq"),r=n("nKUr");const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},c=s&&s.length>=3?s.slice(0,3):[];return Object(r.jsx)(o.e,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:c.map(n=>{var s,c,l,d;const u=(null===(s=n.images)||void 0===s?void 0:s["750x"])||{},p=Object(r.jsx)(o.w,{alt:"",fit:"cover",naturalHeight:null!==(c=u.height)&&void 0!==c?c:1,naturalWidth:null!==(l=u.width)&&void 0!==l?l:1,src:null!==(d=u.url)&&void 0!==d?d:""});return Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:Object(r.jsx)(o.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:Object(r.jsx)(o.B,{height:"100%",wash:!0,width:"100%",children:t?Object(r.jsx)(i.a,{sizing:"fullSize",collageChipId:n.id,pin:e,children:p}):p})})})},n.id)})})}},"4+TC":function(e,t,n){var i=n("q1tI"),o=n("TSYQ"),r=n.n(o),a=n("Ye/N"),s=n("juJw"),c=n("qD10"),l=n("n6mq"),d=n("nKUr");class u extends i.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:n,name:i,shouldUseLegoStyles:o,type:u,url:p}=this.props;if(o&&t)return null;const b="boardless"===u?a.a._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):i;let h,f;if(!n||e||o){const e=o?Object(d.jsx)(l.Y,{color:"white",size:"lg",weight:"bold",children:b.length<=30?b:Object(s.a)(b,30)}):Object(d.jsx)(l.t,{color:"white",size:"sm",truncate:!0,children:b});h=p?Object(d.jsx)(c.a,{to:p,children:e}):e}else h=Object(d.jsx)(l.Y,{color:"white",children:Object(d.jsx)("span",{className:"deprecatedTextSizeXL",children:a.a._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return n&&(f=e?"board":"saved"),Object(d.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:o?14:void 0,paddingRight:o?14:void 0},className:o?r()("Lego__SavedPin",f):r()("SavedAnimation",f),children:h})}}t.a=u},"4Utz":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("gqRH"),o=n("0nTG"),r=n("Y8Sn"),a=n("ECHl"),s=n("QLqj"),c=n("n6mq"),l=n("U4JR"),d=n("QAzJ"),u=n("gD/Z"),p=n("nKUr");function b({sizing:e="default",children:t,collageChipId:n,componentType:b,contextLogData:h,elementType:f,pin:m,viewParameter:g,viewType:j}){const O=Object(u.b)(),{group:_}=Object(d.c)("web_search_share_skin_tone_filter"),{carousel_data:y,id:x}=m;let w,v=`/pin/${n||x}/`;if(y){const{carousel_slots:e=[],id:t,index:n=0}=y;v=`/pin/${x}/`,w={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}w={...w||{},...Object(o.f)(m,h)||{}};const S=Object(i.b)({href:v,externalData:{auxData:w,pin:m}});return Object(p.jsx)(c.X,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,disableOnNavigation:t})=>{t(),(()=>{if(Object(l.b)(101,{...h,component:b||O.componentType,element:f,objectId:x,view:j||O.viewType,viewParameter:g||O.viewParameter,...Object(o.f)(m,h)||{}}),Object(r.e)()&&Object(l.b)(8948,{closeup_navigation_type:"click",view:j||O.viewType,viewParameter:g||O.viewParameter,component:b||O.componentType,element:f,objectId:x,...h,...Object(o.f)(m,h)||{}}),_){const e=Number(s.d.getItem(a.a)||0);s.d.setItem(a.a,e+1)}})(),S({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:v,role:"link",children:t})}},"4cTg":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a}));var i=n("q1tI"),o=n("dKiF");const r=Object(o.d)(({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:o})=>({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:o})),a={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",width:null};t.b=Object(i.createContext)(a)},5871:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("EC51"),a=n("4cpq"),s=n("n6mq"),c=n("nKUr");function l({iconAccessibilityLabel:e,href:t,icon:n,linkAccessibilityLabel:i,text:o}){return Object(c.jsxs)(s.e,{display:"flex",marginBottom:3,marginTop:3,children:[Object(c.jsx)(a.a,{id:"ad-reason-icon",children:Object(c.jsx)(s.H,{accessibilityLabel:e,bgColor:"lightGray",icon:n,iconColor:"darkGray"})}),Object(c.jsx)(s.e,{"data-test-id":"ad-location-targeting-reason",direction:"column",display:"flex",justifyContent:"center",marginStart:2,children:Object(c.jsx)(s.Y,{children:o})}),t&&i&&Object(c.jsx)(r.a,{href:t,target:"blank",children:Object(c.jsx)(s.u,{accessibilityLabel:i,color:"darkGray",icon:"arrow-forward"})})]})}var d=n("Ye/N"),u=n("TgLd"),p=n("kmwA"),b=n("vvax");const{ACCOUNT_SETTINGS:h,CANONICAL_MAIN_URL:f,HELP_BLOCKING:m,HELP_PROMOTED_PINS_URL:g}=p.a.settings;function j({onDismiss:e,brandName:t,country:n,language:i,isAgeMatched:o,isBehaviorTargetingMatched:p,isCustomerListMatched:j,isGeoPostalCodeMatched:O,isGeoRegionMatched:_,isShoppingTargetingRematched:y}){return Object(c.jsx)(u.b,{accessibilityModalLabel:d.a._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:e,children:Object(c.jsxs)(s.e,{paddingX:8,paddingY:6,children:[Object(c.jsxs)(s.e,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[Object(c.jsx)(s.e,{position:"absolute",left:!0,children:Object(c.jsx)(s.v,{accessibilityLabel:d.a._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),Object(c.jsx)(s.t,{align:"center",size:"md",children:d.a._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),Object(c.jsxs)(s.e,{paddingX:2,children:[Object(c.jsx)(s.e,{display:"flex",marginBottom:2,marginTop:2,children:Object(c.jsx)(s.Y,{children:Object(b.b)(d.a._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:Object(c.jsx)(s.Y,{inline:!0,children:Object(c.jsx)(r.a,{target:"blank",inline:!0,href:g,children:d.a._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})}),Object(c.jsx)(s.e,{marginBottom:3,marginTop:2,children:Object(c.jsx)(s.Y,{children:Object(b.b)(d.a._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})}),Object(c.jsxs)(a.a,{id:"ad-reasons",children:[O||_?Object(c.jsx)(l,{iconAccessibilityLabel:d.a._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",href:`${f}${h}`,linkAccessibilityLabel:d.a._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),text:Object(b.b)(d.a._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:i},"ad-reasons-language")})}):null,o&&Object(c.jsx)(l,{iconAccessibilityLabel:d.a._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:d.a._("Your age is between age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range")}),p&&Object(c.jsx)(l,{iconAccessibilityLabel:d.a._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:d.a._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),y&&Object(c.jsx)(l,{iconAccessibilityLabel:d.a._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:Object(b.b)(d.a._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),j&&Object(c.jsx)(l,{iconAccessibilityLabel:d.a._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:Object(b.b)(d.a._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:Object(c.jsx)(s.Y,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),Object(c.jsx)(s.e,{marginBottom:3,marginTop:1,children:Object(c.jsx)(s.Y,{children:d.a._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]}),Object(c.jsx)(s.e,{marginBottom:3,marginTop:3,children:Object(c.jsx)(s.o,{})}),Object(c.jsxs)(s.e,{marginBottom:3,marginTop:3,children:[Object(c.jsx)(s.t,{size:"sm",children:d.a._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")}),Object(c.jsx)(s.e,{children:Object(c.jsx)(s.Y,{children:Object(b.b)(d.a._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:Object(c.jsx)(s.Y,{inline:!0,children:Object(c.jsx)(r.a,{target:"blank",inline:!0,href:m,children:d.a._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var O=n("w70y"),_=n("v/Q4"),y=n("pLLR");function x({pinId:e,onDismiss:t}){var n,i,r,a;const{language:s}=Object(y.d)(),{country:l=""}=Object(_.a)(),d=Object(O.a)({name:"CountriesResource",options:{hasEmptyState:!0}}),u=Object(O.a)({name:"LocalesResource"}),p=Object(o.useSelector)(({pins:t})=>t[e]),{ad_targeting_attribution:b,promoter:h}=null!=p?p:{},{is_age_matched:f=!1,is_behavior_targeting_matched:m=!1,is_customer_list_matched:g=!1,is_geo_postal_code_matched:x=!1,is_geo_region_matched:w=!1,is_shopping_retargeting_matched:v=!1}=null!==(n=function(e=null,t=4){return e&&Object.keys(e).filter(t=>"boolean"==typeof e[t]).slice(0,t).reduce((t,n)=>({...t,[n]:e[n]}),{})}(b))&&void 0!==n?n:{},S=null!==(i=null==h?void 0:h.full_name)&&void 0!==i?i:"",T=function(e,t){var n;const{name:i=""}=null!==(n=e.find(e=>e.key===t))&&void 0!==n?n:{};return i}(null!==(r=d.data)&&void 0!==r?r:[],l),I=function(e,t){var n;const{name:i=""}=null!==(n=e.find(e=>e.key===t))&&void 0!==n?n:{};return i}(null!==(a=u.data)&&void 0!==a?a:[],s);return Object(c.jsx)(j,{brandName:S,country:T,language:I,isAgeMatched:f,isBehaviorTargetingMatched:m,isCustomerListMatched:g,isGeoPostalCodeMatched:x,isGeoRegionMatched:w,isShoppingTargetingRematched:v,onDismiss:t})}var w=n("Nle8"),v=n("E/VT"),S=n("R6wO"),T=n("qD10"),I=n("gSZa"),P=n("hFNL"),E=n("ANjH"),R=n("pSsd"),C=n("0bYG"),N=n("U4JR"),k=n("1Fta"),D=n("DJoW"),A=n("QAzJ"),L=n("eqXv"),B=n("EC67");function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U={color:"white",textDecorationColor:"white"};class G extends i.Component{constructor(e){super(e),M(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a})}),M(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:i}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,a;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,r="50%",a="/"+n.username):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",a=i&&i.board&&i.board.url||e.url),o?Object(c.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden",children:Object(c.jsx)(s.X,{onTap:()=>{var e;return this.props.history.push(null!==(e=a)&&void 0!==e?e:"")},children:Object(c.jsx)(s.B,{height:40,wash:!0,width:40,children:Object(c.jsx)(s.w,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null}),M(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})}),M(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?d.a._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""),M(this,"feedbackHelpers",Object(k.a)({i18n:d.a,interpolateNamedTemplate:b.b})),M(this,"makeNavigateLink",(e,t,n,i)=>{const o={display:"inline",...i?U:{}};return Object(c.jsx)(T.a,{className:"underlineLink",onClick:this.props.onLinkClick,to:t,children:Object(c.jsx)(s.e,{dangerouslySetInlineStyle:{__style:o},children:n})},e)}),M(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:d.a._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:d.a._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin})),M(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:o}=this.props,r="search"===n?973:982,{action:a,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:o&&o.reason&&C.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===n?4:10,throughId:o&&Object(k.d)(o),throughProperties:o&&Object(k.e)(o),clientTrackingParams:Object(w.a)(i)}),c=d.a._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:a,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:c,description:d.a._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}}),M(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:o,reason:r}=null!=i?i:{},a=r&&C.ReasonToChoose[r],s=i&&Object(k.d)(i),c=i&&Object(k.e)(i),l="pfyBoard"===t,{action:u,actionOptions:p}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,pinFeedbackType:l?2:4,throughId:s,throughProperties:c,clientTrackingParams:Object(w.a)(n)}),h=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:u,actionOptions:p,feedbackText:{subTitle:l&&o?Object(b.b)(d.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:h}):d.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:l&&o?Object(b.b)(d.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):d.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),M(this,"unfollowBoardOption",()=>{var e,t;const{board:n}=this.props,i=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(t=n.name)&&void 0!==t?t:"",!0):"",o=Object(b.b)(d.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),r=Object(b.b)(d.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:i});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.id},feedbackText:{title:"",subTitle:r},text:o,description:Object(b.b)(d.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),elementType:10614}}),M(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n,url_name:i}=e,o="/topics/"+i,r=this.makeNavigateLink("topicUrl",o,n,!0),a=Object(b.b)(d.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),s=Object(b.b)(d.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:R.a},feedbackText:{title:"",subTitle:s},text:a,description:Object(b.b)(d.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),M(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},o="/"+n,r=e?this.makeNavigateLink("pinnerUrl",o,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(b.b)(d.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:Object(b.b)(d.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:d.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),M(this,"downloadPinOption",()=>({action:"downloadPin",text:d.a._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836})),M(this,"_pinFeedbackText",()=>{const{adTargetingAttribution:e,location:t,feedbackType:n,hideDownload:i,whyAmISeeingThisAdExp:o,pinner:r}=this.props,a="followed"===this.props.feedbackType,s=t.pathname.includes("following"),c=(a||"topic"===n)&&!s,l=this.hidePinOption(c),u=this.reportPinOption(),p="promoted"!==n&&!i;let b=!1;switch(n){case"followed":const t=s,i=!t&&this.getRecommendationDescription(),a=null!=r&&r.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...i?{description:i}:{},options:[l,...c||t?[a]:[],..."promoted"!==n?[this.downloadPinOption()]:[],u]};case"promoted":const{ad_match_reason:h}=this.props,f={link:this.feedbackHelpers.getLearnMoreUrl(h),text:d.a._("Why am I seeing this ad?","Link to promoted pins explanation page","Link to promoted pins explanation page"),dataTestId:"why-am-i-seeing-this-ad"},m={dataTestId:"why-am-i-seeing-this-ad-exp",action:"showAdReasons",text:d.a._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:()=>{this.setState({showAdReasons:!0})}};b=e&&o&&o().anyEnabled;const g=[l,b?m:f,u];return{description:this.getRecommendationDescription(),options:g};case"topic":const j=this.unfollowTopicOption(),O=[l,...c&&j?[j]:[],...p?[this.downloadPinOption()]:[],u];return{description:this.getRecommendationDescription(),options:O};case"pfy":case"pfyBoard":const _=[l,..."pfyBoard"===n?[this.stopRecommendationOption()]:[],...p?[this.downloadPinOption()]:[],u];return{description:this.getRecommendationDescription(),options:_};default:const y=[l,...p?[this.downloadPinOption()]:[],u];return{description:this.getRecommendationDescription(),options:y}}}),M(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:d.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1,showAdReasons:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(L.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{hidePinFeedback:o,onHide:r,pinId:a,showPinFeedback:s,showPinFeedbackOverlay:c,showPinFeedbackUndo:l,viewParameter:d,viewType:u}=this.props;t&&n&&i?l(a,e,Object(k.b)(n,i,a,u,d,o,N.b),this.getUndoText(i)):s(a,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),c(a))}makeStrongText(e,t){return Object(c.jsx)("strong",{children:t},e)}handleClickLogging(e,t={}){const{feedbackType:n,viewParameter:i,viewType:o}=this.props;Object(N.b)(101,{...t,view:o,viewParameter:i,element:e,component:Object(k.c)(n)})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:i,viewParameter:o}=this.props,{pinFeedbackConfig:r}=this.state,{options:l}=r,u=[],p=l.length;for(let b=0;b<p;b+=1){const r=l[b],p=L.b.includes(r.action),h=r.callback?r.callback:()=>this.onPinHide(r.feedbackText,p,r.actionOptions,r.action);if("downloadPin"!==r.action)u.push(Object(c.jsx)(s.e,{children:r.link?Object(c.jsx)(a.a,{id:r.dataTestId||"",children:Object(c.jsx)(T.a,{external:!0,to:r.link,children:Object(c.jsx)(S.a,{compact:!0,text:r.text})})}):Object(c.jsx)(s.X,{fullWidth:!1,onTap:({event:e})=>this.onPinFeedbackActionButtonClick(e,r,h),children:Object(c.jsx)(S.a,{compact:!0,text:r.text})})},b));else if(!e&&"undefined"!=typeof window&&"windows"!==Object(P.b)(window)){const{bestPinImgSrc:e,pinTitle:r,pinDescription:a,pinCategory:l}=this.props;u.push(Object(c.jsx)(s.e,{children:Object(c.jsx)(v.a,{category:l,filename:r||a,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:o,viewType:i,children:e=>Object(c.jsx)(s.X,{fullWidth:!1,onTap:e,children:Object(c.jsx)(S.a,{compact:!0,text:d.a._("Download image","Button to download Pin image","Button to download Pin image")})})})},b))}}return u}render(){const{pinFeedbackConfig:e,showSecondary:t,showAdReasons:n}=this.state,{feedbackData:i,feedbackType:o,pinId:r,onHide:a,recommendationReason:l,viewParameter:d,viewType:u}=this.props,{description:p}=e,b=this.getRecommendationDescriptionImage();return Object(c.jsxs)(s.e,{overflow:"hidden",width:"100%",children:[t?Object(c.jsx)(I.a,{feedbackData:i,feedbackType:o,pinId:r,onHide:a,recommendationReason:l,viewParameter:d,viewType:u}):Object(c.jsxs)(s.e,{children:[p&&Object(c.jsxs)(s.e,{children:[Object(c.jsxs)(s.e,{alignItems:"center",display:"flex",padding:4,children:[Object(c.jsx)(s.e,{"data-pin-recommendation-reason":null==l?void 0:l.reason,maxHeight:56,overflow:"hidden",children:Object(c.jsx)(s.Y,{color:"darkGray",overflow:"normal",size:"md",children:p})}),b]}),Object(c.jsx)(s.o,{})]}),Object(c.jsx)(s.e,{marginBottom:3,marginTop:2,children:this.renderButtons()})]}),n&&Object(c.jsx)(x,{onDismiss:()=>this.setState({showAdReasons:!1}),pinId:r})]})}}t.a=Object(E.compose)(Object(o.connect)(null,e=>({hidePinFeedback:t=>e(Object(D.b)(t)),showPinFeedback:(t,n)=>e(Object(D.a)(t,n)),showPinFeedbackOverlay:t=>e(Object(D.d)(t)),showPinFeedbackUndo:(t,n,i,o)=>e(Object(D.e)(t,n,i,o))})),B.l)((function(e){const t=Object(A.b)("web_waista"),{ad_targeting_attribution:n}=Object(o.useSelector)(({pins:t})=>t[e.pinId]);return Object(c.jsx)(G,{...e,adTargetingAttribution:n,whyAmISeeingThisAdExp:t})}))},"63p3":function(e,t,n){function i(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,"a",(function(){return i}))},"7wXf":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("ynlw"),o=n("rsy7"),r=n("Ye/N"),a=n("EDqd"),s=n("US8k"),c=n("QAzJ"),l=n("n6mq"),d=n("nKUr");const u={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function p({backgroundColor:e,identifier:t}){const n="pine"===e?"#0FA573":"#fff";return Object(d.jsx)(l.e,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...u,backgroundColor:e?n:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:t})}function b({pin:e,allowProductCarousel:t,allowShoppingPriceIndicator:n,shoppingLabelColor:u}){const b=Object(i.a)(e),{anyEnabled:h,customActivate:f}=Object(c.c)("web_sp2s");if(b.isGif)return p({identifier:"GIF"});if(b.isStoryPin){const{page_count:t=0}=e.story_pin_data||{},n=Object(d.jsxs)(l.e,{display:"flex",alignItems:"center",justifyContent:"between",children:[Object(d.jsx)(l.e,{marginEnd:1,display:"flex",alignItems:"center",children:Object(d.jsx)(l.u,{accessibilityLabel:h?r.a._("Idea Pin","pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel","identifier that shows the pin type"):r.a._("Story Pin","pin.pinTypeIdentifier.iconAccessibilityLabel","identifier that shows the pin type"),inline:!0,icon:"story-pin",color:"darkGray",size:12})}),Object(d.jsx)(l.Y,{inline:!0,size:"sm",weight:"bold",children:t.toString()})]});return f(),p({identifier:n})}if(b.isVideo){const t=e.videos,{duration:n=0}=t&&t.video_list&&t.video_list[Object.keys(t.video_list)[0]]||{};return p({identifier:Object(s.a)(n)})}if(b.isProduct){if(n){const t=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary,n=t&&(t.price||t.max_price);return n?p({identifier:n}):null}if(u){const t=Object(o.a)(e)[0];return t?p({identifier:t,backgroundColor:u}):null}return null}if(t){const t=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=t&&Object(a.a)(e.images,t,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:i=[],index:o=0}=n;return p({identifier:`${o+1}/${i.length}`})}if(b.isCarousel){const t=e.carousel_data||{},{carousel_slots:n=[],index:i=0}=t;return p({identifier:`${i+1}/${n.length}`})}return null}},"8A+h":function(e,t,n){function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,"a",(function(){return i}))},"8kKu":function(e,t,n){var i=n("Ye/N"),o=n("CgR/"),r=n("Sp3T"),a=n("n6mq"),s=n("nKUr");t.a=o.a.makeSendShareButton((function({handleSendShareFlyoutButtonClick:e}){const t=Object(r.a)();return Object(s.jsx)("div",{"data-test-id":"share-icon-button",children:Object(s.jsx)(a.v,{accessibilityLabel:i.a._("Send","Accessible label to send a pin","Accessible label to send a pin"),bgColor:"white",icon:"share",iconColor:"darkGray",onClick:({event:n})=>{n&&n.stopPropagation&&n.stopPropagation(),t(()=>{e()})},size:"sm"})})}))},"8vQR":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("Ye/N"),o=n("7w6Q"),r=n("eOdZ"),a=n("n6mq"),s=n("U4JR"),c=n("nKUr");function l(e){const{identifier:t,onHide:n}=e,l=()=>{r.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callCreate().then(()=>{n(),(()=>{const{component:t,element:n}=e;Object(s.b)(101,{component:t,element:n}),o.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return Object(c.jsx)(a.v,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),l()},accessibilityLabel:i.a._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"9Hsp":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));const i=/[\- _,.<>:;+=*&@~\/\|!]*$/,o=(e,t=80,n="…")=>{let o;if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])o=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return o=o.replace(i,""),o+n},r=/\s\s+/g,a=e=>e.replace(r," ")},"9WJf":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("8A+h"),o=n("E58E"),r=n("zpPL");function a({action:e,board:t}){var n;const a=r.a.instance&&r.a.instance.getState()||{viewer:{}},{viewer:s}=a;return Object(i.a)(s,t)||Object(o.a)({board:t,viewer:s})&&!(null===(n=t.collaborator_permissions)||void 0===n||!n.includes(e))}},C2V2:function(e,t,n){n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return j}));var i=n("nj6m"),o=n("yweb"),r=n("vvax"),a=n("nKUr");function s({dot:e}){const t=Object(o.b)();return Object(r.b)(t._("{{ dot }}Free shipping","closeup.product.shipping","product shipping info"),{dot:e}).join("")}function c({dot:e,freeShippingPrice:t}){const n=Object(o.b)();return Object(r.b)(n._("{{ dot }}Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{dot:e,shippingPrice:t}).join("")}function l({freeShippingPrice:e,freeShippingValue:t,dot:n}){let i=null;return 0===t?i=Object(a.jsx)(s,{dot:n}):e&&(i=Object(a.jsx)(c,{dot:n,freeShippingPrice:e})),i}var d=n("4cpq"),u=n("XRfM"),p=n("pLLR"),b=n("n6mq");function h({count:e,ratingValue:t}){return Boolean(t&&"None"!==t&&!!e)}function f({count:e,countFormat:t,textSize:n}){const{locale:i}=Object(p.d)(),s=Object(o.b)();return Object(a.jsx)(b.Y,{size:n,children:Object(a.jsx)(d.a,{id:"ratings-count-text",display:"inlineBlock",children:"text"===t?Object(r.b)(s.ngettext("{{ count }} rating","{{ count }} ratings",e,"closeup.ratings.count","total ratings count"),{count:e}).join(""):Object(u.g)(i,e,{shortform:!0,shortform_maximum_fraction_digits:1})})})}function m({count:e,countFormat:t,ratingTextSize:n,ratingValue:o,shippingInfo:r,showDot:s}){const c=h({count:e,ratingValue:o}),{free_shipping_price:d,free_shipping_value:u}=r||{},p=c&&!!o&&Object(a.jsx)(i.a,{rating:o,width:12});return{rating:p&&c&&!!e&&Object(a.jsx)(f,{count:e,countFormat:t,textSize:n}),shipping:Number.isFinite(u)&&Object(a.jsx)(l,{freeShippingPrice:d,freeShippingValue:u,dot:s?"· ":""}),stars:p}}function g({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const{rating:o,shipping:r,stars:s}=m({count:e,countFormat:t,ratingTextSize:"md",ratingValue:n,shippingInfo:i,showDot:!1});return Object(a.jsxs)(b.e,{display:"flex",direction:"column",marginTop:1,children:[Object(a.jsxs)(b.e,{display:"flex",direction:"row",alignItems:"center",children:[s,o&&Object(a.jsx)(b.e,{dangerouslySetInlineStyle:{__style:{marginLeft:"number"===t?"5px":""}},display:"inlineBlock",children:o})]}),r&&Object(a.jsx)(b.e,{marginTop:s?1:0,children:Object(a.jsx)(b.Y,{color:"gray",size:"md",children:r})})]})}function j({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const o=h({count:e,ratingValue:n}),{rating:r,shipping:s,stars:c}=m({count:e,countFormat:t,ratingTextSize:"lg",ratingValue:n,shippingInfo:i,showDot:o});return Object(a.jsxs)(b.e,{display:"flex",direction:"row",marginTop:2,alignItems:"center",children:[c,r,s&&Object(a.jsx)(b.e,{marginStart:c?1:0,children:Object(a.jsx)(b.Y,{color:"darkGray",size:"lg",children:s})})]})}},"CgR/":function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("q1tI"),o=n("geGc"),r=n("Sp3T"),a=n("TqAR"),s=n("TgLd"),c=n("oVol"),l=n("U4JR"),d=n("n6mq"),u=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=({children:e})=>e(Object(r.a)());class h extends i.Component{constructor(...e){super(...e),p(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),p(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),p(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:i,userId:r,board:s,sendType:l,url:d,fullName:p,profileUrl:b,viewParameter:h,viewType:f,onExternalSend:m,showCaret:g,todayArticle:j}=this.props;let O={description:e,id:i,imageUrl:n,name:"",type:c.a.PIN,url:`/pin/${i}/`},_=c.a.PIN;switch(l){case"user":O={description:e,id:r,imageUrl:n,name:p,type:c.a.PINNER,url:b},_=c.a.USER;break;case"board":O=s&&{description:s.description,id:s.id,imageUrl:s.imageUrl,name:s.name,type:c.a.BOARD,url:s.url},_=c.a.BOARD;break;case"today_article":O=j&&{description:j.subtitle||"",id:j.id,imageUrl:n,name:j.title,type:c.a.TODAY_ARTICLE,url:Object(a.i)(j)},_=c.a.TODAY_ARTICLE;break;case"search":O={...O,type:c.a.SEARCH,url:d},_=c.a.SEARCH}const y={isFlyout:!0,onHide:this.onHide,onExternalSend:m,sendType:_,sharedObject:O,viewParameter:h,viewType:f};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:g,children:Object(u.jsx)(o.default,{...y})}})}static makeSendShareButton(e){return t=>Object(u.jsx)(this,{ref:t.shareButtonRef,Subject:e,...t})}toggle(){const{onToggleFlyout:e,sendType:t,userId:n}=this.props;"user"===t&&Object(l.b)(101,{component:13675,element:1079,objectId:n,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i}=this.props,{anchor:o,idealDirection:r,onDismiss:a,showCaret:c,children:l}=this.flyoutProps();return Object(u.jsxs)("div",{style:{pointerEvents:"auto"},children:[Object(u.jsx)(d.e,{ref:e=>{e&&(this.flyoutAnchor=e)},children:Object(u.jsx)(b,{children:t=>Object(u.jsx)(e,{handleSendShareFlyoutButtonClick:e=>t(()=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()}),...this.props})})}),n&&(i?Object(u.jsx)(d.y,{children:Object(u.jsx)(d.e,{zIndex:t?s.a:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:Object(u.jsx)(d.I,{anchor:o,idealDirection:r,onDismiss:a,showCaret:c,size:"xl",positionRelativeToAnchor:!1,children:l})})}):Object(u.jsx)(d.I,{anchor:o,idealDirection:r,onDismiss:a,showCaret:c,size:"xl",children:l}))]})}}p(h,"defaultProps",{idealDirection:"down",onClick:()=>{}})},DBaX:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));const i=16,o=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},DJoW:function(e,t,n){function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}))},"E/VT":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),o=n("28DW"),r=n("n6mq"),a=n("U4JR"),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),c(this,"state",{href:void 0}),c(this,"onEvent",()=>{if("undefined"==typeof window)return;const{category:e,imageDownloadSuccessCallback:t,imgSrc:n,isUnauth:i,pinId:r,viewParameter:s,viewType:c}=this.props,{href:l}=this.state;null==l&&n&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>t&&t()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(o.a)(`web.${i?"unauth":"auth"}.download.click.${e||"no_category"}`),Object(a.b)(82,{objectId:r,view:c||3,viewParameter:s||139})}),c(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,o=null!=n&&n!==this.DOWNLOAD_ERROR;return Object(s.jsxs)(i.Fragment,{children:[e(this.onEvent),o&&Object(s.jsx)(r.e,{display:"none",children:Object(s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})})]})}}},E58E:function(e,t,n){function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return Boolean(t.isAuth&&n)}n.d(t,"a",(function(){return i}))},ECHl:function(e,t,n){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return _}));var i=n("q1tI"),o=n("c0rk"),r=n("a5kZ"),a=n("Ye/N"),s=n("D2p8"),c=n("8kKu"),l=n("ujsJ"),d=n("QAzJ"),u=n("EC67"),p=n("pLLR"),b=n("n6mq"),h=n("QLqj"),f=n("nKUr");const m="numSearchCloseups",g="webSearchShareEligible",j="webSearchShareUpsellFlyoutLastViewed",O="webSearchShareUpsellFlyoutTimesViewed";function _({activeTabIndex:e,onChange:t,tabs:n,showFilterButton:_,onFilterButtonClick:y,filterButtonText:x,showSkinToneFilters:w}){const{isRTL:v}=Object(p.d)(),S=Object(i.useRef)(null),[T,I]=Object(i.useState)(!1),[P,E]=Object(i.useState)(Boolean(h.c.getItem(g))),[R,C]=Object(i.useState)(),[N,k]=Object(i.useState)(!1),D=Object(d.b)("web_search_share_skin_tone_filter"),A=Object(u.h)(),L=Number(h.d.getItem(m)||0);L>0&&(0===A.length&&0!==L||"PUSH"===A.action)&&h.d.setItem(m,0),Object(i.useEffect)(()=>{L>=2&&w&&!h.c.getItem(g)&&D().anyEnabled&&(h.c.setItem(g,!0),E(!0))},[D,L,w]),Object(i.useEffect)(()=>{if(P&&w){const e=h.c.getItem(j),t=Number(h.c.getItem(O))||0,n=!!(e&&Date.now()-Number(e)<864e5),i=t>=3;N||!R||n||i||(k(!0),h.c.setItem(O,t+1),h.c.setItem(j,Date.now()))}},[R,N,P,w]),Object(i.useEffect)(()=>{const e=S.current;return e?(s.c.addObstruction("top",e),()=>{s.c.removeObstruction("top",e)}):void 0},[]);const B=()=>{k(!1)};return Object(f.jsx)(o.a,{position:"sticky",shouldShowShadow:!0,style:{zIndex:3},children:Object(f.jsxs)(b.e,{alignItems:"center",color:"white",dangerouslySetInlineStyle:{__style:{paddingBottom:"12px"}},display:"flex",justifyContent:"center",padding:1,ref:S,"data-test-id":"search-tab-bar",children:[Object(f.jsx)(l.a,{tabs:n.map(({href:e,text:t})=>({href:e,text:t})),activeTabIndex:e,onChange:t,size:"lg"}),(_||P)&&Object(f.jsxs)(b.e,{marginEnd:12,position:"absolute",left:v,right:!v,display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:"16px"}},children:[P&&Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(b.e,{ref:e=>C(e),display:"inlineBlock",children:Object(f.jsx)(c.a,{inModal:!1,isFlyoutOpen:T,onToggleFlyout:()=>{I(!T)},onFlyoutDismiss:()=>{I(!1)},sendType:"search",url:"undefined"!=typeof window?window.location.href:null,showTransparentButton:!1,handleSendShareFlyoutButtonClick:()=>{I(e=>!e),B()}})}),N&&Object(f.jsx)(b.I,{anchor:R,idealDirection:"left",onDismiss:B,size:"xl",showCaret:!0,positionRelativeToAnchor:!0,color:"blue",children:Object(f.jsx)(b.e,{padding:3,children:Object(f.jsx)(b.Y,{color:"white",children:a.a._("Share this result with your friends!","discover.searchpage.searchtabbar.promptshare","A message to prompt sharing of search results")})})})]}),_&&Object(f.jsx)(r.a,{isDrawerOpen:!1,handleDrawerClose:()=>{},onClick:y,buttonText:x})]})]})})}},ENn1:function(e,t,n){var i=n("zpPL"),o=n("xjqW"),r=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:a,videos:s}=e,c=Object(r.f)(e),l=Object(r.g)(e);let d;if(Object(r.j)(s)&&s){const{video_list:e={}}=s,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{i.a.instance.dispatch(Object(o.b)({id:a,isProduct:c,isPromoted:l,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},EPem:function(e,t,n){n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return j}));var i=n("JW66"),o=n("BcL7"),r=n("pWkb"),a=n("ynlw"),s=n("Ye/N"),c=n("eBDd"),l=n("vvax"),d=n("VpfY"),u=n("n6mq"),p=n("nKUr");const b=()=>["employees","enabled"].includes(o.a.getInstance().v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function h(e,t){var n,r,s;if(!t.isAuth)return!1;const c=Object(d.c)(e)||Object(d.d)(e),l=(null===(n=e.board)||void 0===n?void 0:n.privacy)===i.a.BoardPrivacy.PUBLIC,u=(null===(r=e.board)||void 0===r?void 0:r.privacy)===i.a.BoardPrivacy.PROTECTED,p=(b()&&u||l)&&!e.is_repin&&(null===(s=e.pinner)||void 0===s?void 0:s.id)===t.id,{isStoryPin:h}=Object(a.a)(e);return c&&(!u||b())||t.isPartner&&p||["employees","enabled"].includes(o.a.getInstance().v2ActivateExperiment("web_ps4p"))&&h&&p}function f(e,t){return e?[{align:"start",displayText:s.a._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:s.a._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:s.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:s.a._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:s.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:s.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:s.a._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function m(e,t){const{isStoryPin:n,isVideo:i}=Object(a.a)(e),o=Object(d.c)(e),c=Object(d.d)(e)&&(n||!o)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,b=new Date(e.created_at),h=(new Date).getTime()-b.getTime(),f=Math.floor(h/36e5),m=c?c["24h_realtime"].is_realtime:null,g=c?c["24h_realtime"].timestamp:null;let j=null;c&&(j=n||i?c.all_time_realtime.timestamp:c["30d_realtime"].timestamp);const O=j!==g,_=e=>Object(l.b)(s.a._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),y={timeframe:"",lastUpdated:""};if(c)if(m){const e=c["24h_realtime"].impression>=(n||i?c.all_time_realtime.impression:c["30d_realtime"].impression);y.timeframe=e?s.a._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):n||i?s.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):s.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),y.lastUpdated=s.a._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(O||f>48)if(n||i){const e=Object(r.a)(c.all_time_realtime.timestamp);y.timeframe=s.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),y.lastUpdated=_(e)}else{const e=Object(r.a)(c["30d_realtime"].timestamp);y.timeframe=s.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),y.lastUpdated=_(e)}else{const e=Object(r.a)(c["24h_realtime"].timestamp);y.timeframe=s.a._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),y.lastUpdated=_(e)}else y.lastUpdated=s.a._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return Object(p.jsxs)(u.e,{alignItems:n||"lg"!==t?"center":void 0,display:n||"lg"!==t?"flex":void 0,children:[Object(p.jsx)(u.Y,{align:"right",color:"gray",size:"sm",children:y.lastUpdated}),(n||["md","sm"].includes(t))&&!!c&&Object(p.jsx)(u.Y,{color:"gray",inline:!0,size:"sm",children:" ・"}),Object(p.jsx)(u.Y,{align:"right",color:"gray",size:"sm",children:y.timeframe})]})}function g(e){return Object(c.a)(s.a.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function j(e){return Object(c.a)(s.a.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},Ep0g:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));const i=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],o=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],r=["US","CA"],a=e=>i.includes(e.toUpperCase()),s=e=>o.includes(e.toUpperCase()),c=(e,t,n)=>{const i={numDays:n},o=e[n]||{},r=e[2*n]||{};return t.forEach(e=>{const t=o[e]||0,n=r[e]?r[e]-t:0;i[e]={total:t,trend:n?(t-n)/n:0}}),i},l=e=>!!e&&r.includes(e.toUpperCase())},F08S:function(e,t,n){t.a=(e,t)=>{const n=t.getUTCDate()-e,i=new Date(t);return i.setUTCDate(n),i}},HGDa:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c}));const i=1e3,o=60*i,r=60*o,a=24*r,s=30*a,c=365*a},HJ6M:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));const i=-1,o=5,r=6},I7CA:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r({children:e,additionalStyles:t={}}){return Object(o.jsx)(i.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},JRj3:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var r;return n?"4g"===n?i="40-80":(o="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:o}};function o(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},r={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[t][n]||e.V_720P||void 0}function r(e){const{video_list:t={}}=e,n=o(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},MhBu:function(e,t,n){function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return i}))},N89m:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("ynlw"),o=n("0nTG");function r(e){const{isProduct:t}=Object(i.a)(e);return t&&Object(o.c)(e)||""}},RHD0:function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));n("UA0U");var i=n("RNo4"),o=n("Ep0g"),r=(n("HGDa"),n("0S8y"));const a=(e,t)=>Object.keys(t).filter(n=>{const i=t[String(n)];return(i.pinner||{}).id===e.id&&!i.is_repin}).map(e=>t[e]),s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),c=(e,t)=>!(!e||!e.isAuth)&&Object(o.e)(e.country),l=e=>e.isAuth&&!e.isPartner&&!Object(r.d)({user:e})&&!Object(r.c)({user:e}),d=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(i.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},u=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},Sp3T:function(e,t,n){var i=n("aOj9");t.a=()=>{const{loginForMore:e,viewer:t}=Object(i.d)();return n=>{"AUTH"===t.type?n():e&&e.setVisible(!0)}}},T5j3:function(e,t,n){function i(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function r(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:o,board:r}=e;return!(i||n||(!t||!t.id)&&!o||null!=r&&r.is_collaborative&&r.collaborated_by_me)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}))},Te6n:function(e,t,n){n.r(t),n.d(t,"default",(function(){return g}));var i=n("q1tI"),o=n("/MKj"),r=n("ENn1"),a=n("jCsw"),s=n("Ye/N"),c=n("5871"),l=n("Zxas"),d=n("kVqD"),u=n("YxyV"),p=n("DJoW"),b=n("Y8Sn"),h=n("gD/Z"),f=n("n6mq"),m=n("nKUr");function g({feedbackData:e,feedbackType:t,pin:n,pinTitle:g,setForcePrimary:j,transparentBackground:O}){const _=Object(o.useDispatch)(),{viewParameter:y,viewType:x}=Object(h.b)(),[w,v]=Object(i.useState)(!1),[S,T]=Object(i.useState)(),{ad_match_reason:I,board:P,category:E,description:R,id:C="",images:N,is_promoted:k,pinner:D,promoter:A,recommendation_reason:L,source_interest:B,videos:M}=n;var U;const G=(U=k?60:50,function(e){return Object(l.a)((e||"").trim(),U)})(null!=R?R:""),H=Object(a.a)(N,"236x"),F=Object(b.j)(M),V=Object(d.a)(101,{component:0,element:981,feedback_type:t,objectId:C}),Y=()=>{j(!1),_(Object(p.c)(C)),v(!1)};return Object(m.jsxs)(i.Fragment,{children:[Object(m.jsx)(f.e,{"data-test-id":"feedback-button",ref:T,children:Object(m.jsx)(f.v,{accessibilityLabel:s.a._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:O?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{w?Y():(j(!0),v(!0)),V()},size:"sm"})}),w&&Object(m.jsx)(f.y,{children:Object(m.jsx)(f.I,{anchor:S,idealDirection:"right",onDismiss:Y,positionRelativeToAnchor:!1,size:"md",children:Object(m.jsx)(c.a,{ad_match_reason:I,bestPinImgSrc:Object(u.d)(n),board:P,feedbackData:e,feedbackType:t,hideDownload:F,onLinkClick:()=>{w&&Y()},onHide:Y,onDownloadHideFlyout:()=>{j(!1),v(!1)},pinCategory:E,pinDescription:G,pinId:C,pinImgSrc:H,pinner:D,pinTitle:g,promoter:A,recommendationReason:L,reportPin:Object(r.a)({pin:n,viewParameter:y,viewType:x}),sourceInterest:B,viewParameter:y,viewType:x})})})]})}},U5D8:function(e,t){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},UA0U:function(e,t,n){var i=n("HGDa");t.a=e=>{const t=new Date(e)-new Date,n=Math.abs(t);return{year:Math.floor(n/i.f),month:Math.floor(n%i.f/i.d),day:Math.floor(n%i.d/i.a),hour:Math.floor(n%i.a/i.b),minute:Math.floor(n%i.b/i.c),milli:t,ms:n}}},UAdG:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),o=n("/MKj"),r=n("fOIk"),a=n("Ye/N"),s=n("eOdZ");var c=n("n6mq"),l=n("nKUr");function d({favorited:e,favoriteCount:t,onFavorite:n,onUnfavorite:d,pinId:u,size:p}){const b=Object(o.useDispatch)(),[h,f]=Object(i.useState)(!1),[m,g]=Object(i.useState)(e),[j,O]=Object(i.useState)(null!=t?t:0),_=async()=>{var e;g(!m),f(!0),m?(O(j-1),await b((e=u,async t=>{await s.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),d(),f(!1)):(O(j+1),await b(function(e){return async t=>{await s.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(u)),n(),f(!1))},y=j<10?j:a.a._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return Object(l.jsxs)(c.r,{alignItems:"center",gap:1,children:[void 0!==t&&j>0&&Object(l.jsx)(c.Y,{size:"md",weight:"bold",children:y}),Object(l.jsx)(r.b,{isDisabled:h,isFavorited:m,onTap:()=>{_()},size:p})]})}},US8k:function(e,t,n){function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,"a",(function(){return i}))},VBRM:function(e,t,n){t.a=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()+t),n}},VpfY:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return b}));var i=n("RHD0"),o=(n("7jH2"),n("Y8Sn"));function r(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function a(e){var t,n;return!Object(o.j)(e.videos)&&!Object(o.i)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function c(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function l(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function d(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const p=({viewer:e,pin:t})=>Object(i.b)(e)&&t.is_quick_promotable_by_pinner;function b(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}},W5T3:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("Jr++"),o=n("n6mq"),r=n("nKUr");const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==Object(i.a)().debug_impression_log;function c({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:Object(r.jsx)(o.e,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:Object(r.jsx)(o.Y,{color:"white",children:Object(r.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},"X/CP":function(e,t){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},"XLg/":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=120;function r(e,t,n){e.current&&clearTimeout(e.current),e.current=null,n&&(t?e.current=setTimeout(n,t):n())}function a(e,t=0,n=o){const a=Object(i.useRef)(),s=Object(i.useRef)(e),[c,l]=Object(i.useState)(e?"active":"inactive");return e!==s.current&&(e?"inactive"===c?(l("starting"),r(a,t,()=>{l("active")})):"ending"===c&&(l("active"),r(a)):"active"===c?(l("ending"),r(a,n,()=>{l("inactive")})):"starting"===c&&(l("inactive"),r(a))),Object(i.useEffect)(()=>()=>r(a),[]),s.current=e,c}},XPo3:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));const i=424,o=800,r=508,a=424,s=278,c=640,l=508,d=1016,u=508},XSD5:function(e,t,n){function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,"a",(function(){return i}))},Xuu2:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("1Fta"),o=n("Ye/N"),r=n("vvax");function a({feedbackOptions:e,pin:t,viewParameter:n}){const{board:a,pinner:s}=t,{getFeedbackType:c}=Object(i.a)({i18n:o.a,interpolateNamedTemplate:r.b});return c({board:a,feedback:e,pin:t,pinner:s,viewParameter:n})}},YWqT:function(e,t,n){t.a=(e,t)=>e.getTime()>t.getTime()},YxyV:function(e,t,n){n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return g}));var i=n("2U5n"),o=n("yjg8"),r=n("9Hsp"),a=n("wzxk");const s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},c=()=>({seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2}),l=e=>"ja"===e?23:19,d=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const o=c().maxNumTitleLines;n=Math.floor(e.length/i)+1,n>o&&(n=o)}return n})(e,t);return l(t)*n}return 0},u=e=>Object(a.c)(e),p=(e,t=!1)=>e&&e.length>0&&!t,b=(e,t,n,i)=>{let o=0;const{description:a,vaseAnnotations:s}=u(e),l=c();if(((e,t,n,i,o=!0)=>{if(!n)return null;if(o)return!p(t)&&t&&t.length>0;return!1})(0,s,e)&&(o+=l.seeMoreButtonHeight,o+=l.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(o+=l.productSiteTitle,o+=l.productSiteTitleTopMargin),p(s,i)&&(o+=l.vaseCarouselHeight),!i){const e=(e=>{let t=0;if(e){e=Object(r.a)(e);const n=35,i=c().maxNumDescriptionLines;t=Math.floor(e.length/n)+1,t>i&&(t=i)}return t})(a);o+=l.descriptionVerticalMargin+l.descriptionLineHeight*e}return e.pinner&&e.board&&(o+=28),o},h=(e,t,n,i=!1,o,r)=>{const s=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=Object(a.b)(e);return d(n,t)+10})(e,t):0,c=i?0:b(e,0,0,o);return s||c?c+s+10:0},f=(e,t="orig")=>Object(i.a)(e.images,t);function m(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map(t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)});t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const g=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,r=600;n>600&&!e.fullImage&&(r=500);const a=f(e,"orig");if(a){const e=Math.floor(a.height*o.e/a.width);i=e>r?r:e}return i}},a5kZ:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("Ye/N"),o=n("n6mq"),r=n("nKUr");function a({buttonText:e,handleDrawerClose:t,isDrawerOpen:n,onClick:a}){return Object(r.jsx)(o.X,{onTap:()=>{n?t():a()},rounding:"pill",accessibilityLabel:i.a._("Filter","productsFilterButton","Button to filter products results"),children:Object(r.jsx)(o.e,{display:"flex",justifyContent:"center",alignContent:"center",color:"lightGray",rounding:"pill",minHeight:40,children:Object(r.jsxs)(o.e,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"pill",minHeight:40,paddingX:4,children:[Object(r.jsx)(o.e,{marginEnd:3,children:Object(r.jsx)(o.u,{accessibilityLabel:"",icon:"filter",color:"darkGray"})}),Object(r.jsx)(o.Y,{align:"center",color:"darkGray",weight:"bold",children:e})]})})})}},b9Z9:function(e,t,n){n.d(t,"a",(function(){return L}));var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a({isHorizontalDesign:e}){return e?Object(r.jsxs)(o.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(r.jsx)(o.e,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):Object(r.jsxs)(o.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(r.jsx)(o.e,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsxs)(o.e,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(r.jsx)(o.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(r.jsx)(o.e,{color:"white",height:"2px",flex:"none"}),Object(r.jsx)(o.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var s=n("Ye/N");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class d extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),c(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>e.url):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>{var t,n,i;return((null===(t=e.images)||void 0===t?void 0:t["136x136"])||(null===(n=e.images)||void 0===n?void 0:n["236x"])||(null===(i=e.images)||void 0===i?void 0:i["736x"])||{}).url}),n):n}),c(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,i={transition:"opacity 500ms",opacity:n[t]?1:0};return Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:i},color:"white",height:"100%",width:"100%",children:!!e&&Object(r.jsx)(o.w,{naturalHeight:1,src:e,fit:"cover",alt:s.a._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)})})}),c(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?Object(r.jsx)(o.e,{height:"100%",display:"flex",direction:"row",children:this.getImage(t[0],0)}):2===t.length?Object(r.jsxs)(o.e,{height:"100%",display:"flex",direction:"row",children:[this.getImage(t[0],0),Object(r.jsx)(o.e,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?Object(r.jsxs)(o.e,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(r.jsx)(o.e,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.e,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.e,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):Object(r.jsxs)(o.e,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(r.jsx)(o.e,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),Object(r.jsx)(o.e,{color:"white",width:"2px",flex:"none"}),Object(r.jsxs)(o.e,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(r.jsx)(o.e,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),Object(r.jsx)(o.e,{color:"white",height:"2px",flex:"none"}),Object(r.jsx)(o.e,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),Object(r.jsx)(o.e,{height:136,display:"flex",direction:"column",children:Object(r.jsxs)(o.e,{width:"100%",position:"relative",flex:"grow",children:[Object(r.jsx)(a,{isHorizontalDesign:e}),n,Object(r.jsx)(o.e,{dangerouslySetInlineStyle:l,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}var u=n("FDmi"),p=n("gqRH"),b=n("U4JR");var h=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:i,url:a,userFullName:s,viewParameter:c,viewType:l}=e,d=i?80:86,h=Object(p.b)({href:a});return Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:i?-58:-64,marginLeft:i?-6:0,zIndex:1}},display:"flex",flex:"none",rounding:"circle",children:Object(r.jsx)(o.e,{flex:"none",height:d,width:d,children:Object(r.jsx)(o.X,{onTap:({event:e,disableOnNavigation:t})=>{t(),e.stopPropagation(),function(e,t){Object(b.b)(101,{view:e,viewParameter:t,component:13406,element:11373})}(l,c),h({event:e})},href:a,rounding:"circle",role:"link",children:Object(r.jsx)(u.a,{name:s,src:t,verified:n})})})})},f=n("Zxas");function m({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:i,numLines:a}){const s=a*t,c=Object(f.a)(e,s);return n?Object(r.jsx)(o.Y,{align:i?"left":"center",overflow:"normal",size:"md",weight:"bold",children:c}):Object(r.jsx)(o.Y,{align:i?"left":"center",overflow:"normal",size:"md",weight:"normal",color:i?"darkGray":"gray",children:c})}function g({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:i}){const a=e||t,s={placeholder:{__style:{transition:"opacity 200ms",opacity:a?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:a?1:0}}};return Object(r.jsxs)(o.e,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column",children:[Object(r.jsx)(o.e,{height:18,width:"100%",children:Object(r.jsx)(o.Y,{align:n?"left":"center",truncate:!0,size:n?"lg":"md",weight:"bold",children:i})}),Object(r.jsxs)(o.e,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[Object(r.jsxs)(o.e,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[Object(r.jsx)(o.e,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),Object(r.jsx)(o.e,{height:6,flex:"none"}),Object(r.jsx)(o.e,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),n&&!!t&&Object(r.jsx)(o.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1,children:Object(r.jsx)(m,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})}),n&&!!e&&Object(r.jsx)(o.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2,children:Object(r.jsx)(m,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})}),!n&&!!a&&Object(r.jsx)(o.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",children:Object(r.jsx)(m,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:a})})]})]})}var j=n("/MKj"),O=n("oRao"),_=n("vvax");function y({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:i,userFollowed:a}){return i?Object(_.b)(s.a._("{{ followCount }} {{ followText }}"),{followCount:Object(r.jsx)(o.e,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:a?void 0:.8,children:Object(r.jsx)(o.Y,{color:a?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold",children:Object(r.jsx)(O.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:Object(r.jsx)(o.e,{"data-test-id":"followText",display:"inlineBlock",children:Object(r.jsx)(o.Y,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}):Object(r.jsx)(o.e,{"data-test-id":"followText",children:Object(r.jsx)(o.Y,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}var x=n("M1Uz"),w=n("nGHF"),v=n("ZVOf");var S=Object(j.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(v.a)(t)),unfollow:t=>e(Object(v.c)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:a,follow:c,id:l,viewParameter:d,viewType:u,fullName:p,imageUrl:h,profileUrl:f}){const{showOneToast:m}=Object(w.b)(),g=a?s.a._("Following","User follow button","User follow button"):s.a._("Follow","User follow button","User follow button"),j=e=>Object(b.b)(e,{view:u,viewParameter:d,component:13406,element:11372});return Object(r.jsx)(o.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:Object(r.jsx)(o.X,{onTap:()=>{a?(Object(v.c)(l),j(46)):(c(l),j(45),m(({onHide:e})=>Object(r.jsx)(x.a,{onHide:e,text:Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(o.Y,{children:s.a._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),Object(r.jsx)(o.Y,{weight:"bold",children:p})]}),href:f,imageUrl:h})))},rounding:"pill",children:Object(r.jsx)(o.e,{alignItems:"center",color:a?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill",children:Object(r.jsx)(y,{followerCount:e,followText:g,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:a})})})})}));function T({avatarUrl:e,description:t,domainUrl:n,followerCount:i,id:a,isCreator:s,isHorizontalDesign:c,isVerified:l,userFullName:d,username:u,viewParameter:p,viewType:b}){const f=function(e){return"/"+e}(u);return Object(r.jsxs)(o.e,{alignItems:c?"start":"center",display:"flex",direction:"column",paddingX:c?5:6,paddingY:c?3:4,marginTop:2,width:"100%",children:[Object(r.jsx)(h,{avatarUrl:e,isHorizontalDesign:c,isVerified:l,url:f,userFullName:d,viewType:b,viewParameter:p}),c&&Object(r.jsxs)(o.e,{position:"relative",width:"100%",children:[Object(r.jsx)(o.e,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:Object(r.jsx)(S,{fullName:d,followerCount:i,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:f,showFollowerCount:s})}),Object(r.jsx)(o.e,{width:"100%",display:"flex",left:!0,marginTop:1,children:Object(r.jsx)(g,{description:t,domainUrl:n,isHorizontalDesign:c,userFullName:d})})]}),!c&&Object(r.jsxs)(o.e,{width:"100%",children:[Object(r.jsx)(g,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:c}),Object(r.jsx)(o.e,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(r.jsx)(S,{followerCount:i,fullName:d,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:f,showFollowerCount:s})})]})]})}var I=n("TgLd");const P=24;function E({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const i=n?320:236,{left:a,top:s,width:c,height:l}=e.getBoundingClientRect(),d=a+window.pageXOffset,u=s+window.pageYOffset,p=d+c+i+12>window.innerWidth,b={left:p?d:d+c,top:u+l/2},h={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:p?-12-i:12,top:-i/2-44},f={top:-12,left:-12,fill:"white"},m=p?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return Object(r.jsxs)(o.e,{position:"absolute",zIndex:I.a,dangerouslySetInlineStyle:{__style:b},children:[Object(r.jsx)(o.e,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:h},width:i,overflow:"hidden",children:t}),Object(r.jsx)(o.e,{position:"absolute",dangerouslySetInlineStyle:{__style:f},children:Object(r.jsx)("svg",{width:P,height:P,children:Object(r.jsx)("path",{d:m})})})]})}var R=n("eOdZ"),C=n("LT60"),N=n("v/Q4"),k=n("pLLR");function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends i.PureComponent{constructor(e){super(e),D(this,"anchorRef",Object(i.createRef)()),D(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(R.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{t&&this.setState({detailedUser:e.resource_response.data})}),R.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(e=>{t&&this.setState({userPins:e.resource_response.data})}),R.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(e=>{t&&this.setState({showcase:e.resource_response.data})}),t&&this.setState({isLoaded:!0}))}),D(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),D(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))},150)}),D(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:o,isLoaded:r,isMounted:a}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&o!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:s}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(s)?a&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout(()=>{a&&this.setState({isVisible:!0})},300))}),D(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,o={user:{}};return n&&(o.user=n),i&&(o.user={...o.user,...i}),o}render(){const{avatarSize:e,children:t,requestContext:n,username:i,viewer:a,viewParameter:s,viewType:c}=this.props,{isVisible:l,showcase:u,user:p,userPins:b}=this.state,{about:h,domain_url:f,follower_count:m,full_name:g,id:j,image_medium_url:O,show_creator_profile:_,verified_identity:y}=p||{},x=a.isAuth&&a.id===j,w=Boolean(null==y?void 0:y.verified),{group:v}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),S="enabled2_horizontal"===v;return Object(r.jsxs)(o.e,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[Object(r.jsxs)(o.e,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[Object(r.jsx)(o.e,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t]}),!x&&!!p&&!!i&&l&&Object(r.jsx)(o.e,{children:Object(r.jsx)(C.a,{children:Object(r.jsx)(o.y,{children:Object(r.jsx)(E,{anchor:this.anchorRef.current,isHorizontalDesign:S,children:Object(r.jsx)(o.e,{color:"white",zIndex:I.a,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:Object(r.jsxs)(o.e,{width:"100%",children:[Object(r.jsx)(d,{isHorizontalDesign:S,userPins:b,showcase:u}),Object(r.jsx)(T,{avatarUrl:null!=O?O:"",description:null!=h?h:"",domainUrl:f,followerCount:null!=m?m:0,id:null!=j?j:"",isCreator:_,isHorizontalDesign:S,isVerified:null!=w&&w,userFullName:null!=g?g:"",username:i,viewParameter:s,viewType:c})]})})})})})})]})}}function L(e){const t=Object(k.d)(),n=Object(N.a)();return Object(r.jsx)(A,{...e,requestContext:t,viewer:n})}},c0rk:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),o=n("L2iP"),r=n("n6mq"),a=n("qYux"),s=n("0Rm8"),c=n("pIlY"),l=n("nKUr");function d({children:e,className:t,forwardRef:n,offset:d=0,position:u,shouldShowShadow:p=!1,style:b={},top:h}){const{setIsContentHeaderPresent:f}=Object(a.b)();Object(i.useEffect)(()=>(f(!0),function(){f(!1)}),[]);const{currentScrollPosition:m,isScrolled:g,setSubheaderShadow:j}=Object(c.c)();Object(i.useEffect)(()=>(p&&j("contentHeader"),()=>{p&&j(null)}),[p]);let O=!1;"pending"!==h&&(O=null!=h?m>=h:g);const _=Object(s.b)(),y="undefined"!=typeof window&&!!window.MSInputMethodContext&&!!window.document.documentMode,x=Object(l.jsx)("div",{className:t,ref:n,style:{...b,top:_+d,...O&&p?{...o.f,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?Object(l.jsx)(r.S,{top:y?0:_+d,children:x}):x}},dfU2:function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),o=n("gLeT"),r=n("I7CA"),a=n("Ye/N"),s=n("EC51"),c=n("eqXv"),l=n("DBaX"),d=n("U4JR"),u=n("n6mq"),p=n("nKUr");const b={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:l.b,filter:"blur(10px)",opacity:1}},h={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},f={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},m=["followed","related","search"],g=["pfy","pfyBoard"];function j({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n,hideContents:j=!1}){var O;const[_,y]=Object(i.useState)(!1),[x,w]=Object(i.useState)(!1);Object(i.useEffect)(()=>y(!0),[]);const v=()=>w(!0),{feedbackText:S,images:T,showFeedbackOverlay:I,undoAction:P,undoText:E}=n,R=T&&(null===(O=T["236x"])||void 0===O?void 0:O.url),{image:C,subTitle:N,title:k,unfollow:D}=null!=S?S:{},A=!m.includes(e),L=g.includes(e),B=()=>{Object(d.b)(101,{view:1,viewParameter:92,element:11347})};return Object(p.jsxs)(u.e,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:l.b}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[Object(p.jsxs)(u.e,{dangerouslySetInlineStyle:{__style:{borderRadius:l.b}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[R&&Object(p.jsx)(r.a,{additionalStyles:{...b.base,..._?b.blurred:{},backgroundImage:`url("${R}")`}}),Object(p.jsx)(r.a,{additionalStyles:{...h.base,...h.blurred}})]}),Object(p.jsx)(u.e,{dangerouslySetInlineStyle:{__style:{...f.base,...!I&&_?f.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!j&&Object(p.jsx)(u.e,{height:"100%",children:Object(p.jsxs)(u.e,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[Object(p.jsx)(u.e,{marginBottom:2,children:Object(p.jsx)(u.t,{color:"white",size:"sm",children:k})}),Object(p.jsxs)(u.e,{display:"flex",marginBottom:1,children:[C&&Object(p.jsx)(u.e,{marginEnd:3,children:Object(p.jsx)(u.B,{width:C.width,height:C.height,rounding:2,wash:!0,children:Object(p.jsx)(u.w,{alt:N||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:C.url||""})})}),Object(p.jsx)(u.Y,{color:"white",overflow:"normal",children:N})]}),t?Object(p.jsxs)(i.Fragment,{children:[P&&Object(p.jsx)(u.e,{children:Object(p.jsx)(u.X,{onTap:P,children:Object(p.jsx)(u.Y,{color:"white",weight:"bold",overflow:"normal",children:a.a._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),Object(p.jsxs)(u.e,{marginTop:"auto",children:[!P&&!x&&D&&!L&&Object(p.jsx)(u.f,{color:"white",onClick:()=>Object(c.a)(D.action,D.actionOptions,v),text:a.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),A&&Object(p.jsx)(o.a,{href:"/edit",onClick:B,color:"white",text:a.a._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)(u.e,{children:A&&Object(p.jsx)(s.a,{href:"/edit",onClick:B,children:Object(p.jsx)(u.Y,{color:"white",weight:"bold",overflow:"normal",children:a.a._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),Object(p.jsxs)(u.e,{marginTop:"auto",children:[!P&&!x&&D&&!L&&Object(p.jsx)(u.f,{color:"white",onClick:()=>Object(c.a)(D.action,D.actionOptions,v),text:a.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),P&&Object(p.jsx)(u.f,{color:"white",onClick:P,text:E||a.a._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},eqXv:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("eOdZ");const o=()=>{};const r={complaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},followBoard:function(e,t){i.a.create("BoardFollowResource",e).callCreate().then(()=>t())},followPinner:function(e,t){i.a.create("UserFollowResource",e).callCreate().then(()=>t())},followTopic:function(e,t){i.a.create("InterestFollowResource",e).callCreate().then(()=>t())},newsHubPinHide:function(e,t){i.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(()=>t())},promotedComplaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},relatedPinHide:function(e,t){i.a.create("RelatedPinFeedbackResource",e).callUpdate().then(()=>t())},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.a.create("BoardFollowResource",e).callDelete().then(()=>t())},unfollowPinner:function(e,t){i.a.create("UserFollowResource",e).callDelete().then(()=>t())},unfollowTopic:function(e,t){i.a.create("InterestFollowResource",e).callDelete().then(()=>t())},unrelatedSearchPin:function(e,t){i.a.create("SearchPinFeedbackResource",e).callUpdate().then(()=>t())}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=o){const i=r[e];return i?i(t,n):n()}},fOIk:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("Ye/N"),o=n("n6mq"),r=n("nKUr");const a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function c({isDisabled:e,isFavorited:t,size:n,onTap:c}){return Object(r.jsx)(o.X,{disabled:e,onTap:c,children:Object(r.jsx)(o.u,{accessibilityLabel:i.a._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:t?s:a,size:n})})}},g5OB:function(e,t,n){n.d(t,"a",(function(){return Lt}));var i=n("q1tI"),o=n("1unC"),r=n("rYoy"),a=n("gD/Z"),s=n("sztL"),c=n("zwad");function l(e,t){const{carousel_data:n,domain:i}=e;let o=i||"";return n&&n.id&&(o=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],o=i[n]&&i[n].link||"";return o&&c.a.parse(o).hostname||""}(n,t)),o.replace("www.","")}var d=n("Ye/N"),u=n("gqRH"),p=n("kVqD"),b=n("0nTG"),h=n("Y8Sn"),f=n("n6mq"),m=n("nKUr");const g={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function j({pin:e,sourceLinkStyle:t,surface:n,url:o}){const[r,c]=Object(i.useState)(!1),{id:j}=e,O=l(e),_=Object(b.f)(e)||{},{slotIndex:y}=Object(a.b)(),x=Object(p.a)(12,{grid_index:y,objectId:j,...Object(b.f)(e)||{}}),w=Object(p.a)(101,{element:162,objectId:j,...Object(b.f)(e)||{}}),v=Object(p.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:y,objectId:j,...Object(b.f)(e)||{}}),S=()=>{x(),w(),Object(h.e)()&&v()},T=Object(u.b)({href:o,target:"blank",externalData:{auxData:_,pin:e,surface:n}});return"icon-only"===t?Object(m.jsx)(f.v,{accessibilityLabel:d.a._("link","Website url link","Website url link"),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,disableOnNavigation:t})=>{t(),S(),T({event:e})},role:"link",rel:"nofollow",size:"sm"}):Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{...g.container,...r?g.containerHovered:{},..."truncated-text"===t?g.containerTruncated:{}}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),position:"relative",children:Object(m.jsx)(s.a,{hovered:r,pin:e,slotIndex:y,viewType:1,children:Object(m.jsx)(f.X,{fullWidth:!1,href:o,onTap:({event:e,disableOnNavigation:t})=>{t(),S(),T({event:e})},rel:"nofollow",role:"link",rounding:4,children:Object(m.jsxs)(f.e,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:g.text},display:"flex",justifyContent:"between",children:[Object(m.jsx)(f.e,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:Object(m.jsx)(f.u,{accessibilityLabel:d.a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),Object(m.jsx)(f.e,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:Object(m.jsx)(f.Y,{color:"darkGray",size:"md",weight:"bold",truncate:!0,children:O})})]})})})})}const O=Object(i.lazy)(()=>Promise.all([n.e("aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6"),n.e("cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c"),n.e(171),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),_=Object(i.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),y=Object(i.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var x=Object(i.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:s,onToggleFlyout:c,pin:l,pinTitle:d,setForcePrimary:u,shouldUseLegoStyles:p,showEditButton:b,showOverflowMenu:h,showShareButton:g,sourceLinkStyle:x,surface:w}){var v;const S=Object(f.hb)(),{viewParameter:T,viewType:I}=Object(a.b)(),{carousel_data:P,id:E,savedInfo:R,tracked_link:C,link:N}=l,k=null!==(v=null!=C?C:N)&&void 0!==v?v:"",D=!!k,[A,L]=Object(i.useState)(b),[B,M]=Object(i.useState)(b),[U,G]=Object(i.useState)(b),H={marginRight:b&&h?-44:0,transition:"margin-right .2s ease-in-out"},F={opacity:U?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},V={marginLeft:B?4:0,transition:"margin-left .2s ease-in-out"};Object(i.useEffect)(()=>{let e;return b&&h?(M(!0),e=setTimeout(()=>{requestAnimationFrame(()=>{L(!0),requestAnimationFrame(()=>{G(!0)})})},800)):(M(b),L(b),requestAnimationFrame(()=>{G(b)})),()=>{clearTimeout(e)}},[b,h]);const Y=D&&Object(m.jsx)(o.b,{children:Object(m.jsx)(j,{pin:l,sourceLinkStyle:x,surface:w,url:k})}),z=g&&Object(m.jsx)(r.a,{children:Object(m.jsx)(f.e,{"data-test-id":"send-share-link",children:Object(m.jsx)(o.b,{children:Object(m.jsx)(y,{pin:l,setForcePrimary:u})})})}),q=Boolean(null==R?void 0:R.localPinId)&&p?null==R?void 0:R.localPinId:E,W=A&&Object(m.jsx)(r.a,{children:Object(m.jsx)(f.e,{"data-test-id":"edit-button",dangerouslySetInlineStyle:p&&!S?{__style:F}:void 0,children:Object(m.jsx)(o.b,{children:Object(m.jsx)(O,{carouselSlotCurrentIndex:P&&P.index,component:0,onToggleModal:c,pinId:q,style:{size:"sm"},view:I,viewParameter:T,useLegoStyles:!0})})})});return"equally-spaced"===s?Object(m.jsxs)(f.e,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[Object(m.jsx)("div",{style:{flexBasis:32},children:Y}),e?W:z,e?z:W]}):Object(m.jsxs)(f.e,{alignItems:"center",display:"flex",padding:3,children:[Object(m.jsx)(f.e,{flex:"shrink",children:Y}),Object(m.jsx)(f.e,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:p&&!S?{__style:H}:void 0,children:Object(m.jsxs)(f.r,{alignItems:"center",gap:2,justifyContent:"end",children:[e?W:z,p&&(e?z:W),h&&Object(m.jsx)(r.a,{children:Object(m.jsx)(f.e,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:p&&!S?{__style:V}:void 0,children:Object(m.jsx)(o.b,{children:Object(m.jsx)(_,{feedbackData:t,feedbackType:n,pin:l,pinTitle:d,setForcePrimary:u})})})}),!p&&(e?z:W)]})})]})})),w=n("/MKj"),v=n("XSD5"),S=n("ZbwW"),T=n("U4JR");function I({direction:e,swipeHandler:t}){const n={left:d.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:d.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return Object(m.jsx)(f.e,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:Object(m.jsx)(f.X,{fullHeight:!0,fullWidth:!0,onTap:t,children:Object(m.jsx)(f.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-"+e,children:Object(m.jsx)(f.u,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}var P=Object(w.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(v.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:i,viewType:r}=Object(a.b)(),s=Object(S.a)(e);if(!s)return null;const{id:c=""}=e,{carousel_slots:l=[],index:d=0,id:u}=s;function p(o){return()=>{const a="left"===o?d-1:d+1;t(c,a),((t=0,o)=>{Object(T.b)(108,{objectId:c,component:n,view:r,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:l[t]&&Number(l[t].id),carouselDataId:Number(u),carouselSlotIndex:t,toCarouselSlotIndex:o}},...Object(b.f)(e)||{}})})(d,a)}}return Object(m.jsxs)(f.e,{height:"100%",position:"relative",width:"100%",children:[d>0&&Object(m.jsx)(o.b,{children:Object(m.jsx)(I,{direction:"left",swipeHandler:p("left")})}),d<l.length-1&&Object(m.jsx)(o.b,{children:Object(m.jsx)(I,{direction:"right",swipeHandler:p("right")})})]})}),E=n("h9/w"),R=n("clxp"),C=n("FDmi"),N=n("qD10");function k({avatarUrl:e,attributionNameLink:t,name:n="",onClick:i,accessibilityLabel:o}){const r=Object(m.jsx)(f.e,{"data-test-id":"attribution-avatar",height:32,width:32,children:Object(m.jsx)(C.a,{name:n,src:e,accessibilityLabel:o})});return t?Object(m.jsx)(N.a,{className:"underlineLink",to:t,onClick:i,children:r}):r}function D({attributionNameLink:e,name:t,onClick:n,regularWeight:i}){const o=Object(m.jsx)(f.Y,{size:"md",truncate:!0,weight:i?"normal":"bold",children:t});return Object(m.jsx)(f.e,{children:e?Object(m.jsx)(N.a,{className:"underlineLink",onClick:n,to:e,children:o}):o})}function A({link:e,onClick:t,title:n,weight:i}){if(!n)return null;const o=Object(m.jsx)(f.Y,{size:"md",truncate:!0,weight:i,children:n});return e?Object(m.jsx)(N.a,{className:"underlineLink",onClick:t,to:e,children:o}):o}var L=n("b9Z9"),B=n("ynlw"),M=n("Zxas"),U=n("vvax"),G=n("fc1g");var H=Object(w.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(G.a)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,isDarkPromoter:i,pin:o,name:r,setMostRecentPin:s,sponsorUrl:c,url:l}){const{viewParameter:u,viewType:b}=Object(a.b)(),{id:h,pinner:g,sponsorship:j,story_pin_data_id:O}=o,{isPromoted:_}=Object(B.a)(o),y=g||o.promoter,{creator:{id:x}={},sponsor:{id:w}={}}=j||{},v=!!O,S=Object(p.a)(101,{view:3,element:_?283:27,objectId:h,component:v?230:void 0,...x?{creator_id:x,pin_id:h}:{}}),T=Object(p.a)(101,{view:3,element:27,pin_id:h,objectId:h,component:v?230:void 0,...x&&w?{creator_id:x,sponsor_id:w}:{}}),I=e=>{s(h),e?T():S()},P=l&&!e,E=Object(m.jsxs)(f.e,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[Object(m.jsx)(f.e,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},children:Object(m.jsx)(L.a,{avatarSize:32,isDarkPromoter:i,pinId:h,user:y,username:y&&y.username,viewParameter:u,viewType:b,children:Object(m.jsx)(k,{attributionNameLink:e,avatarUrl:n,name:r,onClick:()=>I(),accessibilityLabel:""})})}),Object(m.jsxs)(f.e,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",children:[Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:Object(m.jsx)(D,{attributionNameLink:e,name:r,onClick:()=>I(),regularWeight:!t})}),c?Object(m.jsx)(f.Y,{size:"md",weight:"bold",children:Object(U.b)(d.a._("Paid partnership with {{ name }}","pinrep.attribution.sponsoredPinTitle","Subtext of pinrep attribution when sponsored by a brand"),{name:Object(m.jsx)(A,{link:c,onClick:()=>I(!0),title:Object(M.a)(t,20),weight:"bold"},o.id+"-attribution_title")})}):Object(m.jsx)(A,{title:t})]})]});return P?Object(m.jsx)(N.a,{className:"underlineLink",onClick:()=>I(),to:l,children:E}):E})),F=n("gLeT"),V=n("rSLd"),Y=n("8A+h"),z=n("YGxj"),q=n("UAdG"),W=n("MhBu"),X=n("v/Q4"),K=n("tuD4"),J=n("HJ6M"),Q=n("KFEb"),Z=n("zq6P");function $({board:e,favoriteCount:t,favorited:n,pinId:o}){const r=Object(w.useDispatch)(),{slotIndex:s}=Object(a.b)(),{currentFilter:c,eligibleFilters:l,refreshData:d=(()=>{}),sectionId:u,setShowExperienceTooltip:p}=Object(Z.b)(),b=Object(i.useRef)(null),h=Object(X.a)(),g=Object(Y.a)(h,e),j=c===J.b&&(!t||1===t),O=Object(K.a)(l,J.b),_=e=>{Object(T.b)(101,{component:0,element:e?12225:12226,objectId:o,view:5,viewParameter:g?3069:3070})};return Object(m.jsxs)(i.Fragment,{children:[Object(m.jsx)(f.e,{ref:b,children:Object(m.jsx)(q.a,{favorited:n,favoriteCount:t,onFavorite:()=>{_(!0),O&&d(),p&&p(!0)},onUnfavorite:()=>{_(!1),e&&j&&r(Object(W.a)({feedId:u||e.id,feedType:u?Q.a.SECTION_PINS:Q.a.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),b&&!n&&!u&&0===s&&Object(m.jsx)(f.y,{children:Object(m.jsx)(z.a,{anchor:b.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ee=n("oRao"),te=n("T5j3"),ne=n("obIb"),ie=n.n(ne),oe=n("X/CP"),re=n.n(oe),ae=n("x/xQ"),se=n.n(ae),ce=n("jOPH"),le=n.n(ce),de=n("U5D8"),ue=n.n(de);const pe={goodIdea:ie.a,love:se.a,thanks:le.a,wow:ue.a,haha:re.a},be={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},he=["CreatorProfileStoryPinGrid"];var fe=function({pinId:e,pinner:t,reactionCounts:n,surface:i}){const o=Object(X.a)(),r=n?Object(te.a)(n):null,a=n?Object(te.b)(n):0,s=Boolean(o.isAuth&&(null==t?void 0:t.id)===o.id),c=!!r&&r.length>0&&r.map((e,t)=>{const n=pe[be[e]];return Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:Object(m.jsx)(f.e,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)}),l=!!c&&Object(m.jsx)(N.a,{to:`/pin/${e}/`,children:Object(m.jsxs)(f.e,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3,children:[Object(m.jsx)(f.e,{display:"flex",direction:"row",children:c}),Object(m.jsx)(f.e,{paddingX:1,children:Object(m.jsx)(f.Y,{size:"md",children:Object(m.jsx)(ee.a,{value:a,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),d=s&&he.includes(i)&&Object(m.jsx)(f.e,{height:24});return l||d},me=n("4Utz"),ge=n("EC51"),je=n("Rfw2");function Oe({feedbackType:e,pin:t}){const{pinner:n,source_interest:i}=t,{full_name:o,username:r}=n||{},{name:a}=i||{},s="topic"===e,c=!s&&"followed"===e,l=`/${r}/`,u=Object(je.e)(a),p=`/search/pins/?q=${encodeURIComponent(u)}&rs=image_only_attribution`,b=s?p:l,h={topic:d.a._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:d.a._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:d.a._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:d.a._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!h)return null;if(c||s){const e=0===h.indexOf("{"),t=s?a:o,n=e?h.slice(h.indexOf("}")+1):h.slice(0,h.indexOf("{"));return e?Object(m.jsxs)(f.e,{children:[Object(m.jsx)(ge.a,{inline:!0,href:b,children:Object(m.jsx)(f.Y,{weight:"bold",inline:!0,size:"md",truncate:!0,children:t})}),Object(m.jsx)(f.Y,{inline:!0,size:"md",children:n})]}):Object(m.jsxs)(f.e,{children:[Object(m.jsx)(f.Y,{inline:!0,size:"md",children:n}),Object(m.jsx)(ge.a,{inline:!0,href:b,children:Object(m.jsx)(f.Y,{color:"darkGray",weight:"bold",inline:!0,size:"md",truncate:!0,children:t})})]})}return Object(m.jsx)(f.e,{children:Object(m.jsx)(me.a,{pin:t,children:Object(m.jsx)(f.Y,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:h})})})}var _e=n("Te6n"),ye=n("h4v/"),xe=n("kmwA"),we=n("rkcQ");function ve({children:e=null,pinId:t,onClick:n,style:i,url:o}){var r,a;const s=Object(w.useSelector)(({pins:e})=>e[t]),c={[we.g.IMPRESSION_DATA]:null!==(r=null==s?void 0:s.insertion_id)&&void 0!==r?r:"",[we.g.CONVERSION_DESTINATION]:o,[we.g.IMPRESSION_EXPIRY]:we.f,[we.g.REPORTING_ORIGIN]:xe.a.settings.CANONICAL_MAIN_URL,[we.j.ATTRIBUTION_SOURCE_ID]:null!==(a=null==s?void 0:s.campaign_id)&&void 0!==a?a:"",[we.j.ATTRIBUTE_ON]:o};return Object(m.jsx)("a",{...c,href:o,onClick:n,style:i,target:"blank",rel:"noopener nofollow",children:e})}function Se(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Te=n("4cpq"),Ie=n("QAzJ");function Pe({children:e,componentType:t,contextLogData:n,pin:i,surface:o,viewParameter:r,viewType:s}){const c=Object(a.b)(),{carousel_data:l,id:d,is_promoted:u,link:p,tracked_link:b}=i,{anyEnabled:g,customActivate:j}=Object(Ie.c)("m10n_event_conversion_measurement");let O,_=b||p,y="one-tap-desktop";if(l){const{carousel_slots:e=[],id:t,index:n=0}=l;e[n]&&e[n].link&&(_=e[n].link),O={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},y+="-carousel"}const x=()=>{const e=ye.a.getInstance(),i=e.getViewFromContext();Object(T.b)(12,{...n,view:s||c.viewType,viewParameter:r||c.viewParameter,component:t||c.componentType,objectId:d,grid_index:c.slotIndex,pin_id:d,prefetch_percentage_complete:Se(p||"")}),Object(h.e)()&&Object(T.b)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:s||c.viewType,viewParameter:r||c.viewParameter,...n,component:t||c.componentType,objectId:d,grid_index:c.slotIndex,pin_id:d,prefetch_percentage_complete:Se(p||"")}),Object(T.b)(13,{closeup_navigation_type:"web_closeup",objectId:d,component:t||c.componentType,view:3,...c.contextLogData,...n}),e.addViewToContext(i)};return"AuthHomefeed"===o&&u&&j(),Object(m.jsx)(f.e,{"data-test-id":"otpp",children:Object(m.jsx)(Te.a,{id:y,children:"AuthHomefeed"===o&&u&&g?Object(m.jsx)(ve,{onClick:x,pinId:d,style:{cursor:"pointer",display:"block"},url:_||"",children:e}):Object(m.jsx)(N.a,{auxData:O,external:!0,onClick:x,pinId:d,style:{cursor:"pointer",display:"block"},surface:o,to:_||"",children:e})})})}var Ee=n("gC5q");function Re(e){const{pin:t,surface:n}=e,{isOneTap:i,isVideo:o,isPromoted:r}=Object(B.a)(t),{anyEnabled:a,customActivate:s}=Object(Ie.c)("web_no_tap_tap");!i&&o&&r&&s();const c=i||o&&r&&a?Pe:me.a;return Object(m.jsx)(c,{surface:i?n:void 0,...Object(Ee.b)(e,["surface"])})}function Ce({pin:e,pinNoteText:t,singleLineMaxLength:n}){const i=Object(M.a)(t,n);return Object(m.jsx)(Re,{pin:e,children:Object(m.jsx)(f.Y,{overflow:"normal",size:"md",children:i})})}var Ne=n("EPem"),ke=n("US8k");function De({value:e,valueFormat:t}){return e||0===e?"TIME"===t?Object(ke.a)(e):Object(m.jsx)(ee.a,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):Object(m.jsx)(f.cb,{idealDirection:"up",text:d.a._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"—"})}function Ae({pin:e}){const{isStoryPin:t,isVideo:n}=Object(B.a)(e),i=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:o}=Object(B.a)(e);return!n||!o&&i?i:n}(e),o=Object(Ne.a)(n,t),r=n||t?null==i?void 0:i.all_time_realtime:null==i?void 0:i["30d_realtime"];return Object(m.jsx)(f.e,{display:"flex",children:o.map(({align:e,displayText:t,field:n,iconType:i,iconSize:o=12,valueFormat:a})=>Object(m.jsxs)(f.e,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[Object(m.jsx)(f.e,{display:"inlineBlock",marginEnd:1,children:Object(m.jsx)(f.u,{accessibilityLabel:t,color:"darkGray",icon:i,size:o})}),Object(m.jsx)(f.Y,{inline:!0,size:"md",children:Object(m.jsx)(De,{value:null==r?void 0:r[n],valueFormat:a})})]},n))})}function Le({currentPrice:e,originalPrice:t,pin:n,surface:i}){const o=t&&t!==e;return Object(m.jsx)(Re,{pin:n,surface:i,children:Object(m.jsxs)(f.e,{display:"flex",direction:"row",children:[e&&Object(m.jsx)(f.Y,{color:o?"blue":"darkGray",size:"md",weight:"bold",children:e}),o&&Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:Object(m.jsx)(f.Y,{color:"gray",size:"md",weight:"bold",children:t})})]})})}var Be=n("N89m");function Me({pin:e,singleLineMaxLength:t,surface:n}){const i=Object(Be.a)(e),o=Object(M.a)(i,t);return Object(m.jsx)(Re,{pin:e,surface:n,children:Object(m.jsx)(f.e,{display:"flex",direction:"row",children:Object(m.jsx)(f.Y,{color:"darkGray",overflow:"normal",size:"md",weight:"normal",children:o})})})}function Ue({numberOfLines:e=2,pin:t,pinTitle:n,singleLineMaxLength:i,surface:o}){const r=e*i,a=Object(M.a)(n,r);return Object(m.jsx)(Re,{pin:t,surface:o,children:Object(m.jsx)(f.Y,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:a})})}var Ge=n("C2V2"),He=n("XLg/");const Fe=Object(i.lazy)(()=>n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"TbX8"))),Ve={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${He.a}ms ease`},visible:{opacity:1}}};function Ye({attributionType:e,board:t,feedbackData:n,feedbackType:o,hasTextContent:a,hasTitleOrSource:s,hoverTransitionState:c,isDarkPromoter:l,pin:u,pinNoteText:p,pinTitle:b,productCurrentPrice:h,productOriginalPrice:g,setForcePrimary:j,showBoardActivityReply:O,showCarouselEllipsis:_,showFavoriteButton:y,showGroupBoardAvatar:x,showNativeReactions:w,showOverflowMenu:v,showPinStats:S,showSource:T,showTextContent:I,singleLineMaxLength:P,surface:E,titleLines:R}){const{board_activity:C,favorited_by_me:N,favorite_user_count:D,id:A,pinner:L,reaction_counts:M,story_pin_data:U}=u,{has_affiliate_products:G}=U||{},{anyEnabled:F}=Object(Ie.d)("web_board_favorites",y),{anyEnabled:Y}=Object(Ie.d)("web_deprecate_group_board_comments"),z=function(e,t){var n,i,o,r,a;const{board:s,link_domain:c={},promoter:l,sponsorship:u,native_creator:p}=e,{isPromoted:b}=Object(B.a)(e),{official_user:h}=c||{},f=e.pinner||{};let m="",g="",j="",O="",_="",y="";if(b&&l)m=l.image_medium_url||l.image_small_url,j=l.full_name,O=d.a._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),y=`/${l.username}/`;else if(u&&null!==(n=u.creator)&&void 0!==n&&n.username){var x,w,v,S,T;const{creator:e,sponsor:t}=u;m=null!==(x=null!==(w=e.image_medium_url)&&void 0!==w?w:e.image_small_url)&&void 0!==x?x:"",g=`/${null!==(v=e.username)&&void 0!==v?v:""}/`,j=null==t?void 0:t.full_name,O=e.full_name,y=`/${null!==(S=e.username)&&void 0!==S?S:""}/`,_=`/${null!==(T=null==t?void 0:t.username)&&void 0!==T?T:""}/`}else if(p){var I,P;m=null!==(I=null!==(P=p.image_medium_url)&&void 0!==P?P:p.image_small_url)&&void 0!==I?I:"",O=p.full_name,y=`/${p.username}/`}else if("show-for-claimed-content"===t){var E,R;null!=h&&h.is_primary_website_verified&&(m=null!==(E=null!==(R=h.image_medium_url)&&void 0!==R?R:h.image_small_url)&&void 0!==E?E:"",O=h.full_name,y=`/${h.username}/`)}else{var C,N;m=null!==(C=null!==(N=f.image_medium_url)&&void 0!==N?N:f.image_small_url)&&void 0!==C?C:"",g=`/${f.username}/`,O=f.full_name,y=s?s.url:""}return{avatarUrl:null!==(i=m)&&void 0!==i?i:"",attributionNameLink:g,attributionTitle:null!==(o=j)&&void 0!==o?o:"",name:null!==(r=O)&&void 0!==r?r:"",sponsorUrl:_,url:null!==(a=y)&&void 0!==a?a:""}}(u,e),{avatarUrl:q,attributionNameLink:W,attributionTitle:X,name:K,sponsorUrl:J,url:Q}=z;return Object(m.jsxs)(f.e,{dangerouslySetInlineStyle:{__style:Ve.container},children:[_&&Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:s||x||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:Object(m.jsx)(V.default,{pinId:A})}),S&&Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:Object(m.jsx)(Ae,{pin:u})}),Object(m.jsx)(f.e,{display:"flex",children:Object(m.jsxs)(f.e,{flex:"grow",children:[(I&&a||F)&&Object(m.jsxs)(f.e,{dangerouslySetInlineStyle:{__style:"none"!==e||x?{marginBottom:"6px"}:{}},children:[(g||h)&&Object(m.jsx)(f.e,{marginBottom:1,children:Object(m.jsx)(Le,{currentPrice:h,originalPrice:g,pin:u,surface:E})}),F?Object(m.jsxs)(f.r,{alignItems:"start",children:[Object(m.jsx)(f.r,{flex:"grow",children:Object(m.jsx)(Ue,{numberOfLines:R,pin:u,pinTitle:b,singleLineMaxLength:P,surface:E})}),Object(m.jsx)(f.e,{marginStart:3,children:Object(m.jsx)($,{board:t,favorited:!!N,favoriteCount:null!=t&&t.should_show_board_activity?null!=D?D:0:void 0,pinId:A})})]}):Object(m.jsx)(Ue,{numberOfLines:R,pin:u,pinTitle:b,singleLineMaxLength:P,surface:E}),T&&Object(m.jsx)(Me,{pin:u,singleLineMaxLength:P,surface:E})]}),G&&Object(m.jsx)(f.e,{marginBottom:2,children:Object(m.jsx)(f.Y,{size:"md",children:d.a._("Includes sponsored products","pinrep.footer.sponsoredProducts","Footer text to indicate the story pin has affiliate products tagged.")})}),Object(m.jsxs)(f.e,{alignItems:"center",display:"flex",children:[Object(m.jsx)(f.e,{flex:"grow",children:(()=>{switch(e){case"none":return null;case"image-only-credit":return Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:Ve.imageOnlyAttribution["active"===c?"visible":"hidden"]},children:Object(m.jsx)(Oe,{pin:u,feedbackType:o})});default:return Object.values(z).some(e=>Boolean(e))?Object(m.jsx)(H,{attributionNameLink:W,attributionTitle:X,avatarUrl:q,isDarkPromoter:l||!1,name:K,pin:u,sponsorUrl:J,url:Q}):null}})()}),v&&Object(m.jsx)(f.e,{flex:"none",children:Object(m.jsx)(_e.default,{feedbackData:n,feedbackType:o,pin:u,pinTitle:b,setForcePrimary:j,transparentBackground:!0})})]}),w&&!!M&&Object(m.jsx)(f.e,{children:Object(m.jsx)(fe,{pinId:A,pinner:L,reactionCounts:M,surface:E})}),p&&Object(m.jsx)(f.e,{marginBottom:1,children:Object(m.jsx)(Ce,{pin:u,pinNoteText:p,singleLineMaxLength:P})}),x&&!(F&&Y)&&Object(m.jsxs)(f.e,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:[!F&&Object(m.jsxs)(i.Fragment,{children:[Object(m.jsx)(k,{attributionNameLink:W,avatarUrl:q,name:K}),Object(m.jsx)(f.e,{marginStart:2,flex:"grow",children:Object(m.jsx)(f.Y,{size:"md",children:K})})]}),Object(m.jsx)(f.e,{children:Object(m.jsx)(r.a,{children:Object(m.jsx)(Fe,{activityId:C&&C.id||A,board:t,hideComments:Y,hideReactions:F,pinId:A,showReply:O})})})]})]})})]})}function ze({contentType:e,hasTextContent:t,pin:n,pinTitle:o,productCurrentPrice:r,productOriginalPrice:a,productRating:s,productShipping:c,showSource:l,showVisitSiteButton:u,singleLineMaxLength:p,surface:b,titleLines:h}){var g;const j=Object(Ie.b)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:O,group:_}=j({dangerouslySkipActivation:!0}),y=null===(g=n.rich_summary)||void 0===g?void 0:g.url;return"shopping"!==e||_.includes("pwt")||j(),Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:Ve.productContainer},height:"100%",children:Object(m.jsx)(f.r,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&Object(m.jsxs)(i.Fragment,{children:[Object(m.jsxs)(f.e,{children:[(a||r)&&Object(m.jsx)(f.e,{marginBottom:1,children:Object(m.jsx)(Le,{currentPrice:r,originalPrice:a,pin:n,surface:b})}),Object(m.jsx)(f.e,{marginBottom:1,children:Object(m.jsx)(Ue,{numberOfLines:h,pin:n,pinTitle:o,singleLineMaxLength:p,surface:b})}),l&&Object(m.jsx)(Me,{pin:n,singleLineMaxLength:p,surface:b}),"shopping"===e&&O&&(s||Number.isFinite(null==c?void 0:c.free_shipping_value))&&Object(m.jsx)(Ge.b,{count:null==s?void 0:s.count,countFormat:"number",ratingValue:null==s?void 0:s.rating,shippingInfo:c})]}),u&&y?Object(m.jsx)(f.e,{marginTop:2,children:Object(m.jsx)(F.a,{href:y,onClick:()=>{Object(T.b)(12,{view:1,viewParameter:3563})},target:"blank",text:d.a._("Visit site","Wishlist.Pin.CTA.Button.VisitSite.Text","Text on CTA button on Wishlist Pin to Visit Site")})}):null]})})})}var qe=Object(i.memo)((function({attributionType:e,blockClickEvents:t,contentType:n,feedbackData:i,feedbackType:r,hoverTransitionState:a,isDarkPromoter:s,pin:c,board:l,pinNoteText:d,pinTitle:u,productOriginalPrice:p,productCurrentPrice:b,productRating:h,productShipping:g,setForcePrimary:j,showBoardActivityReply:O,showCarouselEllipsis:_,showFavoriteButton:y,showGroupBoardAvatar:x,showOverflowMenu:w,showNativeReactions:v,showPinStats:S,showSource:T,showTextContent:I,showVisitSiteButton:P,singleLineMaxLength:E,surface:R,titleLines:C}){const N=u||T,k="shopping"===n?Object(m.jsx)(ze,{contentType:n,hasTextContent:!!N,pin:c,pinTitle:u,productCurrentPrice:b,productOriginalPrice:p,productRating:h,productShipping:g,showSource:T,showVisitSiteButton:P,singleLineMaxLength:E,surface:R,titleLines:C}):Object(m.jsx)(Ye,{attributionType:e,board:l,feedbackData:i,feedbackType:r,hasTextContent:!!N,hasTitleOrSource:!!N,hoverTransitionState:a,isDarkPromoter:s,pin:c,pinNoteText:d,pinTitle:u,productCurrentPrice:b,productOriginalPrice:p,setForcePrimary:j,showBoardActivityReply:O,showCarouselEllipsis:_,showFavoriteButton:y,showGroupBoardAvatar:x,showNativeReactions:v,showOverflowMenu:w,showPinStats:S,showSource:T,showTextContent:I,singleLineMaxLength:E,surface:R,titleLines:C});return t?Object(m.jsx)("div",{style:{pointerEvents:"none"},children:k}):Object(m.jsx)(f.r,{flex:"grow",children:Object(m.jsx)(o.b,{fullWidth:!0,children:k})})})),We=n("4+TC"),Xe=n("d90F"),Ke=n("wm0H");const Je=Object(i.lazy)(()=>Promise.all([n.e("aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6"),n.e("cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c"),n.e(171),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),Qe=Object(i.lazy)(()=>Promise.all([n.e("aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6"),n.e("cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c"),n.e(171),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"f6y4"))),Ze=Object(i.lazy)(()=>Promise.all([n.e("cf69657e09fb7b24c1f189a76f0548c3c4b9ecec"),n.e("f06f654e5273bcad57d5351db3b657784f5be618"),n.e("aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6"),n.e("cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c"),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),$e=Object(i.lazy)(()=>Promise.all([n.e("cf69657e09fb7b24c1f189a76f0548c3c4b9ecec"),n.e("aeb90e1a2aabf5de8a1f515462347c9f4cf6cfa6"),n.e("cd8fcea1c074fef3f353043ccf17fc91cd4a4b7c"),n.e(171),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),et=Object(i.lazy)(()=>Promise.all([n.e("075f16d4784935ff1af8dc9d880285eb28eeaeb7"),n.e("QuickSaveButtonCommon")]).then(n.bind(null,"iTUf"))),tt=Object(i.lazy)(()=>n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"nGh2"))),nt=Object(i.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ATEG")));function it({board:e,derivedSaveButtonOptions:t,forcePrimaryContent:n,showEnabledSaveBehavior:s,onToggleFlyout:c,onToggleModal:l,pin:d,showEditButton:u,showLikeButton:b,supportsReactionBar:h,shouldUseLegoStyles:g}){const[j,O]=Object(i.useState)(!1),{carousel_data:_,id:y,savedInfo:x}=d,v=Object(i.useRef)(!!x),S=Object(w.useSelector)(({experiences:e})=>{const t=e.eligibleExperiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null}),{saveBehaviorType:T}=Object(Ke.b)(s);void 0!==T&&["classic","controlled","inline"].includes(t.type)&&(t=T);const{anyEnabled:I}=Object(Ie.d)("web_board_favorites"),{viewParameter:P,viewType:E}=Object(a.b)(),C=Object(p.a)(101,{element:0,objectId:y});let N=null;const k={onToggleModal:c,view:E,viewParameter:P,useLegoStyles:!0};if(!j)if(!t.hidePinBetterSaveDropdown&&(S||s&&["classic","controlled"].includes(t.type))&&["classic","controlled","inline"].includes(t.type)){const{renderPinSaveTooltip:e}=t;N=Object(m.jsx)(r.a,{children:Object(m.jsx)(o.b,{children:Object(m.jsx)(et,{experience:S||void 0,forcePrimaryContent:n,pin:d,renderPinSaveTooltip:e,showEnabledSaveBehavior:s,viewParameter:P})})})}else if("classic"===t.type||"controlled"===t.type){const{renderPinSaveTooltip:e}=t;N=Object(m.jsx)(r.a,{children:Object(m.jsx)(f.e,{"data-test-id":"pin-save-button",maxWidth:"100%",children:Object(m.jsx)(o.b,{children:Object(m.jsx)(Ze,{onClickCallback:C,onToggleModal:l,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:e,renderSavedStatus:()=>!!x&&Object(m.jsx)(o.b,{children:Object(m.jsx)(We.a,{isNewlySaved:!v.current,name:x.title,type:x.type,url:x.url})}),variant:"lego",viewParameter:P})})})})}else if("inline"===t.type){const e=d,{initialSelection:n,onSave:i,renderPinSaveTooltip:a,hidePinBetterSaveDropdown:s}=t;N=Object(m.jsx)(r.a,{children:Object(m.jsx)(f.e,{"data-test-id":"better-save",children:Object(m.jsx)(o.b,{children:Object(m.jsx)($e,{initialSelection:n,onSave:i,onToggleFlyout:c,onToggleModal:l,pin:e,renderPinSaveTooltip:a,shouldUseLegoStyles:g,renderSavedStatus:({savedInfo:e})=>e&&Object(m.jsx)(o.b,{children:Object(m.jsx)(We.a,{isNewlySaved:!v.current,name:e.title,shouldUseLegoStyles:g,type:e.type,url:e.url})}),useMasonryFlyout:!0,variant:"pin",viewParameter:P,hideDropdown:s})})})})}else"persistentOneClickSave"===t.type?N=Object(m.jsx)(r.a,{children:Object(m.jsx)(f.e,{"data-test-id":"persistent-one-click-save",children:Object(m.jsx)(o.b,{children:Object(m.jsx)(Qe,{...k,saveOptions:t,shouldUseLegoStyles:g,pin:d})})})}):"promote"===t.type&&(N=Object(m.jsx)(f.e,{display:"flex",justifyContent:"end",children:Object(m.jsx)(r.a,{children:Object(m.jsx)(f.e,{"data-test-id":"pin-promote-button",children:Object(m.jsx)(o.b,{children:Object(m.jsx)(nt,{pin:d})})})})}));let D=null;return u?D=Object(m.jsx)(r.a,{children:Object(m.jsx)(o.b,{children:Object(m.jsx)(f.e,{"data-test-id":"edit-button",display:"inlineBlock",children:Object(m.jsx)(Je,{...k,carouselSlotCurrentIndex:_&&_.index,component:0,pinId:y,style:{size:"sm"}})})})}):b&&!I&&(D=Object(m.jsx)(r.a,{children:Object(m.jsx)(f.e,{"data-test-id":"like-button",children:Object(m.jsx)(Xe.a,{name:"group_boards_reactions",activate:!1,children:({anyEnabled:t,customActivate:n})=>Object(m.jsx)(o.b,{children:Object(m.jsx)(tt,{pin:d,board:e,activateReactionsExperiment:n,inReactionsExperiment:t,onShowReactionsBar:()=>O(!0),onHideReactionsBar:()=>O(!1),supportsReactionBar:h,useLegoStyles:!0})})})})})),Object(m.jsx)(R.a,{name:"PinRepPrimaryContent",children:Object(m.jsxs)(f.e,{display:"flex",margin:3,children:[D&&Object(m.jsx)(f.e,{flex:"grow",marginEnd:"auto",children:D}),N&&Object(m.jsx)(f.e,{marginStart:"auto",flex:"grow",children:N})]})})}var ot=n("7wXf"),rt=n("VJm5"),at=n("3qdF"),st=n("qhFy"),ct=n("HOY+");const lt={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function dt({isSelected:e}){return Object(m.jsx)(f.e,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?lt:{},children:Object(m.jsx)(f.e,{position:"absolute",bottom:!0,right:!0,padding:3,children:Object(m.jsx)(f.e,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:Object(m.jsx)(f.u,{accessibilityLabel:d.a._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var ut=n("JRj3"),pt=n("7w6Q"),bt=n("jZDM");const ht="video",ft={},mt=(e,t)=>{if(pt.a.increment("web_prefetch.attempt",1),window.navigator&&window.navigator.connection){const e=window.navigator.connection;if(e.saveData)return void pt.a.increment("web_prefetch.saveDataOn",1);if(/2g/.test(e.effectiveType))return void pt.a.increment("web_prefetch.poorConnection",1)}if(!(()=>{const e=document.createElement("link");return!!e.relList&&!!e.relList.supports&&e.relList.supports("prefetch")})())return void pt.a.increment("web_prefetch.prefetchNotSupported",1);const n=Object(bt.a)(e),i=document.createElement("link");var o;(i.rel="prefetch",i.href=e,i.as=t,pt.a.increment("web_prefetch.addedToDom",1,{hostname:n.hostname||"unknown"}),i.onload=()=>{ft[e]&&(ft[e].loaded=!0),pt.a.increment("web_prefetch.load.success",1,{hostname:n.hostname||"unknown"})},i.onerror=()=>{pt.a.increment("web_prefetch.load.error",1,{hostname:n.hostname||"unknown"})},ft[e])||(null===(o=document.head)||void 0===o||o.appendChild(i),ft[e]={added:!0})};function gt({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:o,isHovering:r,isSocialSeasonalBoard:c=!1,onError:l,onLoad:d,pin:u,pinImageCrop:p,resolution:b="default",rootMargin:h,selectionState:g,showCarousel:j,showPromotedVideos:O,surface:_}){const{contextLogData:y,slotIndex:x,viewParameter:w,viewType:v}=Object(a.b)(),{id:S="",aggregated_pin_data:T,image_signature:I,story_pin_data:P}=u,{pin_tags_chips:E}=T||{},{isOneTap:R,isVideo:C,isPromoted:N,isGif:k}=Object(B.a)(u),{cropHeight:D,cropWidth:A}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(p);let L=null;if(e||!C||!O&&N)if(j)L=Object(m.jsx)(f.e,{"data-test-id":"pinrep-carousel",children:Object(m.jsx)(rt.a,{cropHeight:D,cropWidth:A,onError:l,onLoad:d,highResOnly:"high-res"===b,lowResOnly:"low-res"===b,pinId:S,showCarouselBadge:!1,pin:u})});else{const e="backend"===p?function({images:e,image_crop:t}){var n;const i=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:n=0}=t;return{marginTop:(e>0?-1*e*(null!=i?i:0):0)+"px",marginBottom:(n<1?Math.round(-1*(1-n)*(null!=i?i:0)):0)+"px"}}return{}}(u):{};L=Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:Object(m.jsx)(st.b,{animateGif:k&&c,cropHeight:D,cropWidth:A,fallbackColor:n,imageFit:o,highResOnly:"high-res"===b,lowResOnly:"low-res"===b,mediumResOnly:"medium-res"===b,onLoad:d,onError:l,pin:u})})}else L=Object(m.jsx)(f.e,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:D||void 0,justifyContent:"center",children:Object(m.jsx)(ct.a,{cropHeight:D,rootMargin:h,inAdsDesktopVideoExperiment:C&&O,pin:u,surface:_,onLoad:d,viewType:v,viewParameter:w,highResOnly:"high-res"===b,lowResOnly:"low-res"===b,onError:l,isExperimentalPinRep:!0})});const M=Object(m.jsx)(f.B,{wash:!0,children:Object(m.jsx)(s.a,{hovered:r,pin:u,slotIndex:x,viewType:1,children:L})}),U=["selected-image-only","deselected-image-only"].includes(g),G="selected-image-only"===g,H=Object(i.useRef)(!0);if(Object(i.useEffect)(()=>{H.current||!r||R||t||!P||function(e){const{pages:t,pages_preview:n}=e;if(!n&&!t)return;const i=(n?n[0]:t[0]).blocks.find(e=>3===e.block_type);if(i&&i.video){const{hlsv3:e,mp4:t}=Object(ut.a)(i.video)||{},n=t||e;var o;n&&mt(null!==(o=n.url)&&void 0!==o?o:"",ht)}}(P),H.current=!1},[t,r,R,P]),t)return Object(m.jsxs)(i.Fragment,{children:[M,U&&Object(m.jsx)(dt,{isSelected:G}),E&&Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(m.jsx)(at.a,{pin:u,enableCloseupLink:!0})})]});const{commerce_data:F}=y||{},V=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(_);return Object(m.jsxs)(Re,{contextLogData:{grid_index:x,image_signature:I,commerce_data:V?F:void 0},elementType:35,pin:u,surface:_,children:[M,E&&Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(m.jsx)(at.a,{pin:u,enableCloseupLink:!1})})]})}var jt=n("CgR/"),Ot=n("Sp3T");var _t=jt.a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e})=>{const t=Object(Ot.a)();return Object(m.jsx)(f.f,{onClick:({event:n})=>{n&&n.stopPropagation&&n.stopPropagation(),t(()=>{e()})},text:d.a._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:d.a._("Send","Accessible label to send a pin","Accessible label to send a pin")})});function yt(e){return e<160?"header-only":"none"}function xt(e){const[t,n]=Object(i.useState)(e.current?yt(e.current.clientHeight||0):"none");return function(e,t){const n=Object(i.useRef)();Object(i.useEffect)(()=>{const i=e.current;if(!i)return;const o=n.current;o&&o.width===i.offsetWidth&&o.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const i=yt(e);i!==t&&n(i)}),t}var wt=n("W5T3"),vt=n("dfU2"),St=n("I7CA"),Tt=n("vcEN"),It=n("DBaX");const Pt="#000000",Et="#ffffff";function Rt({selected:e=!1}){return Object(m.jsx)(f.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Pt:Et,borderRadius:It.b,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}},children:e?Object(m.jsx)(f.e,{position:"absolute",bottom:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:Object(m.jsx)(f.u,{accessibilityLabel:d.a._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):Object(m.jsx)(f.e,{position:"absolute",top:!0,right:!0,margin:3,children:Object(m.jsx)(f.u,{accessibilityLabel:d.a._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const Ct={wrapper:{borderRadius:It.b,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:It.a.VISUAL},savedOverlay:{backgroundColor:It.a.SAVED},legoWashOverlay:{backgroundColor:It.a.LEGO_WASH}};function Nt({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:i,primaryContentVisibility:o="none",secondaryContent:r,secondaryContentVisibility:a="none",accessoryContent:s,accessoryContentVisibility:c="none",actionBar:l,actionBarVisibility:d="none",footer:u,selectionState:p="no-selection",debugContent:b,signalDebuggerContent:h,signalDebuggerV2Content:g,signalDebuggerV2ContentVisibility:j="none",obscuredPinOverlay:O,showNoPinBorderRadius:_,showPromotedPinBorderTreatment:y,shouldUseLegoWash:x}){return Object(m.jsx)(f.e,{dangerouslySetInlineStyle:{__style:y?Ct.promotedPinBorderTreatment:{}},height:"100%",children:Object(m.jsxs)(f.e,{dangerouslySetInlineStyle:{__style:_?{}:Ct.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(p)&&Object(m.jsx)(Rt,{selected:"selected"===p}),Object(m.jsxs)(f.e,{dangerouslySetInlineStyle:{__style:_?{}:Ct.wrapper},overflow:"hidden",position:"relative",children:[e,Object(m.jsx)(Tt.a,{visibility:n,children:Object(m.jsx)(St.a,{additionalStyles:x?Ct.legoWashOverlay:Ct.visualOverlay})}),Object(m.jsx)(Tt.a,{visibility:t,children:Object(m.jsx)(St.a,{additionalStyles:x?Ct.legoWashOverlay:Ct.savedOverlay})}),s&&Object(m.jsx)(Tt.a,{visibility:c,children:Object(m.jsx)(St.a,{children:s})}),r&&Object(m.jsx)(Tt.a,{visibility:a,children:Object(m.jsx)(St.a,{children:r})}),i&&Object(m.jsx)(Tt.a,{visibility:o,children:Object(m.jsx)(St.a,{children:i})}),g&&Object(m.jsx)(Tt.a,{visibility:j,children:Object(m.jsx)(St.a,{children:Object(m.jsx)(f.e,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:g})})}),l&&Object(m.jsx)(Tt.a,{visibility:d,children:Object(m.jsx)(St.a,{children:Object(m.jsx)(f.e,{position:"absolute",left:!0,right:!0,bottom:!0,children:l})})}),b&&Object(m.jsx)(St.a,{children:b}),h]}),u,O&&Object(m.jsx)(f.e,{children:O})]})})}var kt=n("078/");function Dt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function At(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Lt=228;t.b=Object(i.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:o=!1,footerProps:r,forcePrimaryContentVisibility:s,impressionsDebuggerProps:c,onError:l,onLoad:d,obscuredPinOverlayProps:u,pin:p,pinVisualProps:b,presentationProps:h,primaryContentProps:g,selectionState:j,secondaryContentProps:O,showAccessoryContent:_,showActionBar:y,showFooter:w,showImpressionsDebugger:v,showSignalDebugger:S,showObscuredPinOverlay:T,showPrimaryAndSecondaryContent:I,surface:C}){const{savedInfo:N}=p,{viewType:k}=Object(a.b)(),D=Boolean(g.shouldUseLegoStyles),{showEnabledSaveBehavior:A}=Object(Ke.c)(kt.a.includes(C)||kt.c.includes(C)),[L,B]=Object(i.useState)(!1),M=Object(He.b)(L);let{isHovering:U,hoverTransitionState:G,handleMouseOver:H,handleMouseLeave:F}=function(){const[e,t]=Object(i.useState)(!1);return{isHovering:e,hoverTransitionState:Object(He.b)(e,0,He.a),handleMouseOver:Object(i.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(i.useCallback)(()=>t(!1),[t])}}();o&&(U=!1,G="inactive");const V=Object(He.b)(!!N),Y=Dt(V),z=Dt(G),q=Dt(G),W=Dt(M),X=Dt(V),K=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(C),J=D&&"visible"===Y&&!K?"none":Y,Q={primaryContentVisibility:At(q,W,D&&"visible"===X?"none":X),secondaryContentVisibility:(Z=At(q,W,X),"none"===Z?"visible":"visible"===Z?"none":"hidden"),actionBarVisibility:At(q,W),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var Z;const $=e=>B(e),ee=e=>B(e),te=e=>{B(e),e||F()};let ne=null;s&&(Q.primaryContentVisibility="visible"),"none"!==Q.primaryContentVisibility&&I&&(ne=Object(m.jsx)(it,{forcePrimaryContent:$,showEnabledSaveBehavior:A,onToggleFlyout:ee,onToggleModal:te,pin:p,...g}));let ie=null;const oe=Object(i.useRef)(!0),re=oe.current;oe.current=!1;const ae=function(e,t){const{carousel_data:n}=e,{index:o}=n||{},[r,a]=Object(i.useState)(!n||t),s=Object(i.useRef)(o),c=Object(i.useRef)(null);if(n){const e=s.current;s.current=o,(o!==e||t)&&(c.current&&clearTimeout(c.current),a(!0),c.current=setTimeout(()=>{a(!1),c.current=null},4e3))}return Object(i.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]),r}(p,re),se=Dt(Object(He.b)(ae));Q.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(Q.secondaryContentVisibility,se),ie=(O.allowShoppingPriceIndicator||O.shoppingLabelColor||"none"!==Q.secondaryContentVisibility)&&I&&!n&&Object(m.jsx)(f.e,{margin:2,children:Object(m.jsx)(ot.a,{pin:p,...O})});let ce=null;_&&(ce=Object(m.jsx)(P,{pin:p}),Q.accessoryContentVisibility=Dt(G)),b.isSocialSeasonalBoard&&(e.showShareButton=!1);const le=y?Object(m.jsx)(x,{onToggleFlyout:ee,pin:p,setForcePrimary:B,surface:C,...e}):null;let de=null;w&&(de=Object(m.jsx)(qe,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===r.attributionType?G:null,pin:p,setForcePrimary:B,surface:C,...r})),b.isSocialSeasonalBoard&&(de=Object(m.jsx)(f.e,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:Object(m.jsx)(f.e,{margin:"auto",width:Lt,children:Object(m.jsx)(_t,{isFlyoutOpen:L,onFlyoutDismiss:()=>ee(!L),onToggleFlyout:()=>ee(!L),pinId:p.id,sendType:"pin",shownWithinMasonry:!0,viewType:k})})}));const ue=v&&Object(m.jsx)(wt.b,{...c}),pe=S&&p.debug_info_html&&Object(m.jsx)(f.e,{paddingY:1,children:Object(m.jsx)("pre",{children:p.debug_info_html})}),be=Object(m.jsx)(E.a,{pin:p}),he=Object(i.useRef)();"header-only"===xt(he)&&(Q.actionBarVisibility="none",Q.accessoryContentVisibility="none");const fe=T?Object(m.jsx)(vt.a,{pin:p,...u}):null;return Object(m.jsx)(R.a,{name:"PinRepContainer",children:Object(m.jsx)("div",{"data-test-id":"pin","data-test-pin-id":p.id,onFocus:H,onBlur:F,onMouseEnter:H,onMouseLeave:F,children:Object(m.jsx)(Nt,{visualOverlayVisibility:z,savedOverlayVisibility:J,primaryContent:ne,primaryContentVisibility:Q.primaryContentVisibility,secondaryContent:ie,secondaryContentVisibility:Q.secondaryContentVisibility,accessoryContent:ce,accessoryContentVisibility:Q.accessoryContentVisibility,actionBar:le,actionBarVisibility:Q.actionBarVisibility,footer:de,selectionState:j,debugContent:ue,signalDebuggerV2Content:be,signalDebuggerV2ContentVisibility:Q.signalDebuggerV2ContentVisibility,signalDebuggerContent:pe,obscuredPinOverlay:fe,...h,children:Object(m.jsx)(f.e,{height:"100%",ref:he,children:Object(m.jsx)(gt,{blockClickEvents:t,isHovering:U,onError:l,onLoad:d,pin:p,surface:C,selectionState:j,...b})})})})})}))},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("trackingParametersContext")},gLeT:function(e,t,n){var i=n("q1tI"),o=n("zwad"),r=n("gqRH"),a=n("n6mq"),s=n("nKUr");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,color:i,disabled:c,href:l,iconEnd:d,inline:u,onClick:p,size:b,tabIndex:h,target:f,text:m}=e,g=o.a.isOffsiteUrl(l);return Object(s.jsx)(r.a,{href:l,target:g?null:f,children:({handleClick:e})=>Object(s.jsx)(a.f,{accessibilityLabel:n,color:i,disabled:c,href:l,iconEnd:d,inline:u,onClick:({event:t,disableOnNavigation:n})=>{n(),null==p||p({event:t}),e({event:t})},ref:t,rel:g?"nofollow":void 0,role:"link",size:b,tabIndex:h,text:m})})});c.displayName="ButtonLink",t.a=c},gSZa:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("R6wO"),o=n("Ye/N"),r=n("eqXv"),a=n("vvax"),s=n("0bYG"),c=n("U4JR"),l=n("1Fta"),d=n("n6mq"),u=n("nKUr");function p({feedbackData:e,feedbackType:t,pinId:n,onHide:p,recommendationReason:b,viewParameter:h,viewType:f}){const m=Object(l.a)({i18n:o.a,interpolateNamedTemplate:a.b}),g=(i,o)=>{const a=b&&b.reason&&s.ReasonToChoose[b.reason],d=b&&Object(l.d)(b),u=b&&Object(l.e)(b),{action:g,actionOptions:j}=m.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,throughId:d,throughProperties:u,complaintReason:i});(e=>{Object(c.b)(101,{view:f,viewParameter:h,element:e,component:Object(l.c)(t)})})(o),Object(r.a)(g,j),p()},j="promoted"===t?[{text:o.a._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:o.a._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:o.a._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:o.a._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:o.a._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:o.a._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:o.a._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:o.a._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return Object(u.jsxs)(d.e,{overflow:"hidden",rounding:2,width:"100%",children:[Object(u.jsx)(d.e,{paddingX:4,paddingY:4,children:Object(u.jsx)(d.Y,{color:"darkGray",size:"md",children:o.a._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback")})}),Object(u.jsx)(d.o,{}),Object(u.jsx)(d.e,{paddingY:2,children:j.map(({text:e,reason:t,elementType:n})=>Object(u.jsx)(d.X,{fullWidth:!1,onTap:()=>g(t,n),children:Object(u.jsx)(i.a,{compact:!0,text:e})},e))})]})}},"h9/w":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),o=n("Ye/N"),r=n("M1Uz"),a=n("n6mq"),s=n("nKUr");function c(e){const{onHide:t}=e,n=Object(s.jsx)(a.Y,{children:o.a._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return Object(s.jsx)(r.a,{onHide:t,text:n})}var l=n("eOdZ"),d=n("v/Q4"),u=n("ujsJ"),p=n("nGHF");var b=function({anchor:e,onDismiss:t,pinId:n,signals:r}){const[b,h]=Object(i.useState)(0),f=Object(d.a)(),{showOneToast:m}=Object(p.b)();if(!f.isEmployee)return null;const g=r.map(({signal_message:e})=>({href:"#",text:e})),{background_color:j,icon_url:O,signal_id:_,signal_message:y}=r[b];return Object(s.jsx)(a.y,{children:Object(s.jsx)(a.I,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:Object(s.jsxs)(a.e,{padding:4,width:"100%",children:[r.length>1&&Object(s.jsx)(a.e,{overflow:"scrollX",padding:1,marginBottom:4,children:Object(s.jsx)(u.a,{activeTabIndex:b,onChange:({activeTabIndex:e,event:t})=>{t.preventDefault(),h(e)},size:"lg",tabs:g})}),Object(s.jsx)(a.e,{display:"flex",alignItems:"center",children:Object(s.jsx)(a.t,{size:"sm",children:o.a._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),Object(s.jsx)(a.e,{paddingY:3,children:Object(s.jsxs)(a.r,{alignItems:"center",gap:2,justifyContent:"center",children:[Object(s.jsx)(a.e,{height:40,overflow:"hidden",rounding:"circle",width:40,children:O?Object(s.jsx)(a.w,{alt:o.a._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:O}):Object(s.jsx)(a.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:j}},height:40,width:40})}),Object(s.jsx)(a.Y,{size:"md",children:y})]})}),Object(s.jsx)(a.e,{marginBottom:3,children:Object(s.jsx)(a.Y,{size:"md",children:o.a._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),Object(s.jsxs)(a.r,{alignItems:"center",gap:2,justifyContent:"start",children:[Object(s.jsx)(a.f,{color:"red",size:"md",text:o.a._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:_,user:f.id};l.a.create("SignalReviewRequestResource",e).callCreate(),t(),m(({onHide:e})=>Object(s.jsx)(c,{onHide:e}))}}),Object(s.jsx)(a.f,{color:"gray",size:"md",text:o.a._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})},h=n("7pfs"),f=n("1unC"),m=n("rYoy");function g({signals:e,pinId:t}){const{background_color:n,icon_url:o,signal_message:r}=e[0],[c,l]=Object(i.useState)(!1),d=Object(i.useRef)();return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(m.a,{children:Object(s.jsx)(a.e,{"data-test-id":"debug-signals-feedback-button",children:Object(s.jsx)(f.b,{children:Object(s.jsx)(h.a,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>Object(s.jsx)(a.X,{onTap:()=>l(e=>!e),rounding:"pill",onMouseEnter:t,onMouseLeave:i,children:Object(s.jsxs)(a.e,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d,children:[Object(s.jsx)(a.e,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:Object(s.jsx)(a.e,{width:20,height:20,rounding:"circle",overflow:"hidden",children:Object(s.jsx)(a.w,{alt:"",color:n,src:o,naturalHeight:1,naturalWidth:1})})}),Object(s.jsx)(a.Y,{color:"white",size:"md",weight:"bold",children:r})]})})})})})}),c&&d&&d.current&&Object(s.jsx)(b,{anchor:d.current,onDismiss:()=>l(!1),pinId:t,signals:e})]})}function j({pin:e}){if(!Object(d.a)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:i,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:a}=e;return n?Object(s.jsx)(g,{pinId:t,signals:n}):i?Object(s.jsx)(g,{pinId:t,signals:i}):o?Object(s.jsx)(g,{pinId:t,signals:o}):r?Object(s.jsx)(g,{pinId:t,signals:r}):a?Object(s.jsx)(g,{pinId:t,signals:a}):null}},jCsw:function(e,t,n){function i(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return i}))},jOPH:function(e,t){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},juJw:function(e,t,n){t.a=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"…":e},kVqD:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),o=n("U4JR"),r=n("gD/Z");function a(e,t){const{componentType:n,contextLogData:a,viewParameter:s,viewType:c}=Object(r.b)();return Object(i.useCallback)(()=>{Object(o.b)(e,{component:n,view:c,viewParameter:s,...a,...t||{}})},[t,n,a,e,s,c])}},"mVz+":function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return u}));const i=40,o=4,r=106,a=133,s=.1,c=10,l=246,d=197,u=236},nj6m:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),o=n("2xqg"),r=n.n(o),a=n("n6mq"),s=n("nKUr");const c=({fill:e,width:t,color:n})=>{const o="half"===e?Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(a.e,{position:"absolute",children:Object(s.jsx)(a.u,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),Object(s.jsx)(a.u,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):Object(s.jsx)(a.u,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return Object(s.jsx)(a.e,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function l({max_rating:e,rating:t,width:n,color:o}){const a=[],l=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(l))return null;const d=Math.floor(l),u=l-d;return r()(d,e=>a.push(Object(s.jsx)(c,{color:o,fill:"full",width:n},e))),u>=.75?a.push(Object(s.jsx)(c,{color:o,fill:"full",width:n},a.length)):u>=.25&&a.push(Object(s.jsx)(c,{color:o,fill:"half",width:n},a.length)),r()(5-a.length,()=>a.push(Object(s.jsx)(c,{color:o,fill:"empty",width:n},a.length))),Object(s.jsx)(i.Fragment,{children:a})}},nrog:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("eOdZ");function o(e){return{type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:e}}}function r(e){return t=>i.a.create("UserResource",{user_id:e,field_set_key:"save_behavior"}).callGet().then(e=>{var n;const i=null==e||null===(n=e.resource_response)||void 0===n?void 0:n.data;t(o(i.save_behavior))})}},oVol:function(e,t,n){n.d(t,"a",(function(){return i}));const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},obIb:function(e,t){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},pSsd:function(e,t,n){n.d(t,"a",(function(){return i}));const i="favorited"},rSLd:function(e,t,n){n.r(t),n.d(t,"default",(function(){return u}));var i=n("/MKj"),o=n("XSD5"),r=n("ZbwW"),a=n("0nTG"),s=n("U4JR"),c=n("4cTg"),l=n("n6mq"),d=n("nKUr");function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:p,isCloseup:b,isEditMode:h,pinId:f,viewParameter:m,viewType:g,variant:j}){const O=Object(i.useSelector)(({pins:e})=>e[f],i.shallowEqual),_=e||Object(r.a)(O),y=Object(i.useDispatch)();if(!_)return null;const x=(e,t,i)=>{h||void 0===o.a||(e.preventDefault(),e.stopPropagation(),y(Object(o.a)(String(f),i))),void 0!==p&&p(i),((e,t,n=0,i,o,r,c,l,d,u)=>{if(!u){const{carousel_slots:u,id:p}=o;Object(s.b)(108,{...d,objectId:t,component:l,view:c,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(a.f)(e)||{}})}})(O,f,t,i,_,m,g,n,u,h)},{carousel_slots:w=[],index:v}=_,S=void 0!==t?t:v,T="default"===j,I=T?"white":"#555",P=T?"rgba(255, 255, 255, 0.5)":"lightGray";return Object(d.jsx)(c.b.Consumer,{children:({viewportSize:e})=>"sm"===e?null:Object(d.jsx)(l.e,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:b?"end":"center",paddingY:h?1:0,children:[...Array(w.length).keys()].map(e=>{var t;return Object(d.jsx)(l.e,{paddingX:1,children:Object(d.jsx)(l.X,{accessibilityLabel:null!==(t=w[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>x(t,S,e),rounding:"circle",children:Object(d.jsx)(l.e,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===S?I:P}},rounding:"circle"})})},f+e)})})})}},rsy7:function(e,t,n){function i(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}n.d(t,"a",(function(){return i}))},sztL:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),o=n("Nle8"),r=n("eOdZ"),a=n("0nTG"),s=n("U4JR"),c=n("Y8Sn"),l=n("7jH2"),d=n("nKUr");function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:p,viewType:b}){const[h,f]=Object(i.useState)(),[m,g]=Object(i.useState)(),{id:j,tracked_link:O,link:_}=n,y=O||_||"",x=()=>{f(!0)},w=Object(l.d)(Object(l.q)({pin:n})),v=Object(i.useCallback)(()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:Object(o.a)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:j,...u||{},...Object(a.f)(e)||{}})};return r.a.create("OffsiteLinkResource",i)})(n,y,!1).callGet({showError:!1}).then(e=>{e&&(Object(s.b)(12,{clickthrough_type:"rightClick",objectId:j,view:b,viewParameter:w,...u||{},...Object(a.f)(n)||{}}),Object(c.e)()&&Object(s.b)(8948,{click_type:"clickthrough",closeup_navigation_type:p&&Object(c.l)(p)?"deeplink":"click",clickthrough_type:"rightClick",view:b,objectId:j,viewParameter:w,...u||{},...Object(a.f)(n)||{}}))})}),S=e=>{h&&(/^\/pin/.test(e.target.activeElement.attributes.href.value)||(v(),f(!1)),window.removeEventListener(m,S,!1))};return Object(i.useEffect)(()=>{var e,t,n,i,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?g("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?g("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&g("webkitvisibilitychange")},[]),Object(i.useEffect)(()=>(h&&window&&window.addEventListener(m,S,!1),()=>window.removeEventListener(m,S)),[h,m]),Object(i.useEffect)(()=>(t&&window.addEventListener("contextmenu",x),()=>{window.removeEventListener("contextmenu",x)}),[t]),Object(d.jsx)(i.Fragment,{children:e})}},tuD4:function(e,t,n){function i(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some(e=>e.pin_type===t)}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},uhAL:function(e,t,n){function i(e,t,n){return Object.keys(e).reduce((n,i)=>n+Math.abs(e[i]-t[i]),0)<=n}function o({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:o,scaledHeight:r}){return{x:e/o,y:t/r,w:n/o,h:i/r}}function r({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:o,scaledHeight:r}){return{h:Math.floor(i*r),w:Math.floor(n*o),x:Math.floor(e*o),y:Math.floor(t*r)}}function a({cropArea:{x:e,y:t,w:n,h:i},cropSource:o,searchQuery:r,entrySource:a,trafficSource:s}){const c=[];e>=0&&t>=0&&n>=0&&i>=0&&c.push("x="+e,"y="+t,"w="+n,"h="+i),o&&c.push("cropSource="+o),a&&c.push("entrySource="+a),r&&c.push("q="+r),s&&"unknown"!==s&&c.push("rs="+s);return c.length?"?"+c.join("&"):""}function s({cropArea:e,cropSource:t,entrySource:n,isUnified:i,pinId:o,searchQuery:r,trafficSource:s,view:c}){return`/pin/${o}/${i?"related-products":"visual-search"}/${i||"products"!==c?"":"products/"}${a({cropArea:e,cropSource:t,entrySource:n,trafficSource:s,searchQuery:r})}`}function c(e){return e.filter(e=>e.is_stela)}function l(e){return e.filter(e=>!!e.label)}n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return i}))},vcEN:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("n6mq"),o=n("XLg/"),r=n("nKUr");function a(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:t=0,fadeOutDuration:n=o.a,visibility:s}){return"none"!==s&&e?Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:a(t,n)[s]},children:e}):null}},vpxy:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("9WJf"),a=n("ynlw"),s=n("078/");function c({isGroupBoard:e,pin:t,surface:n}){const{buyable_product:i,carousel_data:o,grid_title:r,rich_summary:c,title:l}=t,{isOwnPin:d,isPromoted:u}=Object(a.a)(t);if(o){const{carousel_slots:e=[],index:t=0}=o;if(e[t]&&e[t].title)return e[t].title.trim()}if(u){if(s.a.includes(n))return r||"";if(d&&!e&&!o&&"UserProfilePinGrid"!==n)return"";const t=c&&"mobile application"!==c.type_name&&c.display_name,a=i&&i.title;return l||t||a||r||""}return r||""}const l=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var d=n("JW66"),u=n("jgRP"),p=n("QLqj"),b=n("XPo3"),h=n("mVz+");const f=["ShoppingCatalogsProductsMetadata"];var m=n("8A+h"),g=n("clxp");const j={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var O=n("Xuu2"),_=n("63p3");var y=n("Zygf");var x=n("rYoy"),w=n("v/Q4"),v=n("gC5q"),S=n("T5j3"),T=n("Y8Sn"),I=n("ENhS"),P=n("gD/Z"),E=n("N89m"),R=n("EPem");const C=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function N({attributionOption:e,board:t,boardActivityOptions:n,contentType:i,feedbackData:o,feedbackType:r,hasCarouselData:s,isGroupBoard:l,isOwnBoard:d,pin:u,showImageOnly:p,showNativeReactions:b,showPromotedShoppingPrice:h,surface:f,viewer:m}){var g;const{isPromoted:j,isSponsored:O}=Object(a.a)(u),{promoter:_,pin_note:y}=u,x=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:o,surface:r}){const{is_downstream_promotion:a,native_creator:s,promoter:c,sponsorship:l}=i;if("promoted"===t||c&&!a||l)return"default";if(C.includes(r))return"none";if(n)return"none";let d="default";return e&&("image-only"===e?d="image-only-credit":"hide"===e&&(d="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?d:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":s?"default":"none":d}({attributionOption:e,feedbackType:r,isGroupBoard:l,pin:u,showImageOnly:p,surface:f}),w=p?"":c({isGroupBoard:l,pin:u,surface:f}),v=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(f)&&!j&&!p&&Boolean(Object(E.a)(u)),S="ShoppingWishlist"===f,T="BaseBoardPinGrid"===f&&y?null===(g=y.text)||void 0===g?void 0:g.trim():null,I=j,P="shopping"===i,N=/ShoppingSquareGridRelatedProducts/.test(f);let k=2;j?k=3:(v||"none"!==x)&&(k=P||N?2:1);let D,A,L,B;if(P||(j&&N||h)){var M,U;const e=null===(M=u.rich_summary)||void 0===M||null===(U=M.products)||void 0===U?void 0:U[0],{offer_summary:t}=e||{};D=t?t.standard_price:void 0,A=t?t.price||t.max_price:void 0}if(P&&!j){var G,H,F,V;const{rating_count:e,rating_value:t,review_count:n}=(null===(G=u.rich_summary)||void 0===G?void 0:G.aggregate_rating)||{};(e||n)&&parseFloat(t)&&(L={count:e||n,rating:t}),B=null===(H=u.rich_metadata)||void 0===H||null===(F=H.products)||void 0===F||null===(V=F[0])||void 0===V?void 0:V.shipping_info}const Y=P||["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories"].includes(f)?20:30;let z;z=l?25:"CloseupRelatedProducts"===f?23:Y;const q=Object(R.e)(u,m),W="CreatorProfileStoryPinGrid"!==f&&"CreatorProfileActivityPinGrid"!==f,X=l&&!O;return{attributionType:x,board:t,contentType:i,feedbackData:o,feedbackType:r,isDarkPromoter:!j&&!!_,pinNoteText:T,pinTitle:w,productCurrentPrice:A,productOriginalPrice:D,productRating:L,productShipping:B,showBoardActivityReply:"no-reply"!==n,showCarouselEllipsis:s,showFavoriteButton:"BaseBoardPinGrid"===f&&d||Boolean(null==t?void 0:t.should_show_board_activity),showGroupBoardAvatar:X,showNativeReactions:b,showOverflowMenu:I,showPinStats:q,showSource:v,showTextContent:W,showVisitSiteButton:S,singleLineMaxLength:z,titleLines:k}}var k=n("g5OB"),D=n("W5T3"),A=n("QAzJ"),L=n("0S8y"),B=n("nKUr");const M=Object(i.lazy)(()=>Promise.all([n.e("cf69657e09fb7b24c1f189a76f0548c3c4b9ecec"),n.e("075f16d4784935ff1af8dc9d880285eb28eeaeb7"),n.e("ChangeBoardModalCommon")]).then(n.bind(null,"2tul"))),U=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],G=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],H=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];t.a=Object(o.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},pins:n},{pin:i,pinId:o}){const r=n[o]||i,a=r.board&&r.board.id,s=(a?t[""+a]:void 0)||r.board;return r.grid_title=r.grid_title||i.grid_title,{board:s,isSocialSeasonalBoard:e,reduxPin:r}}),()=>({}))((function({blockClickEvents:e,attributionOption:t,board:n,boardActivityOptions:E,debugImpressionState:R,feedbackOptions:C,imageOnlyOption:F="default",isSocialSeasonalBoard:V,pinImageCrop:Y,pinImageFit:z,reduxPin:q,resolution:W="default",saveButtonOptions:X,surface:K,trackingParameters:J,...Q}){const{collaborated_by_me:Z,collaborator_count:$,is_collaborative:ee}=n||{},{pinner:te,showFeedback:ne,sponsorship:ie}=q,oe=Object(y.a)(q),re=Object(w.a)(),{slotIndex:ae,viewParameter:se}=J,{anyEnabled:ce}=Object(A.a)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(K)),le=Object(o.useSelector)(({ui:e})=>e.views),de=Object(o.useSelector)(({ui:e})=>e),ue=de.app?de.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},pe=Object(T.k)(q.id,ue),be=Object(o.useSelector)(({changeBoardFromToast:e})=>e),he=function(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(q),fe=Object(_.a)(q)||he,me=re.isAuth&&re.isEmployee,ge=re.isAuth&&(Object(L.c)({user:re})||Object(L.d)({user:re}))&&!re.isPartner;let je=ge;"TodayArticleFeed"===K&&(je=!1),"default"!==F&&(je="image-only"===F),function(e){return s.c.includes(e)}(K)&&(je=!1),"ShoppingSquareGridDomainNoMetadata"===K&&(je=!0);let Oe=t;ge&&!Oe&&(Oe="image-only");const _e=Object(O.a)({feedbackOptions:C,pin:q,viewParameter:se}),{data:ye}=C||{},xe="number"==typeof $&&$>0||ee,we=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=j[t];return!!n&&"dense"===e[n]}(le,K),ve=Boolean(xe&&"BaseBoardPinGrid"===K),Se=Object(m.a)(re,n),Te=Boolean(re.isAuth&&te&&te.id===re.id),Ie=Boolean(Z||xe&&Se),Pe=re.isAuth&&re.isPartner,Ee=q.is_quick_promotable&&"ShoppingSquareGridHomefeedBoth"!==K,Re=Object(A.b)("web_lego_save_flow")().anyEnabled,Ce=Object(i.useMemo)(()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:o,isOwnPin:a,isQuickPromotable:c,isRemovable:l,saveButtonOptions:d,surface:u,viewer:p,viewerIsCollaborator:b,shouldUseLegoStyles:h}){const m=p.isAuth?p.boardCount:void 0;let g=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(m);c?g={type:"promote"}:(b||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(u))&&"BoardlessPins"!==u&&(g={type:"classic"}),i&&(g={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===u}),(l||f.includes(u))&&(g={type:"none"});const j=o&&!n,O=e&&Object(r.a)({action:4,board:e})||a;return{board:e,derivedSaveButtonOptions:g,showEditButton:!h&&Boolean(j||"UserProfilePinGrid"===u&&O),showLikeButton:b&&n&&s.d.includes(u),supportsReactionBar:!t,shouldUseLegoStyles:h}}({board:n,isInlineBetterSave:ce,isDenseView:we,isGroupBoard:ve,isOwnBoard:Se,isOwnPin:Te,isQuickPromotable:Ee,isRemovable:oe,saveButtonOptions:X,shouldUseLegoStyles:Re,surface:K,viewer:re,viewerIsCollaborator:Ie}),[n,ce,we,ve,Se,Te,Ee,oe,X,Re,K,re,Ie]),{isPromoted:Ne}=Object(a.a)(q),{group:ke}=Object(A.d)("web_shopping_grid_labels"),{anyEnabled:De}=Object(A.d)("web_shopping_grid_metadata_ratings_shipping"),Ae=["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingWishlist","ShoppingWishlistCategories"];let Le;[...Ae,"ShoppingSquareGridCrop","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts"].includes(K)&&!Ne&&(De&&Ae.includes(K)?Le="white":["enabled_popular_bestseller_colorful","enabled_popular_colorful","enabled_pwt","employees"].includes(ke)?Le="pine":["enabled_popular_bestseller_neutral","enabled_popular_neutral"].includes(ke)&&(Le="white"));const Be=Object(i.useMemo)(()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.b.includes(n),shoppingLabelColor:t}}({allowProductCarousel:he,shoppingLabelColor:Le,surface:K}),[he,Le,K]),Me=fe,Ue=Object(i.useMemo)(()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:o,isOwnBoard:s,pin:d,surface:u,shouldUseLegoStyles:p}){const{isOwnPin:b,isPromoted:h}=Object(a.a)(d),f=c({isGroupBoard:o,pin:d,surface:u}),m=e&&Object(r.a)({action:4,board:e})||b,g=d.savedInfo&&d.savedInfo.localPinId,j=Boolean(p&&(s&&!o||"UserProfilePinGrid"===u&&m||g)),O=o&&m||j,_=Boolean((null==e?void 0:e.is_collaborative)||j),y=!(h||s||o||l.includes(u)),x="CloseupRelatedProducts"!==u;let w=o&&i?"equally-spaced":"default",v="default";return i&&(v=o?"icon-only":"truncated-text"),i&&p&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(u)&&(v="icon-only",w="equally-spaced"),{actionBarEditBeforeShare:_,feedbackData:t,feedbackType:n,layout:w,pinTitle:f,shouldUseLegoStyles:p,showEditButton:O,showOverflowMenu:y,showShareButton:x,sourceLinkStyle:v}}({board:n,feedbackData:ye,feedbackType:_e,isDenseView:we,isGroupBoard:ve,isOwnBoard:Se,pin:q,surface:K,shouldUseLegoStyles:Re}),[n,ye,_e,we,ve,Se,q,K,Re]),Ge=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories"].includes(K),He=!Ne&&Ge?"shopping":"standard",Fe=Object(S.c)(q),Ve=Object(i.useMemo)(()=>N({attributionOption:Oe,board:n,boardActivityOptions:E,contentType:He,feedbackData:ye,feedbackType:_e,hasCarouselData:fe,isGroupBoard:ve,isOwnBoard:Se,pin:q,showImageOnly:je,showNativeReactions:Fe,showPromotedShoppingPrice:De&&Ne&&Ge,surface:K,viewer:re}),[Oe,n,E,He,ye,_e,fe,ve,Se,Ne,Ge,q,De,je,Fe,K,re]);let Ye=Boolean(Ve.pinTitle)||Ve.contentType||Ve.userNote||Ve.showSource||"none"!==Ve.attributionType||Ve.showNativeReactions||Ve.productCurrentPrice||Ve.productOriginalPrice||Ve.showPinStats||ve;"BaseBoardPinGrid"===K&&Se&&Pe||ie?Ye=!0:U.includes(K)||we&&(Se||Z)||V?Ye=!1:Te||"CreatorProfileStoryPinGrid"!==K&&"CreatorProfileActivityPinGrid"!==K||(Ye=!1);const ze=Boolean(ne),{anyEnabled:qe,customActivate:We}=Object(A.c)("web_others_board_feed_ads_border");let Xe=!1;"BaseBoardPinGrid"===K&&Ne&&(Xe=qe,We());const Ke={showNoPinBorderRadius:"TopicBestPinNarrow"===K||"TopicBestPinWide"===K,showPromotedPinBorderTreatment:Xe,shouldUseLegoWash:!!Re},{anyEnabled:Je}=Object(A.a)("hfp_homefeed_control_cta_variants"),Qe={feedbackType:_e,isHomefeedTunerVariantExp:Je},{anyEnabled:Ze}=Object(A.d)("ads_desktop_video_ads"),$e=Object(i.useMemo)(()=>function({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:o,pinImageFit:r,resolution:a,showPromotedVideos:s,surface:c}){let l="backend";"CloseupRelatedProducts"===c?l={height:h.a,width:h.b}:"TopicBestPinWide"===c?l={height:b.h,width:b.i}:"TopicBestPinNarrow"===c?l={height:b.b,width:b.c}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories"].includes(c)?l={height:h.i,width:h.i}:o&&(l=o);const f=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories"].includes(c);let m="none";"string"!=typeof l&&(m="cover",(f||"ShoppingSquareGridCrop"===c&&n||"ShoppingDynamicHeightGrid"===c&&!r||"ShoppingSquareGridDomainNoMetadata"===c)&&(m="contain"));const g=f||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(c)?"transparent":"dominant",j=Object(u.a)(c);return{autoplaySettingOff:"undefined"!=typeof window&&0===p.c.getItem(d.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:g,imageFit:m,isDenseView:t,isSocialSeasonalBoard:i,resolution:null!=a?a:"default",rootMargin:j,pinImageCrop:l,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(c),showPromotedVideos:s}}({hasCarouselData:fe,isDenseView:we,isPromoted:Ne,isSocialSeasonalBoard:V,pinImageCrop:Y,pinImageFit:z,resolution:W,showPromotedVideos:Ze,surface:K}),[fe,we,Ne,V,Y,z,W,Ze,K]),et=me&&Object(D.a)(),tt=Object(i.useMemo)(()=>({debugImpressionState:R,slotIndex:ae}),[R,ae]);return Object(B.jsx)(g.a,{name:"PinRepConfiguration",children:Object(B.jsx)(P.a,{value:J,children:Object(B.jsxs)(I.a,{value:{surface:K},children:[Object(B.jsx)(k.b,{actionBarProps:Ue,blockClickEvents:e,currentlyPlayingVideo:pe,footerProps:Ve,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(K)||Re&&"BoardMoreIdeasTabContent"===K,impressionsDebuggerProps:tt,obscuredPinOverlayProps:Qe,pin:q,pinVisualProps:$e,presentationProps:Ke,primaryContentProps:Ce,secondaryContentProps:Be,showAccessoryContent:Me,showActionBar:!H.includes(K),showFooter:Ye,showImpressionsDebugger:et,showObscuredPinOverlay:ze,showPrimaryAndSecondaryContent:!G.includes(K),showSignalDebugger:me,surface:K,...Object(v.b)(Q,["pinId"])}),be.shouldOpenModal&&be.newPin&&be.originalPin&&be.originalPin.id===q.id&&Object(B.jsx)(x.a,{children:Object(B.jsx)(M,{experience:be.experience,newPin:be.newPin})})]})})})}))},w1Xl:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("Ye/N"),o=n("7w6Q"),r=n("eOdZ"),a=n("U4JR"),s=n("n6mq"),c=n("nKUr");function l(e){const{identifier:t,onUndoHide:n,isGroupChat:l}=e,d=async()=>{const i=r.a.create("ShareSuggestionsHideResource",{user_identifier:t});await i.callDelete(),n(),(()=>{const{component:t,element:n}=e;Object(a.b)(101,{component:t,element:n}),o.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return Object(c.jsxs)(s.e,{display:"flex",children:[Object(c.jsx)(s.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"80%",children:Object(c.jsx)(s.Y,{inline:!0,color:"gray",children:l?i.a._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):i.a._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),Object(c.jsx)(s.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:Object(c.jsx)(s.f,{onClick:({event:e})=>{e.stopPropagation(),d()},text:i.a._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button",inline:!0})})]})}},wm0H:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p}));var i=n("/MKj"),o=n("w70y"),r=n("v/Q4"),a=n("nrog"),s=n("QAzJ");const c=0,l=1;function d(){const e=Object(r.a)(),t=!(!e.isAuth||!e.has_quicksave_board),n=Object(s.b)("web_curation_save_behavior");return{showEnabledSaveBehavior:t&&n().anyEnabled}}function u(e){var t;const n=Object(i.useDispatch)(),c=Object(r.a)(),l=c.isAuth&&!!c.boardCount&&c.boardCount<5,d=Object(s.b)("web_curation_save_behavior"),u=l&&e&&d().anyEnabled,p=Object(o.a)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:c.isAuth&&c.id},dangerouslyDisableFetch:!u||!e});return c.isAuth&&void 0===c.save_behavior&&p&&null!==(t=p.data)&&void 0!==t&&t.id&&n(Object(a.b)(p.data.save_behavior)),{showEnabledSaveBehavior:u}}function p(e){const t=Object(r.a)();let n;return e&&(t.save_behavior===c?n={type:"classic"}:t.save_behavior===l&&(n={type:"inline"})),{saveBehaviorType:n}}},wzxk:function(e,t,n){n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("9Hsp");const o=e=>"string"==typeof e?e:"",r=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,a=e=>{const{grid_title:t}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:i}=(e=>{const{place_summary:t,rich_summary:n}=e||{},i=n&&"mobile application"!==n.type_name;return{hasRichSummary:i,hasRichAttributionTitle:i&&n.display_name,hasPlaceInfo:!!t}})(e),o=r(e);return t&&t.trim()?t.trim():n?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:i}=t;return n=n||{},i=i||{},{faviconLink:n["50x"]||i["50x"]||n.orig||i.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:i?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&o?o:null},s=e=>{const t=e.pin_join||{},n=t.visual_annotation||[],o=n.map(e=>(t.annotations_with_links||{})[e]||{name:e,url:""});let r="";const a=(e.rich_metadata||{}).description||"",s=e.closeup_unified_description||"",c=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),l=a.toLocaleLowerCase().trim(),d=s.toLocaleLowerCase().trim();return s&&s.length>3&&d!==c?r=s:a&&a.length>3&&l!==c&&(r=a),r&&(r=Object(i.a)(Object(i.b)(r,496)).trim()),{description:r,vaseAnnotations:n,annotationsWithLinks:o}},c=(e,t,n)=>{const i=(n||[]).map(e=>e.name),o=e=>(e||[])[0]||null;return a(e)||o(t)||o(i)||e.title},l=(e,t,n)=>{const i=o(e);let r=i;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),a=o(t);n!==i.toLowerCase()&&n!==a.trim().toLowerCase()&&(r=e)}let a=n.visual_annotation;a&&(a=a.join(", "),r&&(r+=" "),r+=a)}return r}},"x/xQ":function(e,t){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},ynlw:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("63p3"),o=n("Y8Sn");function r(e){const{access:t,attribution:n,buyable_product:r,embed:a,is_eligible_for_web_closeup:s,rich_summary:c,sponsorship:l,story_pin_data_id:d,videos:u}=e,p={isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};Object(i.a)(e)&&(p.isCarousel=!0),s&&(p.isOneTap=!0),Object(o.j)(u)&&(p.isVideo=!0);const b=a||n&&n.embed||null;return b&&"gif"===b.type&&(p.isGif=!0),(r||c&&"product"===c.type_name)&&(p.isProduct=!0),c&&"recipe"===c.type_name&&(p.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(p.isPromoted=!0),(t||[]).includes("write")&&(p.isOwnPin=!0),d&&(p.isStoryPin=!0),l&&(p.isSponsored=!0),p}},zq6P:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=Object(i.createContext)(Object.freeze({})),r=o.Provider;function a(){return Object(i.useContext)(o)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/6-5f9a8aab596412a70c11.mjs.map