// [Bang & olufsen]  Build version: 1.0.0 - Thursday, May 6th, 2021, 7:33:19 AM  
 (window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"/jKG":function(e,t,a){"use strict";var o=a("J33/");a.d(t,"a",function(){return o.a})},"8ZRQ":function(e,t){},Gw6M:function(e,t,a){"use strict";var o=a("mXGw"),r=a.n(o),n=a("8Jek"),i=a.n(n),s=a("kMCw"),c=a("hsHj"),l=a("UutA"),d=a("yAx5"),g=Object(l.b)(["&.contentNotFound{@media ","{max-width:unset;padding:0 26px;}@media ","{padding:0 24px;}@media ","{padding:0 36px;}.o-error{text-align:center;font-family:",";color:",";p{letter-spacing:0.4px;}}.o-imageContainer{position:relative;width:100%;}.o-oh-no{font-size:32px;font-weight:",";margin-top:10px;@media ","{font-size:",";}}.o-error__status{font-weight:",";margin-top:40px;color:",";font-size:",";@media ","{margin-top:150px;}}.o-error__description{margin-top:18px;color:",";font-size:",";@media ","{margin-top:10px;}}.return-home{@media ","{margin-bottom:100px;}}}"],e=>e.theme.mediaQuery.large,e=>e.theme.mediaQuery.mediumOnly,e=>e.theme.mediaQuery.medium,e=>e.theme.fonts.primaryFontFamily,e=>e.theme.colors.BLACK,e=>e.theme.fonts.fontWeight.light,e=>e.theme.mediaQuery.medium,e=>Object(d.c)(e.theme.fonts.fontSize.heading.large.h2),e=>e.theme.fonts.fontWeight.medium,e=>e.theme.colors.BLACK,e=>Object(d.c)(e.theme.fonts.fontSize.icon.tertiary),e=>e.theme.mediaQuery.medium,e=>e.theme.colors.GREY111,e=>Object(d.c)(e.theme.fonts.fontSize.body.small.primary),e=>e.theme.mediaQuery.medium,e=>e.theme.mediaQuery.medium),u=a("dXIF"),m=a("Qqhj"),p=a("WRbp"),h=r.a.createElement;class b extends o.PureComponent{render(){const{errorInfo:e,locale:t,className:a}=this.props,o=i()("container contentNotFound",a),r=e&&e.get("title"),n=e&&e.get("description"),c=e&&e.get("descriptionRichText"),l=e&&e.get("subtitle"),d=e&&e.get("callToAction"),g=d&&d.get("url"),p=Object(s.V)({pathname:g,query:{language:t}}),b="".concat(g).concat(t),y=d&&d.get("title");return e?h("div",{className:o},h("div",{className:"o-imageContainer"},h("div",{className:"o-error"},h("div",{className:"col-xs-12 col-md-offset-3 col-md-6 "},h("p",{className:"o-error__status"},r),h("h2",{className:"o-oh-no"},l),h("p",{className:"o-error__description"},n),c&&h(m.a,{data:c,className:"o-error__description"}),h(u.a,{variant:"secondary",className:"return-home",labelText:y,as:b,to:p}))))):null}}b.displayName="ContentNotAvailable";const y=Object(p.a)(b);var f=Object(c.a)(y,g);a.d(t,"a",function(){return f})},IIhZ:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/category",function(){return a("mivv")}])},LpH5:function(e,t,a){"use strict";var o=a("Rbzu"),r=a("azxR"),n=a("mXGw"),i=a.n(n),s=a("bBV7"),c=a.n(s),l=a("8Jek"),d=a.n(l),g=a("UutA"),u=a("v4gl");const m=Object(g.d)([" "," "],u.a.filterContent);var p=Object(g.b)(["&.m-filteredCategories{overflow:hidden;transition:max-height "," ",";.category-items{margin-top:20px;@media ","{margin-top:40px;}","}&.-isFiltering{animation:"," "," "," forwards;}.o-productListing{&.-use-margin{margin-top:0;}}.m-filteredCategories__observer{height:7px;}}"],e=>e.theme.duration.xslow,e=>e.theme.easing.primary,e=>e.theme.mediaQuery.medium,e=>e.zoomImageOnHover&&Object(g.b)([".a-observer{overflow:hidden;img{transition:all 0.3s;&:hover{transform:scale(1.2);}}}"]),m,e=>e.theme.duration.normal,e=>e.theme.easing.primary),h=a("hsHj"),b=a("xDfw"),y=a("v0uu"),f=a("eGXg"),I=a("WRbp"),O=a("kMCw"),C=a("FvK5"),v=Object(g.b)(["&.m-filterTabs{&.a-container{margin-top:20px;margin-bottom:0;@media ","{margin-top:30px;}}+ .a-container{margin-top:20px;@media ","{margin-top:40px;}}.m-filterTabs__wrapper{border-top:",";border-bottom:",";.filterTabs_selectLabel{font-size:12px;line-height:16px;margin:0;padding:8px 0 0;color:",";letter-spacing:0;@media ","{display:none;}}}.m-filterTabs__list{overflow:hidden;transition:max-height "," ",";@media ","{display:flex;flex-wrap:wrap;justify-content:center;overflow:visible;.a-filterTab{.a-filterTab__anchor{padding:12px 0 9px;}}}&:not(.-isExpanded){max-height:0 !important;@media ","{max-height:none !important;}}}.a-filterButton{position:relative;width:100%;padding:4px 0 8px 0;margin:0;letter-spacing:2px;text-align:left;cursor:pointer;background:",";@media ","{display:none;}.a-animatedIcon{position:absolute;right:7px;top:auto;bottom:10px;height:100%;transform:rotate(90deg);&.-chevronDropDown{width:12px;}}.-isAnimating{bottom:15px;}}}"],e=>e.theme.mediaQuery.medium,e=>e.theme.mediaQuery.small,e=>e.theme.borders.secondary,e=>e.theme.borders.secondary,e=>e.theme.colors.TEXT.GREY2,e=>e.theme.mediaQuery.small,e=>e.theme.duration.normal,e=>e.theme.easing.easeOutQuart,e=>e.theme.mediaQuery.small,e=>e.theme.mediaQuery.small,e=>e.theme.colors.WHITE,e=>e.theme.mediaQuery.small),j=a("2W2t"),w=a("gOf/"),x=a("z3IF"),S=Object(g.b)(["&.a-filterTab{display:block;&.-active{display:none;@media ","{display:flex;}}.a-filterTab__anchor{position:relative;display:block;height:100%;width:100%;padding:13px 0 12px;margin:0;letter-spacing:2px;text-align:left;text-decoration:none;border-top:",";cursor:pointer;color:",";@media ","{border:none;word-break:break-word;width:auto;display:flex;align-items:center;margin-left:25px;margin-right:25px;line-height:1.5;}&::before,&::after{content:'';display:none;height:2px;width:100%;transform:scaleX(0);position:absolute;bottom:-1px;left:0;background-color:",";@media ","{display:block;}}&::before{transition:transform "," ",";transform-origin:left;}&::after{transition:transform "," ",";transform-origin:right;}&:hover,&:active,&:focus{color:",";&::before{transform:scaleX(1);}}&.-active{color:",";&::after{transition:transform 0s;transform:scaleX(1);}}}}"],e=>e.theme.mediaQuery.small,e=>e.theme.borders.secondary,e=>e.theme.colors.TEXT.GREY2,e=>e.theme.mediaQuery.small,e=>e.theme.colors.BLACK,e=>e.theme.mediaQuery.small,e=>e.theme.duration.normal,e=>e.theme.easing.easeOutQuart,e=>e.theme.duration.normal,e=>e.theme.easing.easeOutQuart,e=>e.theme.colors.TEXT.BLACK,e=>e.theme.colors.TEXT.BLACK),E=a("LvZw"),T=i.a.createElement;class _ extends n.PureComponent{constructor(){super(...arguments),Object(r.a)(this,"handleOnClick",e=>{const{onClickHandler:t,router:{query:a,pathname:r},categoryProducts:n,filterChange:i}=this.props;t(e);const s=Object(o.a)({},a,{tag:e}),c=r==="/".concat(y.tc)?b.je:b.J;n(Object(o.a)({},s,{analyticsEvent:c}),i)}),Object(r.a)(this,"handleKeyPress",(e,t)=>{e.which!==y.S&&e.which!==y.rc||this.handleOnClick(t)})}render(){const{className:e,data:t,isActive:a,slnId:o,constructUrl:r}=this.props,n=t.get("key"),i=t.get("value"),s=d()("".concat(e," a-filterTab"),{"-active":a}),c=d()("a-filterTab__anchor h6",{"-active":a});return T("li",{role:"tab","aria-selected":a,className:s,"data-sln-id":o},T(E.a,Object(x.a)({className:"".concat(c," focus-styling"),handleLinkClick:()=>this.handleOnClick(n),forceClick:!0,scroll:!1,shallow:!0,tabIndex:"0",onKeyPress:e=>this.handleKeyPress(e,n),slnId:"".concat(o,"_filter_").concat(i)},r(n)),i))}}_.displayName="FilterTab";var A=Object(h.a)(_,S),P=i.a.createElement;class D extends n.PureComponent{constructor(){super(...arguments),Object(r.a)(this,"state",{isExpanded:!1}),Object(r.a)(this,"setElementMaxHeight",()=>{const e=this.list.current.scrollHeight;this.list.current.style.maxHeight="".concat(e,"px")}),Object(r.a)(this,"handleOnAnchorClick",e=>{const{isExpanded:t}=this.state,{activeFilterItem:a,handleFilterClick:o}=this.props,r=window.matchMedia("(max-width: ".concat(f.a.small,"px)")).matches;r&&this.setState({isExpanded:!t}),!r&&t&&this.setState({isExpanded:!1}),a!==e&&o(e)}),Object(r.a)(this,"handleOnButtonClick",()=>{const{isExpanded:e}=this.state;if(!e){this.setElementMaxHeight();const e=this.list.current.offsetTop-window.innerHeight/4;Object(O.b)(e)}this.setState({isExpanded:!e})}),Object(r.a)(this,"list",Object(n.createRef)()),Object(r.a)(this,"renderMobileButton",(e,t)=>{const{tags:a,activeFilterItem:o}=this.props,r=a.push(Object(C.fromJS)({key:y.Sc,value:t||"VIEW ALL"})),n=(r.find(e=>e.get("key")===o&&e)||r.get(0)).get("value"),i=d()("a-filterButton focus-styling -button h6",{"-active":e});return P("button",{className:i,onClick:this.handleOnButtonClick},n,P(w.a,{icon:"chevronDropDown",isAnimating:e}))})}componentDidMount(){window.matchMedia("(max-width: ".concat(f.a.small,"px)")).matches&&this.list.current&&this.setElementMaxHeight()}render(){const{isExpanded:e}=this.state,{className:t,tags:a,activeFilterItem:o,router:r,categoryProducts:i,categoryLabels:s,slnId:c,filterChange:l,useSlug:g,constructUrl:u,categorySelectLabel:m}=this.props,p=d()("m-filterTabs__list -noBullets",{"-isExpanded":e}),h=s.get("viewAllLabel");return P(j.a,{className:"".concat(t," m-filterTabs"),"data-sln-id":"".concat(c,"_filters_container"),useMargin:!0},P("div",{className:"m-filterTabs__wrapper"},P(n.Fragment,null,P("h3",{className:"filterTabs_selectLabel"},m),this.renderMobileButton(e,h),P("ul",{role:"tablist",className:p,ref:this.list},P(A,{data:Object(C.fromJS)({key:y.Sc,value:h||"VIEW ALL"}),isActive:o===y.Sc,onClickHandler:this.handleOnAnchorClick,categoryProducts:i,router:r,slnId:"".concat(c,"_filters"),filterChange:l,useSlug:g,constructUrl:u}),a.map(e=>{const t=e.get("key");return P(A,{data:e,isActive:o===t,onClickHandler:this.handleOnAnchorClick,key:t,router:r,categoryProducts:i,slnId:"".concat(c,"_filters"),filterChange:l,useSlug:g,constructUrl:u})})))))}}D.displayName="FilterTabs";const L=Object(I.a)(D);var N=Object(h.a)(L,v),k=a("RyNn"),F=i.a.createElement;class R extends n.PureComponent{constructor(e){super(e),Object(r.a)(this,"onAnimationEndEvent",e=>{const{className:t}=e.target;t===this.wrapper.current.className&&setTimeout(()=>{this.onAnimationEnd()},100)}),Object(r.a)(this,"onAnimationEnd",()=>{this.setState({isFiltering:!1})}),Object(r.a)(this,"onFilterClick",e=>{this.setState({isFiltering:!0,activeFilterItem:e,hasClicked:!0},this.navigationtUrl(e))}),Object(r.a)(this,"navigationtUrl",e=>{const{router:{query:t},pageType:a}=this.props;if(a===b.gd.CATEGORY){const{url:a,urlQueryParam:o}=this.setUrlParam(e);c.a.push({pathname:"/category",query:o},"/".concat(t.language).concat(a),{shallow:!0})}}),Object(r.a)(this,"setUrlParam",e=>{const{router:{query:t,pathname:a},useSlug:r}=this.props,n=Object(o.a)({},t,{tag:e}),i=r?"/".concat(t.categoriesSlug):"",s=a==="/".concat(y.tc)?"/".concat(y.uc):"",c=a==="/".concat(y.tc)?"".concat(e):"".concat(y.Y,"/").concat(e);return{url:"".concat(s).concat(i).concat(e!==y.Sc?"/".concat(c):""),urlQueryParam:n}}),Object(r.a)(this,"setElementMaxHeight",()=>{if(!this.state.hasClicked)return;const e=this.wrapper.current,t=e.scrollHeight;e.style.maxHeight="".concat(t,"px")}),Object(r.a)(this,"constructUrl",e=>{const{router:{query:t}}=this.props,{url:a,urlQueryParam:o}=this.setUrlParam(e);return{as:"/".concat(t.language).concat(a),to:Object(O.V)({pathname:a,query:o})}}),Object(r.a)(this,"paginationCall",e=>{(e[0].isIntersecting||e[0].intersectionRatio>0)&&this.props.productsData&&this.props.loadMore&&this.props.pageCount>=this.props.page&&this.props.categoryProducts(Object(o.a)({},this.props.router.query,{page:this.props.page,append:!0,loadMore:this.props.loadMore,analyticsEvent:b.a}),this.props.filterChange)}),Object(r.a)(this,"wrapper",Object(n.createRef)()),this.state={isFiltering:!1,activeFilterItem:this.props.router.query.tag||y.Sc},this.filterWrapper=i.a.createRef()}async componentDidMount(){const e=this.wrapper.current;this.setElementMaxHeight(),e.addEventListener("animationend",this.onAnimationEndEvent,!1),window.IntersectionObserver||await Promise.resolve().then(a.t.bind(null,"62jW",7)),this.productBottomObserver=new IntersectionObserver(e=>{this.paginationCall(e)},{root:null,rootMargin:"1500px",threshold:0}),this.productBottomObserver.observe(this.ProductListBottomRef)}componentWillReceiveProps(e){e.router.query&&e.router.query.tag?this.setState({activeFilterItem:e.router.query.tag||y.Sc}):this.setState({activeFilterItem:y.Sc})}componentDidUpdate(e){const t=this.filterWrapper.current,{withCountryNotification:a}=this.props,o=window.matchMedia("(max-width: ".concat(f.a.small,"px)")).matches,r=window.matchMedia("(max-width: ".concat(f.a.medium,"px)")).matches;let n;e.router.asPath!==this.props.router.asPath&&(t.scrollIntoView&&t.scrollIntoView(),n=o?a?100:40:r?a?100:28:a?100:30,window.scroll(0,window.scrollY-n))}componentWillUnmount(){this.wrapper.current.removeEventListener("animationend",this.onAnimationEndEvent,!1)}render(){const{activeFilterItem:e,isFiltering:t}=this.state,{className:a,tags:o,locale:r,router:n,categoryProducts:i,productsData:s,categoryLabels:c,cmsLabel:l,slnId:g,filterChange:u,listName:m,pageType:p,viewportInfo:h,deviceInfo:b,swatchPlusIconAltText:y,enableTagFilters:f,useSlug:I,saleCategory:O,soldOutLabel:C}=this.props,v=s.get(e)||s.get("viewAll")||s,j=l.get("chooseYourCategoryLabel"),w=d()(a,"m-filteredCategories",{"-isFiltering":t});return F("div",{className:w,ref:this.filterWrapper},f&&o&&F(N,{tags:o,handleFilterClick:this.onFilterClick,activeFilterItem:e,router:n,categoryProducts:i,categoryLabels:c,slnId:g,filterChange:u,useSlug:I,constructUrl:this.constructUrl,categorySelectLabel:j}),this.props.children,F("div",{className:"".concat(w," category-items"),ref:this.wrapper,"data-sln-id":g},F(k.a,{categoryLabels:c,cmsLabel:l,domRef:this.wrapper,items:v,listName:m,locale:r,onAnimationEnd:this.onAnimationEnd,pageType:p,slnId:g,type:n.pathname,viewportInfo:h,deviceInfo:b,swatchPlusIconAltText:y,handleFilterClick:this.onFilterClick,filterChange:u,categoryProducts:i,activeFilterItem:e,constructUrl:this.constructUrl,saleCategory:O,soldOutLabel:C,router:n}),F("div",{className:"m-filteredCategories__observer",ref:e=>{this.ProductListBottomRef=e}})))}}R.displayName="FilteredCategories";const H=Object(I.a)(R);var M=Object(h.a)(H,p);a.d(t,"a",function(){return M})},mivv:function(e,t,a){"use strict";a.r(t);var o=a("z3IF"),r=a("2Fjn"),n=a("Rbzu"),i=a("azxR"),s=a("mXGw"),c=a.n(s),l=a("FvK5");const d="LOAD_CATEGORY_PRODUCTS",g="VALIDATE_CAMPAIGN_PAGE",u="authToken",m=(e,t)=>e.set("showLoader",t);var p=a("/jKG"),h=a("7XJb"),b=a("sW4n");const y=(e,t)=>({type:d,data:e,filterChange:t}),f=(e,t)=>({type:"LOAD_CATEGORY_PRODUCTS_SUCCESS",data:e,fields:t}),I=e=>({type:"VALIDATE_CAMPAIGN_PAGE_FAILURE",error:e}),O=(e,t)=>({type:"VALIDATE_CAMPAIGN_PAGE_SUCCESS",data:e,fields:t}),C=()=>({type:"FNF_SHOW_LOADER"}),v=()=>({type:"FNF_HIDE_LOADER"});var j=[y],w=a("v0uu"),x=a("D36L"),S=a("kddo"),E=a("kMCw");function*T(e){try{const a=yield Object(h.d)(),{categoriesSlug:o,tag:r,page:n}=e&&e.data;if(!a.getIn(["categoryPage","products",o])){const t=yield Object(h.b)(b.a.fetch,"".concat(w.k.productsSearch,"/").concat(o),e);e.filterChange&&e.filterChange(Object(l.fromJS)(t),e.data.analyticsEvent);const a={slug:o,tag:r,page:n};yield Object(h.c)(f(t,a))}}catch(t){yield Object(h.c)(Object(x.f)(t))}}function*_(e){try{const a=yield Object(h.d)(),o=a&&a.getIn(["global","header","loginAPI","saleCookieTimeoutSeconds"]);yield Object(h.c)(C());const{userInput:r,userAuthenticationType:n,cartId:i,slug:s}=e.data,c={userInput:r,userAuthenticationType:n};let l={};i&&(l={cartId:i});const d=yield Object(h.b)(b.a.fetch,"".concat(w.k.validateCategoryCampaignUser,"/").concat(e.data.slug,"?page=").concat(e.data.page?e.data.page:1),e,{method:"POST",data:c},l),g={slug:s};d&&d.userAuthDetails&&d.userAuthDetails.isAuthenticated&&(yield Object(h.c)(v()),Object(E.R)(u,d.userAuthDetails.authToken,1e3*o,!0)),yield Object(h.c)(O(d,g)),yield Object(h.c)(Object(S.e)())}catch(t){yield Object(h.c)(v()),yield Object(h.c)(I(t))}}var A=a("lgvl"),P=a("UutA"),D=a("yAx5"),L=P.c.div.withConfig({componentId:"sc-7eqkb6-0"})([".categoryPageHero{.o-hero__wrapper{&.-overlap{.o-hero__content{min-height:fit-content;margin-top:0;padding-top:8%;padding-bottom:2%;&.heroForm{.o-hero__description{margin-bottom:35px;display:block;p{margin-bottom:0;font-size:",";line-height:1.3;@media ","{font-size:",";}}.a-anchorButton{color:",";.a-animatedIcon,.a-svgIcon{fill:",";&.-arrowRight{&.-left,&.-right{&::before{background-color:",";}}}}}}.dynamic-placeholder{color:",";}input[type=text]{background-color:transparent;color:",";}.radioButtons{display:flex;align-content:space-between;justify-content:center;margin-bottom:20px;.radio-container{color:",";display:flex;margin-right:20px;}}.input{position:relative;p.error{position:absolute;line-height:1;}}.error-message{margin-top:10px;font-size:",";}.secondary-cta-refurbished{margin-top:0;&.disabled{border-color:",";background-color:transparent;color:",";cursor:no-drop;.a-animatedIcon,.a-svgIcon{fill:",";cursor:no-drop;&.-arrowRight{&.-left,&.-right{&::before{background-color:",";}}}}&:hover,&:active,&:focus{.a-animatedIcon,.a-svgIcon{fill:",";&.-arrowRight{&.-left,&.-right{&::before{background-color:",";}}}}}}}.disclaimer-text{font-size:",";margin-top:48px;color:",";}}}}}}"],e=>Object(D.c)(e.theme.fonts.fontSize.body.small.secondary),e=>e.theme.mediaQuery.medium,e=>Object(D.c)(e.theme.fonts.fontSize.body.large.secondary),e=>e.theme.colors.WHITE,e=>e.theme.colors.WHITE,e=>e.theme.colors.WHITE,e=>e.theme.colors.WHITE,e=>e.theme.colors.WHITE,e=>e.theme.colors.WHITE,e=>Object(D.c)(e.theme.fonts.fontSize.link.small.primary),e=>e.theme.colors.GREY,e=>e.theme.colors.GREY,e=>e.theme.colors.GREY,e=>e.theme.colors.GREY,e=>e.theme.colors.GREY,e=>e.theme.colors.GREY,e=>Object(D.c)(e.theme.fonts.fontSize.body.small.quaternary),e=>e.theme.colors.WHITE),N=a("vqyR"),k=a("LpH5"),F=a("hsHj"),R=Object(P.b)([".title{font-size:",";text-transform:none;}"],e=>Object(D.c)(e.theme.fonts.fontSize.body.small.primary)),H=(a("8ZRQ"),c.a.createElement),M=Object(F.a)(e=>{let{title:t,description:a,className:o}=e;return H("div",{className:"container-fluid"},H("div",{id:"termsAndConditions",className:"".concat(o," col-md-6 col-md-offset-3")},H("h5",null,t),H("p",null,a)))},R),U=a("DnVn"),G=a("Gw6M"),q=a("2fe0"),Q=a("gCY8"),z=a("Gtlg"),W=a("h4+X"),B=a("xDfw"),V=c.a.createElement;class J extends s.PureComponent{constructor(e){var t;super(e),t=this,Object(i.a)(this,"pageLoadAnalytics",()=>{const{categoryData:e=Object(l.Map)(),userInfo:t,cartData:a,currencyCode:o,router:r}=this.props,{categoriesSlug:n}=r.query,i=e.getIn([n,"preSaleHeroItem"]),s=e.getIn([n,"postSaleHeroItem"]),c=e.getIn([n,"configuration"]),d=e.getIn([n,"heroItem"]),g=r.query.tag?r.query.tag:B.Ee;let u=B.K,m="".concat(B.K,":").concat(e.get("title"));const p=c&&c.get("enabled");i?(m="".concat(m,":").concat(w.ac),u="".concat(u,":").concat(w.cb)):s?(m="".concat(m,":").concat(w.Rb),u="".concat(u,":").concat(w.cb)):d&&"undefined"!==typeof c&&p&&(m="".concat(m,":").concat(w.hc),u="".concat(u,":").concat(w.cb));const h=Object(z.b)({userInfo:t,pageType:m,cartData:a,pageName:m,currencyCode:o});e&&Object(z.d)([g],B.hd,Object(l.fromJS)(this.refineProduct(e.get("cards"))),u,h,!0)}),Object(i.a)(this,"lastProductIndex",0),Object(i.a)(this,"refineProduct",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.List)();const a=e.toJS().reduce((e,a,o)=>(a.cardType!==B.yd&&a.cardType!==B.ue||!a.item||e.push(Object(n.a)({},a.item[0],{position:t.lastProductIndex+o})),e),[]);return t.lastProductIndex=e.size,a}),Object(i.a)(this,"filterChange",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.Map)(),a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;a!==B.a&&(t.lastProductIndex=0);const{router:r}=t.props,n=r.query.tag||B.Ee,i=B.K;Object(z.d)([n],a,Object(l.fromJS)(t.refineProduct(e.get("cards"))),i,o,!0)}),Object(i.a)(this,"formSubmitHandler",e=>{const{cartId:t,router:a}=this.props,{categoriesSlug:o}=a.query,{email:r,productSerialNumber:i}=e;let s={slug:o,cartId:t};r?s=Object(n.a)({},s,{userInput:r,userAuthenticationType:"email"}):i&&(s=Object(n.a)({},s,{userInput:i,userAuthenticationType:"productSerialNumber"})),this.props.validateCampaignUser(s),this.setState({showBtnLoader:!0})}),Object(i.a)(this,"renderSeoTags",()=>{const{router:e,originalVariantSlug:t,locale:a,categoryData:i}=this.props,{categoriesSlug:s,tag:c}=e.query;let l=i.getIn([s,"seo"]);const d=i.getIn([s,"tags"]),g=d&&d.filter(e=>e.get("key")===c);if(d&&g.size>0&&(l=g.getIn(["0","seo"])),l){const i=l&&l.toJS(),{schemas:s=[]}=i,c=Object(r.a)(i,["schemas"]),d=encodeURI("".concat(w.m).concat(e.asPath));let g=d.split("?")[0].toLowerCase();t&&(g="".concat(w.m,"/").concat(a,"/").concat(t));const u=Object(n.a)({},c,{url:d,site_name:d,canonical:g}),m=[Object(n.a)({},s[0],{url:d}),Object(n.a)({},s[1],{url:d})];return V(q.a,Object(o.a)({},u,{schemas:m}))}return null}),Object(i.a)(this,"getUpdatedValidationForm",()=>{const{inputFieldToShow:e}=this.state,{categoryData:t,router:a}=this.props,{categoriesSlug:o}=a.query,r=t.getIn([o,"configuration","userValidationForm"]),n=(r&&r.get("formFields")).filter(t=>t.get("name").toLowerCase()===e.toLowerCase()?t:null);return r.set("formFields",n)}),Object(i.a)(this,"getInputFieldOptions",()=>{const{categoryData:e,router:t}=this.props,{categoriesSlug:a}=t.query,o=e.getIn([a,"configuration","userValidationForm"]),r=o&&o.get("formFields");return r&&r.map(e=>({id:e.get("name"),label:e.get("label")}))}),Object(i.a)(this,"onRadioInputChange",e=>{e&&(this.setState({inputFieldToShow:e}),this.props.clearServerSideErrors())}),Object(i.a)(this,"renderSalePageHero",()=>{const{cmsLabel:e,isError:t,categoryData:a,router:o}=this.props,{categoriesSlug:r}=o.query,n=a.getIn([r,"preSaleHeroItem"]),i=a.getIn([r,"postSaleHeroItem"]),s=a.getIn([r,"saleCategoryId"]),c=a.getIn([r,"configuration"]),l=c&&c.get("userValidationForm"),d=a.getIn([r,"heroItem"]),g=a.getIn([r,"userAuthDetails"]),{showBtnLoader:u,inputFieldToShow:m}=this.state,p=t,h=c&&c.get("enabled"),b=g&&g.get("isAuthenticated"),y=c&&c.get("saleStartDate"),f=c&&c.get("saleEndDate"),I=c&&c.get("currentDateTime");if(!b&&"undefined"!==typeof c&&h){const e=l&&l.get("hero"),t=this.getUpdatedValidationForm(),a={options:this.getInputFieldOptions(),selected:m,name:s};return V(U.a,{hero:e,slnId:"atm_category_userValidation",heroForm:!0,userValidationForm:t,formSubmitHandler:this.formSubmitHandler,overlapHeader:!0,textError:p,showBtnLoader:u,className:"categoryPageHero",userValidationOptions:a,onRadioInputChange:this.onRadioInputChange})}return n&&b?V(U.a,{hero:n,slnId:"atm_category_categoryTitle",isSalePage:h,saleStartDate:y,saleEndDate:f,currentDateTime:I,cmsLabel:e,overlapHeader:!0,timer:!0,showCounter:!0,className:"categoryPageHero"}):i&&b?V(U.a,{hero:i,slnId:"atm_category_categoryTitle",isSalePage:h,overlapHeader:!0,timer:!0,postSale:!0,className:"categoryPageHero"}):d&&"undefined"!==typeof c&&h&&b?V(U.a,{hero:d,slnId:"atm_category_categoryTitle",isSalePage:h,timer:!0,isSaleOn:!0,className:"categoryPageHero"}):null}),Object(i.a)(this,"getCategoryTitle",()=>{const{categoryData:e,router:t}=this.props,{categoriesSlug:a,tag:o}=t.query;let r=e.getIn([a,"title"]),n=e.getIn([a,"subtitle"]);const i=e.getIn([a,"tags"]),s=i&&i.filter(e=>e.get("key")===o);return i&&s.size>0&&(r="".concat(r," - ").concat(s.getIn(["0","value"])),n=s.getIn(["0","description"])),{title:r,subtitle:n}});const{categoryData:a,router:s}=this.props,{categoriesSlug:c}=s.query,d=a.getIn([c,"saleCategoryId"]),g=a.getIn([c,"configuration"]),u=g&&g.get("userValidationForm"),m=u&&u.get("formFields"),p=g&&g.get("enabled"),h=m&&m.find(e=>"productserialnumber"===e.get("name").toLowerCase()?e:null);let b={showBtnLoader:!1};"undefined"!==typeof g&&p&&d&&(b=Object(n.a)({},b,{inputFieldToShow:h?"productserialnumber":m.getIn(["0","name"])})),this.state=b}componentDidMount(){const{router:e,categoryData:t}=this.props,{categoriesSlug:a}=e.query,o=t.getIn([a,"saleCategoryId"]),r=t.getIn([a,"configuration"]),n=encodeURI("".concat(w.m).concat(e.asPath)),i=r&&r.get("enabled"),s=r&&r.get("saleEndDate");if("undefined"!==typeof r&&i&&o){const e=new Date(s),t=new Date,a=e-new Date(t.toISOString());Object(E.R)("salecategoryid",o,a,!0),Object(E.R)("cartPageMsg",!0,a+36e5,!0),s&&Object(E.o)(u)&&a<=0&&(Object(E.k)(u),window.location.reload())}this.pageLoadAnalytics(),Object(W.b)(a,n)}componentDidUpdate(e){const{router:t,showLoader:a,categoryData:o}=this.props,{categoriesSlug:r}=t.query,{router:n}=e,i=o.getIn([r,"saleCategoryId"]),s=o.getIn([r,"userAuthDetails"]),c=t&&t.query&&t.query.categoriesSlug,l=n&&n.query&&n.query.categoriesSlug,d=s&&s.get("isAuthenticated"),{userAuthDetails:g}=e,u=g&&g.get("isAuthenticated"),m=encodeURI("".concat(w.m).concat(t.asPath));s&&u!==d&&this.renderSalePageHero(),i&&this.setState({showBtnLoader:a}),c!==l&&(this.lastProductIndex=0,this.pageLoadAnalytics(),Object(W.b)(c,m))}render(){const{locale:e,categoryData:t,categoryProducts:a,router:o,cmsLabel:r,viewportInfo:n,deviceInfo:i,swatchPlusIconAltText:s,soldOutLabel:c,homeCountryCookie:d,countryNotificationCookie:g,country:u}=this.props,{categoriesSlug:m}=o.query,p=t&&t.getIn([m,"notAvailableInCountryContent"]),h=t.getIn([m,"preSaleHeroItem"]),b=t.getIn([m,"postSaleHeroItem"]),y=t.getIn([m,"configuration"]),f=y&&y.get("userValidationForm"),I=t.getIn([m,"heroItem"]),O=t.getIn([m,"userAuthDetails"]),C=t.getIn([m,"tags"]),v=t.getIn([m,"cards"]),j=t.getIn([m,"enableTagFilters"])&&C&&C.size>1,w=t.getIn([m,"loadMore"]),x=t.getIn([m,"pagesCount"]),S=t.getIn([m,"count"]),E=t.getIn([m,"newsletter"]),T=t.getIn([m,"termsAndConditions"]),_=t.getIn([m,"localizedSlugs"]),P=t.getIn([m,"filteredCategoryCards"])||t.getIn([m,"cards"]),D=void 0!==d&&d!==u&&"false"!==g,F=[],R=O&&O.get("isAuthenticated");E&&F.push(Object(l.Map)(E));const H=Object(l.List)(F),q=B.K,z=h||b||f&&!R,W=r.get("termsAndConditions"),J=y&&y.get("enabled");return V(A.a,{hasParallax:!0,hasTransparentHeader:"undefined"!==typeof y&&J&&z,showSupportingNav:!p,localizedSlugs:_},this.renderSeoTags(),V(L,null,this.renderSalePageHero(),!("undefined"!==typeof y&&J)&&I&&V(U.a,{hero:I,slnId:"atm_category_categoryTitle11",wide:!0}),t&&P&&V(k.a,{tags:C,enableTagFilters:j,categoryProducts:a,locale:e,router:o,productsData:P,categoryLabels:r,cmsLabel:r,loadMore:w,pageCount:x,pageType:B.gd.CATEGORY,page:S,filterChange:this.filterChange,listName:q,viewportInfo:n,deviceInfo:i,withCountryNotification:D,swatchPlusIconAltText:s,slnId:"atm_category",useSlug:!0,saleCategory:J,soldOutLabel:c},!("undefined"!==typeof y&&J)&&this.getCategoryTitle()&&(this.getCategoryTitle().title||this.getCategoryTitle().subtitle)&&V(N.a,{title:this.getCategoryTitle().title,subtitle:this.getCategoryTitle().subtitle,slnId:"atm_category_categoryTitle",className:"onCategoryPage"})),"undefined"!==typeof y&&J&&v&&V(M,{title:W,description:T}),E&&V(Q.a,{items:H}),p&&V(G.a,{locale:e,errorInfo:p})))}}Object(i.a)(J,"defaultProps",{cmsLabel:Object(l.Map)()}),J.displayName="CategoryPage";var Y=Object(p.a)(J,{mapStateToProps:e=>({categoryData:e.getIn(["categoryPage","products"]),isError:e.getIn(["categoryPage","isError","error","text"]),locale:e.getIn(["global","globalData","userlanguage"]),country:e.getIn(["global","globalData","country"]),cmsLabel:e.getIn(["global","cmsData","Global"]),userInfo:e.getIn(["global","userData","userInfo"]),viewportInfo:e.getIn(["global","globalData","viewportInfo"]),deviceInfo:e.getIn(["global","globalData","deviceInfo"]),currencyCode:e.getIn(["global","globalData","siteSettings","country","currency","code"]),swatchPlusIconAltText:e.getIn(["global","cmsData","Global","swatchPlusIconAltText"]),soldOutLabel:e.getIn(["global","cmsData","Global","soldOutLabel"]),homeCountryCookie:e.getIn(["global","globalData","homeCountryCookie"]),countryNotificationCookie:e.getIn(["global","globalData","displayCountryChangeBanner"]),cartId:e.getIn(["global","cart","cartData","id"]),showLoader:e.getIn(["categoryPage","showLoader"])}),mapDispatchToProps:e=>({categoryProducts:(t,a)=>e(y(t,a)),validateCampaignUser:t=>e((e=>({type:g,data:e}))(t)),clearServerSideErrors:()=>e({type:"CLEAR_IS_ERROR"})}),key:"categoryPage",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.fromJS)({}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CATEGORY_PRODUCTS_SUCCESS":return((e,t)=>{let a="";const{slug:o}=t.fields,r=e.get("products")?e.get("products").toJS():{},{tags:i,cards:s}=t.data;let c;return a=t.data,i&&s&&(c=(e=>{let{tags:t,cards:a}=e;const o={};return t.forEach(e=>{o[e.key]=[]}),a.forEach(e=>{e.item&&e.item.map(t=>{const a=t.productDetail&&t.productDetail.tags;a&&a.forEach(t=>{o[t.key]?o[t.key].push(e):o[t.key]=[e]})})}),o.viewAll=a,o})({tags:i,cards:s})),a.count=2,a.filteredCategoryCards=c,e.set("products",Object(l.fromJS)(Object(n.a)({},r,{[o]:a})))})(e,t);case"VALIDATE_CAMPAIGN_PAGE_SUCCESS":return((e,t)=>{const{slug:a}=t.fields;let o="";const r=e.get("products")?e.get("products").toJS():{};return Number(t.page)>1?((o=e.get("products").toJS()).count=t.page+1,o.loadMore=t.data.loadMore,o.cards.push(...t.data.cards),e.set("products",Object(l.fromJS)(Object(n.a)({},r,{[a]:o})))):((o=t.data).count=2,e.set("products",Object(l.fromJS)(Object(n.a)({},r,{[a]:o}))))})(e,t);case"VALIDATE_CAMPAIGN_PAGE_FAILURE":return((e,t)=>e.set("isError",Object(l.fromJS)(t.error.data)))(e,t);case"CLEAR_IS_ERROR":return(e=>e.set("isError",""))(e);case"FNF_SHOW_LOADER":return m(e,!0);case"FNF_HIDE_LOADER":return m(e,!1);default:return e}},saga:function*(){try{yield Object(h.a)([Object(h.f)(d,T)]),yield Object(h.f)(g,_)}catch(e){yield Object(h.c)(Object(x.f)(e))}},initialActions:j,useQuery:!0,criticalState:[["categoryPage","products"],["global","header","categories"]]});a.d(t,"default",function(){return Y})},vqyR:function(e,t,a){"use strict";var o=a("mXGw"),r=a.n(o),n=a("hsHj"),i=a("UutA"),s=Object(i.b)(["&.m-categoryTitle{display:flex;align-items:center;.m-categoryTitle__wrapper{background-color:",";padding-top:30px;padding-bottom:10px;@media ","{padding-top:60px;padding-bottom:20px;}@media ","{padding-bottom:40px;}h1{margin-bottom:20px;@media ","{margin-bottom:32px;}span{padding-bottom:0;line-height:50px;@media ","{line-height:56px;}}}}h3{margin:0;padding:0;}&.storyHubTitle{.m-categoryTitle__wrapper{padding-bottom:60px;margin-top:10px;@media ","{padding-top:30px;padding-bottom:30px;margin-top:0;}}}}"],e=>e.theme.colors.BACKGROUND.WHITE,e=>e.theme.mediaQuery.small,e=>e.theme.mediaQuery.smallOnly,e=>e.theme.mediaQuery.medium,e=>e.theme.mediaQuery.medium,e=>e.theme.mediaQuery.smallMax),c=a("2W2t"),l=a("WRbp"),d=r.a.createElement;class g extends o.PureComponent{render(){const{className:e,title:t,subtitle:a,slnId:o}=this.props;return d("div",{className:"".concat(e," m-categoryTitle"),"data-sln-id":"automation_categoryTitle_container"},d(c.a,{disablePadding:!0},d("div",{className:"m-categoryTitle__wrapper"},d("div",{className:"row"},d("div",{className:"col-xs-12 col-md-offset-2 col-md-8","data-sln-id":"".concat(o,"_container")},d("h1",{"data-sln-id":"".concat(o,"_title")},d("span",null,t)),a&&d("p",{"data-sln-id":"".concat(o,"_subtitle")},a))))))}}g.displayName="CategoryTitle";const u=Object(l.a)(g);var m=Object(n.a)(u,s);a.d(t,"a",function(){return m})}},[["IIhZ",2,1,0,3,4,5,6,8,7,9,10,12,11,13,14]]]); 